window.__require=function t(e,o,i){function n(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({App:[function(t,e,o){"use strict";cc._RF.push(e,"a9016vn4UtNaro0Avncb6DY","App");var i,n,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Base/BaseClass"),a=t("./Net/HttpRequest"),c=t("./Net/HttpServerManager"),l=t("../script/i18n_script/LanguageData"),p=t("./Util/ScoreUtil");new(function(e){function o(){var o=e.call(this)||this;return o.BaseClass=s.BaseClass,o.Client=null,o.JS_Name="App",o.GetGlobal().app=o,o.require=t,o}return r(o,e),o.prototype.GetGlobal=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;throw new Error("unable to locate global object")},o.prototype.GetInstance=function(t){if(this.require(t))return this.require(t).GetModel();this.ErrLog("not find Instance name:%s",t)},o.prototype.ScoreUtil=function(){return p.ScoreUtil.GetInstance()},Object.defineProperty(o.prototype,"i18n",{get:function(){return l.default.inst},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"emitter",{get:function(){return n||(n=t("emitter")),n},enumerable:!1,configurable:!0}),o.prototype.HttpRequest=function(){return a.HttpRequest.GetInstance()},o.prototype.HttpServerManager=function(){return c.HttpServerManager.GetInstance()},o}(s.BaseClass)),cc._RF.pop()},{"../script/i18n_script/LanguageData":"LanguageData","./Base/BaseClass":"BaseClass","./Net/HttpRequest":"HttpRequest","./Net/HttpServerManager":"HttpServerManager","./Util/ScoreUtil":"ScoreUtil",emitter:"emitter"}],AudioConfig:[function(t,e,o){"use strict";cc._RF.push(e,"a7e6fnLqU5EiZhNoHYyo6Xf","AudioConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.default={tenMultipleScroll:[0,7.5],scroll:[38,38.1],startScroll:[39,40],fastScrollStop:[41.9,42.2],scrollStop:[40.8,41.1],littleWinRole1:[62.9,64.5],littleWinRole2:[61.9,62.8],littleWinRole3:[64.9,66.5],mediumWinRole1:[58.8,60.8],mediumWinRole2:[56.8,58.5],mediumWin:[27,28.6],mediumWinNumChange:[33,35],mediumWinNumChangeFinish:[35,36.4],winLine:[36.8,37.6],allWinLine:[28.9,30.2],rsStart1:[47,48.4],rsStart2:[14.8,18.4],rsWin:[51.2,52.1],rsExit:[49.1,50.2],dup:[54.8,56.8],col1col3Light:[11.9,14.5],flyTenTextToCenter:[18.9,23],flyTenTextToMoney:[24.9,26.6],wildLightStart:[44.9,45.6],wildLightEnd:[42.9,43.8],wildCollect:[53,54.9],clickSymbol:[45.9,46.1],luckyModeStartScroll:[8,9.4]},cc._RF.pop()},{}],AutoTimesButton:[function(t,e,o){"use strict";cc._RF.push(e,"b1bc1EWoIBOZbXJsZgPPg8e","AutoTimesButton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.times=1,e.normalColor=cc.color(255,255,255),e.hoverColor=cc.color(255,200,36),e.selectedColor=cc.color(255,200,36),e.normalOpacity=77,e.hoverOpacity=77,e.selectedOpacity=255,e}return n(e,t),Object.defineProperty(e.prototype,"isSelect",{get:function(){return this._isSelected},set:function(t){this._isSelected=t,this.updateColor()},enumerable:!1,configurable:!0}),e.prototype.updateColor=function(){this.target.color=this._isSelected?this.selectedColor:this.normalColor,this.target.opacity=this._isSelected?this.selectedOpacity:this.normalOpacity},e.prototype.onLoad=function(){this._isSelected=!1},e.prototype.onEnable=function(){cc.sys.isMobile?(this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseEnter,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onMouseUp,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseLeave,this)):(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onDisable=function(){cc.sys.isMobile?(this.node.off(cc.Node.EventType.TOUCH_START,this.onMouseEnter,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onMouseUp,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseLeave,this)):(this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onMouseEnter=function(){this._isSelected||(this.target.color=this.hoverColor,this.target.opacity=this.hoverOpacity)},e.prototype.onMouseUp=function(){this.onClick&&this.onClick(this.node,this.times)},e.prototype.onMouseLeave=function(){this._isSelected||(this.target.color=this.normalColor,this.target.opacity=this.normalOpacity)},r([c(cc.Node)],e.prototype,"target",void 0),r([c(cc.Integer)],e.prototype,"times",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],BaseClass:[function(t,e,o){"use strict";cc._RF.push(e,"ac54dG3KENFOLvKUJaLU8pG","BaseClass");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseClass=void 0;var n=cc._decorator.ccclass,r={"b-gb1":"background: #255; color: #ff80ff","b-gb":"background: #255; color: #00ffff","b-g":"background: #255; color: #00ff00","w-g":"background: #0; color: #007f00"},s=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.JS_Name="BaseClass",this.Init.apply(this,t)}return t.prototype.Init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.OnReload=function(){},t.prototype.IsDevelopment=function(){return!0},t.prototype.GetLogFormatList=function(t){var e=t.length,o=t[0];if("string"!=typeof o)return t;var i=t[e-1];if("string"==typeof i){var n=r[i];n&&("chrome"==cc.sys.browserType?(t.pop(),o="%c"+o,t.splice(1,0,n)):t.pop())}return t[0]="["+this.JS_Name+"]\t"+o,t},t.prototype.Log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t=this.GetLogFormatList(t),cc.log.apply(this,t))},t.prototype.NetLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t=this.GetLogFormatList(t),cc.log.apply(this,t))},t.prototype.SysLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=this.GetLogFormatList(t),cc.syslog&&cc.syslog.apply(this,t)},t.prototype.WarnLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t=this.GetLogFormatList(t),cc.warn.apply(this,t))},t.prototype.ErrLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t=this.GetLogFormatList(t),cc.error.apply(this,t)},i([n],t)}();o.BaseClass=s,cc._RF.pop()},{}],BaseComponent:[function(t,e,o){"use strict";cc._RF.push(e,"7a72cEwrWZCE5bKhmGKnmuQ","BaseComponent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Define/ShareDefine"),a=cc._decorator,c=a.ccclass,l=(a.property,{right:{DirSwitchName:"isAlignRight",DirValueName:"right"},left:{DirSwitchName:"isAlignLeft",DirValueName:"left"},top:{DirSwitchName:"isAlignTop",DirValueName:"top"},bottom:{DirSwitchName:"isAlignBottom",DirValueName:"bottom"},vertical:{DirSwitchName:"isAlignVerticalCenter",DirValueName:"verticalCenter"},horizontal:{DirSwitchName:"isAlignHorizontalCenter",DirValueName:"horizontalCenter"}}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.JS_Name="BaseComponent",e}return n(e,t),e.prototype.IsDevelopment=function(){return s.Development.IsDevelopment()},e.prototype.Log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t[0]="["+this.JS_Name+"]\t"+t[0],cc.log.apply(this,t))},e.prototype.NetLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t[0]="["+this.JS_Name+"]\t"+t[0],cc.log.apply(this,t))},e.prototype.SysLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t[0]="["+this.JS_Name+"]\t"+t[0],cc.syslog&&cc.syslog.apply(this,t))},e.prototype.WarnLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.IsDevelopment()&&(t[0]="["+this.JS_Name+"]\t"+t[0],cc.warn.apply(this,t))},e.prototype.ErrLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t[0]="["+this.JS_Name+"]\t"+t[0],cc.error.apply(this,t)},e.prototype.onLoad=function(){this.OnLoad()},e.prototype.OnLoad=function(){},e.prototype.BindButtonEvent=function(t,e,o){void 0===o&&(o="");var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.JS_Name,i.handler=e,i.customEventData=o,t?t.clickEvents.push(i):this.ErrLog("BindButtonEvent error")},e.prototype.BindToggleEvent=function(t,e,o){void 0===o&&(o=""),this.Log("BindToggleEvent");var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.JS_Name,i.handler=e,i.customEventData=o,t.getComponent(cc.Toggle).checkEvents=[],t.getComponent(cc.Toggle).checkEvents.push(i)},e.prototype.BindEvent=function(t,e,o){if(void 0===o&&(o=""),t){var i=new cc.Component.EventHandler;i.target=this.node,i.component=this.JS_Name,i.handler=e,i.customEventData=o,t.push(i)}else this.ErrLog("BindEvent error!!")},e.prototype.GetWndProperty=function(t,e){var o=cc.find(t,this.node);if(o){var i=null;return"text"==e?((i=o.getComponent(cc.Label))||(i=o.getComponent(cc.EditBox)),i?i.string:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.Label cc.EditBox",t,e)):"position"==e?o.getPosition():"active"==e?o.active:"color"==e?o.color:"scale"==e?o.scale:"opacity"==e?o.opacity:"interactable"==e?(i=o.getComponent(cc.Button))?i.interactable:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.Button",t,e):"progress"==e?(i=o.getComponent(cc.ProgressBar))?i.progress:void this.ErrLog("GetWndProperty(%s,%s) wnd not find cc.ProgressBar",t,e):void this.ErrLog("GetWndProperty(%s,%s) property error",t,e)}this.ErrLog("GetWndProperty(%s,%s) not find wndPath",t,e)},e.prototype.SetWndProperty=function(t,e,o,i){var n=this.GetWndNode(t,i);if(n){var r=null;if("text"==e){if((r=n.getComponent(cc.Label))||(r=n.getComponent(cc.RichText)?n.getComponent(cc.RichText):n.getComponent(cc.EditBox)),!r)return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Label cc.EditBox",t,e,o);r.string=o+""}else if("position"==e)n.setPosition(o);else if("active"==e)n.active=o;else if("color"==e)n.color=o;else if("image"==e)this.SetWndImage(t,o);else if("scale"==e)n.scale=o;else if("opacity"==e)n.opacity=o;else if("interactable"==e){if(!(r=n.getComponent(cc.Button)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Button",t,e,o);r.interactable=o}else if("progress"==e){if(!(r=n.getComponent(cc.ProgressBar)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.ProgressBar",t,e,o);r.progress=o}else{if("widget"!=e)return void this.ErrLog("SetWndProperty(%s,%s,%s) property error",t,e,o);if(!(r=n.getComponent(cc.Widget)))return void this.ErrLog("SetWndProperty(%s,%s,%s) wnd not find cc.Widget",t,e,o);for(var s=Object.keys(l),a=s.length,c=0;c<a;c++){var p=s[c],h=l[p],u=h.DirValueName,d=h.DirSwitchName;o.hasOwnProperty(p)?(r[d]=!0,r[u]=o[p]):r[d]=!1}r.updateAlignment()}}else this.ErrLog("SetWndProperty(%s,%s,%s) not find wndPath",t,e,o)},e.prototype.SetWndImage=function(t,e){if(!cc.find(t,this.node))return this.ErrLog("(%s) SetWndImageByFilePath not find node Image:(%s)",t,e),Promise.resolve(!1)},e.prototype.ClearWndImage=function(t){cc.find(t,this.node)||this.ErrLog("ClearWndImage(%s) not find node",t)},e.prototype.GetWndNode=function(t,e){var o=this.node;return e instanceof cc.Component?o=e.node:e instanceof cc.Node&&(o=e),(o=cc.find(t,o))||(this.WarnLog("GetWndNode(%s) not find",t),null)},e.prototype.GetWndComponent=function(t,e,o){var i=this.node;if(o instanceof cc.Component?i=o.node:o instanceof cc.Node&&(i=o),i=cc.find(t,i)){var n=i.getComponent(e);if(n)return n;this.ErrLog("GetWndComponent wndPath(%s) not find Component(%s)",t,e.name)}else this.WarnLog("GetWndComponent wndPath(%s) error",t)},e.prototype.GetOrSetComponent=function(t,e){return e||(e=this.node),e.getComponent(t)||e.addComponent(t)},e.prototype.GetOrSetWndComponent=function(t,e,o){try{o||(o=this.node);var i=null;return o instanceof cc.Component?i=o.node:o instanceof cc.Node&&(i=o),(i=cc.find(t,i))?this.GetOrSetComponent(e,i):void this.WarnLog("GetWndComponent wndPath(%s) error",t)}catch(n){this.ErrLog("GetOrSetWndComponent failed:",n)}},r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine"}],BaseDefine:[function(t,e,o){"use strict";cc._RF.push(e,"408819oJlhMkIHHyZsbxA1z","BaseDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.COMMONGAME_MSG=o.COMMONGAME_ROOM_STATE=o.COMMONGAME_BANKER_TYPE=o.GameStatus=o.ROOM_TYPE=o.ROOM_CARD_TYPE=o.BASE_COMMONGAME_HORSE_TYPE=o.ROOM_START_MODE=o.ROOM_STATE=o.ROOM_OPERATION=o.ROOM_MODE=o.MAX_CARD=void 0,o.MAX_CARD=13,function(t){t[t.ROOM_MODE_NONE=0]="ROOM_MODE_NONE",t[t.ROOM_MODE_13WATER=1]="ROOM_MODE_13WATER",t[t.ROOM_MODE_6FLOWER=2]="ROOM_MODE_6FLOWER",t[t.ROOM_MODE_BULL=3]="ROOM_MODE_BULL",t[t.ROOM_MODE_GOLDEN_FLOWER=4]="ROOM_MODE_GOLDEN_FLOWER",t[t.ROOM_MODE_MAHJONG=5]="ROOM_MODE_MAHJONG",t[t.ROOM_MODE_TEXAS_POKER=6]="ROOM_MODE_TEXAS_POKER",t[t.ROOM_MODE_RUN_FAST=7]="ROOM_MODE_RUN_FAST",t[t.ROOM_MODE_FIGHT_LANDLORD=8]="ROOM_MODE_FIGHT_LANDLORD",t[t.ROOM_MODE_PISCATION=9]="ROOM_MODE_PISCATION",t[t.ROOM_MODE_BACCARAT=10]="ROOM_MODE_BACCARAT",t[t.ROOM_MODE_SLOT=11]="ROOM_MODE_SLOT",t[t.ROOM_MODE_SLOT_HALL=12]="ROOM_MODE_SLOT_HALL",t[t.ROOM_MODE_LUDO=27]="ROOM_MODE_LUDO"}(o.ROOM_MODE||(o.ROOM_MODE={})),function(t){t[t.ROOM_OPERATION_KICK=1]="ROOM_OPERATION_KICK",t[t.ROOM_OPERATION_READY=2]="ROOM_OPERATION_READY",t[t.ROOM_OPERATION_CHATFACE=3]="ROOM_OPERATION_CHATFACE",t[t.ROOM_OPERATION_CHOOSE_SEAT=4]="ROOM_OPERATION_CHOOSE_SEAT",t[t.ROOM_OPERATION_REQ_DESTROY=5]="ROOM_OPERATION_REQ_DESTROY",t[t.ROOM_OPERATION_READY_ROUND=6]="ROOM_OPERATION_READY_ROUND",t[t.ROOM_OPERATION_MAHJONG_SETTINGS_ROUND_COUNT=51]="ROOM_OPERATION_MAHJONG_SETTINGS_ROUND_COUNT",t[t.ROOM_OPERATION_MAHJONG_SETTINGS_ADD_BAN_PATTERN=52]="ROOM_OPERATION_MAHJONG_SETTINGS_ADD_BAN_PATTERN",t[t.ROOM_OPERATION_MAHJONG_SETTINGS_REMOVE_BAN_PATTERN=53]="ROOM_OPERATION_MAHJONG_SETTINGS_REMOVE_BAN_PATTERN",t[t.ROOM_OPERATION_MAHJONG_SETTINGS_PAYTYPE=54]="ROOM_OPERATION_MAHJONG_SETTINGS_PAYTYPE"}(o.ROOM_OPERATION||(o.ROOM_OPERATION={})),function(t){t[t.ROOM_STATE_INIT=1]="ROOM_STATE_INIT",t[t.ROOM_STATE_PREPARE=3]="ROOM_STATE_PREPARE",t[t.ROOM_STATE_GAME=4]="ROOM_STATE_GAME",t[t.ROOM_STATE_ZOMBIE=5]="ROOM_STATE_ZOMBIE",t[t.ROOM_STATE_END=10]="ROOM_STATE_END"}(o.ROOM_STATE||(o.ROOM_STATE={})),function(t){t[t.ROOM_START_MODE_ALL_PREPARE=0]="ROOM_START_MODE_ALL_PREPARE",t[t.ROOM_START_MODE_OWNER_START=1]="ROOM_START_MODE_OWNER_START",t[t.ROOM_START_MODE_PREPARE_OWNER_START=2]="ROOM_START_MODE_PREPARE_OWNER_START"}(o.ROOM_START_MODE||(o.ROOM_START_MODE={})),function(t){t[t.BASE_COMMONGAME_HORSE_TYPE_NONE=0]="BASE_COMMONGAME_HORSE_TYPE_NONE",t[t.BASE_COMMONGAME_HORSE_TYPE_GAME=1]="BASE_COMMONGAME_HORSE_TYPE_GAME",t[t.BASE_COMMONGAME_HORSE_TYPE_ROUND=2]="BASE_COMMONGAME_HORSE_TYPE_ROUND",t[t.BASE_COMMONGAME_HORSE_TYPE_ASSIGEN=3]="BASE_COMMONGAME_HORSE_TYPE_ASSIGEN"}(o.BASE_COMMONGAME_HORSE_TYPE||(o.BASE_COMMONGAME_HORSE_TYPE={})),function(t){t[t.ROOM_CARD_TYPE_NONE=0]="ROOM_CARD_TYPE_NONE",t[t.ROOM_CARD_TYPE_CREATOR=1]="ROOM_CARD_TYPE_CREATOR",t[t.ROOM_CARD_TYPE_OWNER_NO_PLAY=2]="ROOM_CARD_TYPE_OWNER_NO_PLAY",t[t.ROOM_CARD_TYPE_AA=3]="ROOM_CARD_TYPE_AA",t[t.ROOM_CARD_TYPE_BIGWEINNER=4]="ROOM_CARD_TYPE_BIGWEINNER"}(o.ROOM_CARD_TYPE||(o.ROOM_CARD_TYPE={})),function(t){t[t.ROOM_TYPE_NONE=0]="ROOM_TYPE_NONE",t[t.ROOM_TYPE_CARD=1]="ROOM_TYPE_CARD",t[t.ROOM_TYPE_MATCH=2]="ROOM_TYPE_MATCH",t[t.ROOM_TYPE_PUBLIC=3]="ROOM_TYPE_PUBLIC",t[t.ROOM_TYPE_PRIVATE=4]="ROOM_TYPE_PRIVATE",t[t.ROOM_TYPE_CLUB=5]="ROOM_TYPE_CLUB"}(o.ROOM_TYPE||(o.ROOM_TYPE={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.GAME_START=1]="GAME_START",t[t.GAME_END=2]="GAME_END"}(o.GameStatus||(o.GameStatus={})),function(t){t[t.COMMONGAME_BANKER_TYPE_NONE=0]="COMMONGAME_BANKER_TYPE_NONE",t[t.COMMONGAME_BANKER_TYPE_OWNER=1]="COMMONGAME_BANKER_TYPE_OWNER",t[t.COMMONGAME_BANKER_TYPE_COMPETE=2]="COMMONGAME_BANKER_TYPE_COMPETE",t[t.COMMONGAME_BANKER_TYPE_WINNER=3]="COMMONGAME_BANKER_TYPE_WINNER",t[t.COMMONGAME_BANKER_TYPE_TURN=4]="COMMONGAME_BANKER_TYPE_TURN",t[t.COMMONGAME_BANKER_TYPE_RANDOM=5]="COMMONGAME_BANKER_TYPE_RANDOM"}(o.COMMONGAME_BANKER_TYPE||(o.COMMONGAME_BANKER_TYPE={})),function(t){t[t.COMMONGAME_ROOM_STATE_NONE=0]="COMMONGAME_ROOM_STATE_NONE",t[t.COMMONGAME_ROOM_STATE_COMPETE_BANKER=1]="COMMONGAME_ROOM_STATE_COMPETE_BANKER",t[t.COMMONGAME_ROOM_STATE_BET=2]="COMMONGAME_ROOM_STATE_BET",t[t.COMMONGAME_ROOM_STATE_NORMAL=3]="COMMONGAME_ROOM_STATE_NORMAL",t[t.COMMONGAME_ROOM_STATE_SETTLEMENT=4]="COMMONGAME_ROOM_STATE_SETTLEMENT",t[t.COMMONGAME_ROOM_STATE_PREDEAL=6]="COMMONGAME_ROOM_STATE_PREDEAL",t[t.COMMONGAME_ROOM_STATE_END=10]="COMMONGAME_ROOM_STATE_END",t[t.COMMONGAME_ROOM_STATE_FINISH=11]="COMMONGAME_ROOM_STATE_FINISH"}(o.COMMONGAME_ROOM_STATE||(o.COMMONGAME_ROOM_STATE={})),function(t){t[t.COMMONGAME_ACTION_NONE=0]="COMMONGAME_ACTION_NONE",t[t.COMMONGAME_START_GAME=1]="COMMONGAME_START_GAME",t[t.COMMONGAME_RECONN_GAME=2]="COMMONGAME_RECONN_GAME",t[t.COMMONGAME_GAME_INFO=3]="COMMONGAME_GAME_INFO",t[t.COMMONGAME_SECOND_BET=4]="COMMONGAME_SECOND_BET",t[t.COMMONGAME_ACTION_DEAL=5]="COMMONGAME_ACTION_DEAL",t[t.COMMONGAME_ACTION_PRE_DEAL=7]="COMMONGAME_ACTION_PRE_DEAL",t[t.COMMONGAME_ACTION_OPEN_JOKER=8]="COMMONGAME_ACTION_OPEN_JOKER",t[t.COMMONGAME_ACTION_RECOMMEND_MATCH=11]="COMMONGAME_ACTION_RECOMMEND_MATCH",t[t.COMMONGAME_ACTION_PLAY_MATCH=12]="COMMONGAME_ACTION_PLAY_MATCH",t[t.COMMONGAME_ACTION_MATCH_RESULT=13]="COMMONGAME_ACTION_MATCH_RESULT",t[t.COMMONGAME_ACTION_PLAY_CARD=14]="COMMONGAME_ACTION_PLAY_CARD",t[t.COMMONGAME_ROUND_RESULT=15]="COMMONGAME_ROUND_RESULT",t[t.COMMONGAME_ACTION_TAKE_CARD=17]="COMMONGAME_ACTION_TAKE_CARD",t[t.COMMONGAME_ACTION_UPDATE_CARD=18]="COMMONGAME_ACTION_UPDATE_CARD",t[t.COMMONGAME_ACTION_SHOW_CARD=19]="COMMONGAME_ACTION_SHOW_CARD",t[t.COMMONGAME_ACTION_PASS=20]="COMMONGAME_ACTION_PASS",t[t.COMMONGAME_ACTION_COMPETE_BANKER=21]="COMMONGAME_ACTION_COMPETE_BANKER",t[t.COMMONGAME_ACTION_BET=22]="COMMONGAME_ACTION_BET",t[t.COMMONGAME_ACTION_CHANGE_BANKER=23]="COMMONGAME_ACTION_CHANGE_BANKER",t[t.COMMONGAME_START_COMPETE=24]="COMMONGAME_START_COMPETE",t[t.COMMONGAME_ACTION_DISCARD=25]="COMMONGAME_ACTION_DISCARD",t[t.COMMONGAME_ACTION_FOLLOW=26]="COMMONGAME_ACTION_FOLLOW",t[t.COMMONGAME_ACTION_TRUSTEE=27]="COMMONGAME_ACTION_TRUSTEE",t[t.COMMONGAME_ACTION_COMPARE=28]="COMMONGAME_ACTION_COMPARE",t[t.COMMONGAME_ACTION_REQ_COMPARE=29]="COMMONGAME_ACTION_REQ_COMPARE",t[t.COMMONGAME_ACTION_RSP_COMPARE=30]="COMMONGAME_ACTION_RSP_COMPARE",t[t.COMMONGAME_SUSPEND_COUNTDOWN=31]="COMMONGAME_SUSPEND_COUNTDOWN",t[t.COMMONGAME_RESUME_COUNTDOWN=32]="COMMONGAME_RESUME_COUNTDOWN",t[t.COMMONGAME_ACTION_SHUFFLE=33]="COMMONGAME_ACTION_SHUFFLE",t[t.COMMONGAME_ACTION_DUMMY_PLAY=36]="COMMONGAME_ACTION_DUMMY_PLAY",t[t.COMMONGAME_AVALIABLEACTION=51]="COMMONGAME_AVALIABLEACTION",t[t.COMMONGAME_ACTION_FAIL=50]="COMMONGAME_ACTION_FAIL",t[t.COMMONGAME_END_GAME=60]="COMMONGAME_END_GAME",t[t.COMMONGAME_REPLAY=70]="COMMONGAME_REPLAY",t[t.PISCATION_LOCK=40]="PISCATION_LOCK",t[t.PISCATION_FIRE=41]="PISCATION_FIRE",t[t.PISCATION_SWITCH_FIRE=42]="PISCATION_SWITCH_FIRE",t[t.PISCATION_HITFISH=43]="PISCATION_HITFISH",t[t.PISCATION_KILLFISH=44]="PISCATION_KILLFISH",t[t.PISCATION_GENERATE_FISH=47]="PISCATION_GENERATE_FISH",t[t.PISCATION_SPECIAL_EVENT_TIME=48]="PISCATION_SPECIAL_EVENT_TIME",t[t.RUMMY_APPEND_INFO=2503]="RUMMY_APPEND_INFO",t[t.COMMONGAME_ADJUST_PAY_RATE=81]="COMMONGAME_ADJUST_PAY_RATE"}(o.COMMONGAME_MSG||(o.COMMONGAME_MSG={})),cc._RF.pop()},{}],BaseHttpServerManager:[function(t,e,o){"use strict";cc._RF.push(e,"9743d0ub1FKgIZmU2+ZvdhT","BaseHttpServerManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BaseHttpServerManager=void 0;var r=t("../Base/Singleton"),s=t("../Define/ShareDefine"),a=t("../../script/common/global_config"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Emitter=new app.emitter,e}return n(e,t),e.prototype.Init=function(){this.JS_Name="BaseHttpServerManager",this.Log("Init"),this.HttpRequest=app.HttpRequest()},e.prototype.RegNetPack=function(t,e,o){this.Emitter.on(t,e,o)},e.prototype.UnRegNetPack=function(t,e,o){this.Emitter.off(t,e,o)},e.prototype.SendHttpPack=function(t,e,o){void 0===e&&(e={}),void 0===o&&(o=!0);var i=this.ApiUrl;this.IsDevelopment()&&this.NetLog("[SendHttp]:",i+t,e,"b-g"),this.HttpRequest.SendHttpRequest(i,t,"POST",e,this.OnReceiveHttpPack.bind(this),this.OnConnectHttpFail.bind(this))},e.prototype.OnReceiveHttpPack=function(t,e,o,i){var n;try{n=JSON.parse(o)}catch(r){return void this.ErrLog("OnReceiveHttpPack(%s) error:%s",e,o)}this.IsDevelopment()&&this.NetLog("[RecvHttp]:",t+e,JSON.parse(JSON.stringify(n)),"b-gb");try{this.Emitter.emit(e,n.data,i)}catch(s){return void this.ErrLog("OnReceiveHttpPack(%s)httpResText:%s, error:%s",e,o,s)}},e.prototype.OnConnectHttpFail=function(){},e.prototype.SendHttpCB=function(t,e,o,i,n,r,a){var c=this;void 0===e&&(e={}),void 0===i&&(i=!1),void 0===n&&(n=s.RetryType.Normal),void 0===r&&(r=0);var l=this.ApiUrl;this.NetLog("[SendHttp]:",l+t,e,"b-g"),this.HttpRequest.SendHttpRequest(l,t,"POST",e,function(t,e,i){var n;try{n=JSON.parse(i)}catch(r){return void c.ErrLog("OnReceiveHttpPack(%s) error:%s",e,i)}c.IsDevelopment()&&c.NetLog("[RecvHttp]:",t+e,JSON.parse(JSON.stringify(n)),"b-gb");try{o&&o(n)}catch(s){return void c.ErrLog("SendHttpCB (%s%s)",t,e,s)}},function(t,e,l,p,h){if(r>0)n==s.RetryType.ResetHost?setTimeout(function(){c.SendHttpCB(e,h,o,i,n,--r,a)},1e3):n==s.RetryType.State40?4==l&&0==p&&setTimeout(function(){c.SendHttpCB(e,h,o,i,n,--r,a)},1e3):setTimeout(function(){c.SendHttpCB(e,h,o,i,n,--r,a)},1e3);else if(a)return void a(t,e,l,p,h)})},Object.defineProperty(e.prototype,"ApiUrl",{get:function(){return a.webapi_url},enumerable:!1,configurable:!0}),e}(r.Singleton);o.BaseHttpServerManager=c,cc._RF.pop()},{"../../script/common/global_config":"global_config","../Base/Singleton":"Singleton","../Define/ShareDefine":"ShareDefine"}],BigWinEmitter:[function(t,e,o){"use strict";cc._RF.push(e,"52961N1XaZFAYbORFD8gEgu","BigWinEmitter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(){},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.animName="",e.countPerSecond=10,e.instantaneousMaxCount=100,e.minScale=.9,e.maxScale=1.1,e.minSpeed=1,e.maxSpeed=3,e.playOnLoad=!1,e.nodePool=new cc.NodePool,e.nodeInfoSet=new Set,e.recycleNodeInfoList=[],e.isPlay=!1,e.time=0,e.firstEnable=!0,e.maxPoolSize=50,e}return n(e,t),e.prototype.onEnable=function(){this.firstEnable&&(this.firstEnable=!1,this.playOnLoad&&this.play())},e.prototype.createNode=function(){return this.nodePool.size()?this.nodePool.get():cc.instantiate(this.prefab)},e.prototype.play=function(){this.isPlay=!0},e.prototype.emitNode=function(){if(!(this.nodeInfoSet.size>this.instantaneousMaxCount)){var t=this.createNode(),e=new l;e.node=t;var o=cc.Vec2.RIGHT;o=(o=o.rotateSelf(Math.random()*Math.PI*2)).mulSelf(Math.random()*(this.maxSpeed-this.minSpeed)+this.minSpeed),e.velocity=o,this.nodeInfoSet.add(e),t.scale=Math.random()*(this.maxScale-this.minScale)+this.minScale,t.position=cc.Vec3.ZERO,t.parent=this.node;var i=t.getComponent(cc.Animation);i&&i.play(this.animName)}},e.prototype.recycleNode=function(t){this.nodePool.size()<=this.maxPoolSize?this.nodePool.put(t):t.destroy()},e.prototype.deleteNodeInfo=function(t){this.nodeInfoSet.delete(t),this.recycleNode(t.node)},e.prototype.isOutsideRange=function(t,e,o){return t<e||t>o},e.prototype.isOutsideParent=function(t){var e=t.width*Math.abs(t.scaleX),o=-e*t.anchorX,i=e*(1-t.anchorX),n=t.height*Math.abs(t.scaleY),r=-n*t.anchorY,s=n*(1-t.anchorY),a=cc.v2(t.x,t.y),c=cc.v2(o,s).rotateSelf(t.angle).add(a),l=cc.v2(o,r).rotateSelf(t.angle).add(a),p=cc.v2(i,s).rotateSelf(t.angle).add(a),h=cc.v2(i,r).rotateSelf(t.angle).add(a),u=this.node.x-this.node.width*this.node.anchorX,d=this.node.x+this.node.width*(1-this.node.anchorX),f=this.node.y-this.node.height*this.node.anchorY,m=this.node.y+this.node.height*(1-this.node.anchorY);return this.isOutsideRange(c.x,u,d)&&this.isOutsideRange(l.x,u,d)&&this.isOutsideRange(p.x,u,d)&&this.isOutsideRange(h.x,u,d)||this.isOutsideRange(c.y,f,m)&&this.isOutsideRange(l.y,f,m)&&this.isOutsideRange(p.y,f,m)&&this.isOutsideRange(h.y,f,m)},e.prototype.update=function(t){if(this.nodeInfoSet.size){for(var e=this.nodeInfoSet.entries(),o=e.next();!o.done;o=e.next()){var i=o.value[1],n=i.node,r=n.position,s=i.velocity.mul(t);n.position=r.add(cc.v3(s.x,s.y,0)),this.isOutsideParent(n)&&this.recycleNodeInfoList.push(i)}if(this.recycleNodeInfoList.length){for(var a=0;a<this.recycleNodeInfoList.length;a++)this.deleteNodeInfo(this.recycleNodeInfoList[a]);this.recycleNodeInfoList.splice(0)}}this.isPlay&&(this.time+=t,this.time>=1/this.countPerSecond&&(this.time=0,this.emitNode()))},e.prototype.stop=function(t){void 0===t&&(t=!1),this.isPlay=!1,t&&this.clear()},e.prototype.clear=function(){if(this.nodeInfoSet.size){for(var t=this.nodeInfoSet.entries(),e=t.next();!e.done;e=t.next()){var o=e.value[1];this.recycleNode(o.node)}this.nodeInfoSet.clear()}},r([c(cc.Prefab)],e.prototype,"prefab",void 0),r([c(cc.String)],e.prototype,"animName",void 0),r([c(cc.Integer)],e.prototype,"countPerSecond",void 0),r([c(cc.Integer)],e.prototype,"instantaneousMaxCount",void 0),r([c(cc.Float)],e.prototype,"minScale",void 0),r([c(cc.Float)],e.prototype,"maxScale",void 0),r([c(cc.Float)],e.prototype,"minSpeed",void 0),r([c(cc.Float)],e.prototype,"maxSpeed",void 0),r([c(cc.Boolean)],e.prototype,"playOnLoad",void 0),r([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],BundleConfig:[function(t,e,o){"use strict";cc._RF.push(e,"e4c89XHj7dNZp5TcpFMsRBP","BundleConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.BundleNames=o.Config=void 0,function(t){t.assetBundle={},t.isSkipCheckUpdate=!1,t.TEST_HOT_UPDATE_URL_ROOT="http://192.168.1.210/hotupdate",t.BUNDLE_HALL="hall"}(o.Config||(o.Config={})),o.BundleNames={TP:"zhajinhua",RUMMY:"Game210",BCBM:"car",LHD:"DragonTiger",HHDZ:"honghei",SHZ:"shuihuzhuan",LUDO:"ludo",Game30:"Game30",TIENLEN:"tienlen",toubao:"toubao",LUNPAN:"lunpan",SLOT777:"777slot",SLOT2_777:"777_slot2",BAODIAN:"baodian",SHIJIEBEI:"shijiebei",LROLLER:"LuckyRoller",LROLLER2:"LuckyRoller2",Double:"Double",Double2:"Double2",Double3:"Double3",ABgame:"ABgame",Baccarat:"Baccarat",MINES:"Game550",AB_Classis:"ABjingdian",Dice:"Dice",Helo:"Helo",Game620:"Game620",Game650:"Game650",Game700:"Game700",Game730:"Game730",Game750:"Game750",Game840:"Game840",Game850:"Game850",Game860:"Game860",Game890:"Game890",Game900:"Game900",Game910:"Game910",Game920:"Game920",Game1050:"Game1050",Crash3:"Crash3",CRASH2:"crash2",Game1241:"Game1241",Game1670:"Game1670",Game1740:"Game1740",Stairs:"Stairs",Game1770:"Game1770",Game1780:"Game1780",Game1800:"Game1800",Game1880:"Game1880",Game1580:"Game1580",Game1840:"ClimbTree",Triple:"Triple",Game1830:"Game1830",Game1910:"Game1910",Game1990:"Game1990",Game2060:"Game2060",Game2010:"Game2010",Game2100:"Game2100"},cc._RF.pop()},{}],Button:[function(t,e,o){"use strict";cc._RF.push(e,"095eaTHiW5Ml4jQDcxuKcBX","Button");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasLeft=!1,e}return n(e,t),Object.defineProperty(e.prototype,"interactable",{get:function(){return this._interactable},set:function(t){this._interactable=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.interactable=!0},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(){this._interactable&&(this.hasLeft=!1,this.onPress&&this.onPress())},e.prototype.onTouchMove=function(t){if(this._interactable&&!this.hasLeft){var e=t.getLocation();e=this.node.convertToNodeSpaceAR(e);var o=-this.node.width*this.node.scaleX*this.node.anchorX,i=this.node.width*this.node.scaleX*(1-this.node.anchorX),n=-this.node.height*this.node.scaleY*this.node.anchorY,r=this.node.height*this.node.scaleY*(1-this.node.anchorY);(e.x<o||e.x>i||e.y<n||e.y>r)&&(this.hasLeft=!0,this.onLoosen&&this.onLoosen())}},e.prototype.onTouchEnd=function(){this._interactable&&!this.hasLeft&&(this.onLoosen&&this.onLoosen(),this.onClick&&this.onClick(this.node))},e.prototype.onTouchCancel=function(){this._interactable&&!this.hasLeft&&this.onLoosen&&this.onLoosen()},r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],1:[function(t,e,o){"use strict";o.byteLength=function(t){var e=l(t),o=e[0],i=e[1];return 3*(o+i)/4-i},o.toByteArray=function(t){var e,o,i=l(t),s=i[0],a=i[1],c=new r(p(0,s,a)),h=0,u=a>0?s-4:s;for(o=0;o<u;o+=4)e=n[t.charCodeAt(o)]<<18|n[t.charCodeAt(o+1)]<<12|n[t.charCodeAt(o+2)]<<6|n[t.charCodeAt(o+3)],c[h++]=e>>16&255,c[h++]=e>>8&255,c[h++]=255&e;return 2===a&&(e=n[t.charCodeAt(o)]<<2|n[t.charCodeAt(o+1)]>>4,c[h++]=255&e),1===a&&(e=n[t.charCodeAt(o)]<<10|n[t.charCodeAt(o+1)]<<4|n[t.charCodeAt(o+2)]>>2,c[h++]=e>>8&255,c[h++]=255&e),c},o.fromByteArray=function(t){for(var e,o=t.length,n=o%3,r=[],s=0,a=o-n;s<a;s+=16383)r.push(h(t,s,s+16383>a?a:s+16383));return 1===n?(e=t[o-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===n&&(e=(t[o-2]<<8)+t[o-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),r.join("")};for(var i=[],n=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)i[a]=s[a],n[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");return-1===o&&(o=e),[o,o===e?0:4-o%4]}function p(t,e,o){return 3*(e+o)/4-o}function h(t,e,o){for(var n,r,s=[],a=e;a<o;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(r=n)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},{}],2:[function(t,e,o){(function(e){"use strict";var i=t("base64-js"),n=t("ieee754"),r=t("isarray");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,o){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,o);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return l(this,t,e,o)}function l(t,e,o,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,o,i):"string"==typeof e?d(t,e,o):y(t,e)}function p(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,o,i){return p(e),e<=0?a(t,e):void 0!==o?"string"==typeof i?a(t,e).fill(o,i):a(t,e).fill(o):a(t,e)}function u(t,e){if(p(e),t=a(t,e<0?0:0|g(e)),!c.TYPED_ARRAY_SUPPORT)for(var o=0;o<e;++o)t[o]=0;return t}function d(t,e,o){if("string"==typeof o&&""!==o||(o="utf8"),!c.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var i=0|_(e,o),n=(t=a(t,i)).write(e,o);return n!==i&&(t=t.slice(0,n)),t}function f(t,e){var o=e.length<0?0:0|g(e.length);t=a(t,o);for(var i=0;i<o;i+=1)t[i]=255&e[i];return t}function m(t,e,o,i){if(e.byteLength,o<0||e.byteLength<o)throw new RangeError("'offset' is out of bounds");if(e.byteLength<o+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===o&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,o):new Uint8Array(e,o,i),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}function y(t,e){if(c.isBuffer(e)){var o=0|g(e.length);return 0===(t=a(t,o)).length?t:(e.copy(t,0,0,o),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&r(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function _(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var o=t.length;if(0===o)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Z(t).length;default:if(i)return q(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,o){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return D(this,e,o);case"utf8":case"utf-8":return I(this,e,o);case"ascii":return P(this,e,o);case"latin1":case"binary":return B(this,e,o);case"base64":return w(this,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,e,o);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function S(t,e,o){var i=t[e];t[e]=t[o],t[o]=i}function b(t,e,o,i,n){if(0===t.length)return-1;if("string"==typeof o?(i=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=n?0:t.length-1),o<0&&(o=t.length+o),o>=t.length){if(n)return-1;o=t.length-1}else if(o<0){if(!n)return-1;o=0}if("string"==typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:O(t,e,o,i,n);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,o):Uint8Array.prototype.lastIndexOf.call(t,e,o):O(t,[e],o,i,n);throw new TypeError("val must be string, number or Buffer")}function O(t,e,o,i,n){var r,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,o/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(n){var p=-1;for(r=o;r<a;r++)if(l(t,r)===l(e,-1===p?0:r-p)){if(-1===p&&(p=r),r-p+1===c)return p*s}else-1!==p&&(r-=r-p),p=-1}else for(o+c>a&&(o=a-c),r=o;r>=0;r--){for(var h=!0,u=0;u<c;u++)if(l(t,r+u)!==l(e,u)){h=!1;break}if(h)return r}return-1}function E(t,e,o,i){o=Number(o)||0;var n=t.length-o;i?(i=Number(i))>n&&(i=n):i=n;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[o+s]=a}return s}function A(t,e,o,i){return X(q(e,t.length-o),t,o,i)}function L(t,e,o,i){return X(K(e),t,o,i)}function T(t,e,o,i){return L(t,e,o,i)}function C(t,e,o,i){return X(Z(e),t,o,i)}function R(t,e,o,i){return X(J(e,t.length-o),t,o,i)}function w(t,e,o){return 0===e&&o===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,o))}function I(t,e,o){o=Math.min(t.length,o);for(var i=[],n=e;n<o;){var r,s,a,c,l=t[n],p=null,h=l>239?4:l>223?3:l>191?2:1;if(n+h<=o)switch(h){case 1:l<128&&(p=l);break;case 2:128==(192&(r=t[n+1]))&&(c=(31&l)<<6|63&r)>127&&(p=c);break;case 3:r=t[n+1],s=t[n+2],128==(192&r)&&128==(192&s)&&(c=(15&l)<<12|(63&r)<<6|63&s)>2047&&(c<55296||c>57343)&&(p=c);break;case 4:r=t[n+1],s=t[n+2],a=t[n+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(p=c)}null===p?(p=65533,h=1):p>65535&&(p-=65536,i.push(p>>>10&1023|55296),p=56320|1023&p),i.push(p),n+=h}return M(i)}o.Buffer=c,o.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},o.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),o.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,o){return l(null,t,e,o)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,o){return h(null,t,e,o)},c.allocUnsafe=function(t){return u(null,t)},c.allocUnsafeSlow=function(t){return u(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var o=t.length,i=e.length,n=0,r=Math.min(o,i);n<r;++n)if(t[n]!==e[n]){o=t[n],i=e[n];break}return o<i?-1:i<o?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var o;if(void 0===e)for(e=0,o=0;o<t.length;++o)e+=t[o].length;var i=c.allocUnsafe(e),n=0;for(o=0;o<t.length;++o){var s=t[o];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n),n+=s.length}return i},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)S(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)S(this,e,e+3),S(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)S(this,e,e+7),S(this,e+1,e+6),S(this,e+2,e+5),S(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?I(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=o.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,o,i,n){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===o&&(o=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||o>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&e>=o)return 0;if(i>=n)return-1;if(e>=o)return 1;if(this===t)return 0;for(var r=(n>>>=0)-(i>>>=0),s=(o>>>=0)-(e>>>=0),a=Math.min(r,s),l=this.slice(i,n),p=t.slice(e,o),h=0;h<a;++h)if(l[h]!==p[h]){r=l[h],s=p[h];break}return r<s?-1:s<r?1:0},c.prototype.includes=function(t,e,o){return-1!==this.indexOf(t,e,o)},c.prototype.indexOf=function(t,e,o){return b(this,t,e,o,!0)},c.prototype.lastIndexOf=function(t,e,o){return b(this,t,e,o,!1)},c.prototype.write=function(t,e,o,i){if(void 0===e)i="utf8",o=this.length,e=0;else if(void 0===o&&"string"==typeof e)i=e,o=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(o)?(o|=0,void 0===i&&(i="utf8")):(i=o,o=void 0)}var n=this.length-e;if((void 0===o||o>n)&&(o=n),t.length>0&&(o<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return E(this,t,e,o);case"utf8":case"utf-8":return A(this,t,e,o);case"ascii":return L(this,t,e,o);case"latin1":case"binary":return T(this,t,e,o);case"base64":return C(this,t,e,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,e,o);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function M(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);for(var o="",i=0;i<e;)o+=String.fromCharCode.apply(String,t.slice(i,i+=N));return o}function P(t,e,o){var i="";o=Math.min(t.length,o);for(var n=e;n<o;++n)i+=String.fromCharCode(127&t[n]);return i}function B(t,e,o){var i="";o=Math.min(t.length,o);for(var n=e;n<o;++n)i+=String.fromCharCode(t[n]);return i}function D(t,e,o){var i,n=t.length;(!e||e<0)&&(e=0),(!o||o<0||o>n)&&(o=n);for(var r="",s=e;s<o;++s)r+=(i=t[s])<16?"0"+i.toString(16):i.toString(16);return r}function G(t,e,o){for(var i=t.slice(e,o),n="",r=0;r<i.length;r+=2)n+=String.fromCharCode(i[r]+256*i[r+1]);return n}function F(t,e,o){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>o)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,o,i,n,r){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<r)throw new RangeError('"value" argument is out of bounds');if(o+i>t.length)throw new RangeError("Index out of range")}function k(t,e,o,i){e<0&&(e=65535+e+1);for(var n=0,r=Math.min(t.length-o,2);n<r;++n)t[o+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function U(t,e,o,i){e<0&&(e=4294967295+e+1);for(var n=0,r=Math.min(t.length-o,4);n<r;++n)t[o+n]=e>>>8*(i?n:3-n)&255}function H(t,e,o,i){if(o+i>t.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function V(t,e,o,i,r){return r||H(t,0,o,4),n.write(t,e,o,i,23,4),o+4}function j(t,e,o,i,r){return r||H(t,0,o,8),n.write(t,e,o,i,52,8),o+8}c.prototype.slice=function(t,e){var o,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(t,e)).__proto__=c.prototype;else{var n=e-t;o=new c(n,void 0);for(var r=0;r<n;++r)o[r]=this[r+t]}return o},c.prototype.readUIntLE=function(t,e,o){t|=0,e|=0,o||F(t,e,this.length);for(var i=this[t],n=1,r=0;++r<e&&(n*=256);)i+=this[t+r]*n;return i},c.prototype.readUIntBE=function(t,e,o){t|=0,e|=0,o||F(t,e,this.length);for(var i=this[t+--e],n=1;e>0&&(n*=256);)i+=this[t+--e]*n;return i},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,o){t|=0,e|=0,o||F(t,e,this.length);for(var i=this[t],n=1,r=0;++r<e&&(n*=256);)i+=this[t+r]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,o){t|=0,e|=0,o||F(t,e,this.length);for(var i=e,n=1,r=this[t+--i];i>0&&(n*=256);)r+=this[t+--i]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var o=this[t]|this[t+1]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var o=this[t+1]|this[t]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),n.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),n.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),n.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),n.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,o,i){t=+t,e|=0,o|=0,i||x(this,t,e,o,Math.pow(2,8*o)-1,0);var n=1,r=0;for(this[e]=255&t;++r<o&&(n*=256);)this[e+r]=t/n&255;return e+o},c.prototype.writeUIntBE=function(t,e,o,i){t=+t,e|=0,o|=0,i||x(this,t,e,o,Math.pow(2,8*o)-1,0);var n=o-1,r=1;for(this[e+n]=255&t;--n>=0&&(r*=256);)this[e+n]=t/r&255;return e+o},c.prototype.writeUInt8=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,o,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*o-1);x(this,t,e,o,n-1,-n)}var r=0,s=1,a=0;for(this[e]=255&t;++r<o&&(s*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+o},c.prototype.writeIntBE=function(t,e,o,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*o-1);x(this,t,e,o,n-1,-n)}var r=o-1,s=1,a=0;for(this[e+r]=255&t;--r>=0&&(s*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/s>>0)-a&255;return e+o},c.prototype.writeInt8=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):k(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):k(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,o){return t=+t,e|=0,o||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,o){return V(this,t,e,!0,o)},c.prototype.writeFloatBE=function(t,e,o){return V(this,t,e,!1,o)},c.prototype.writeDoubleLE=function(t,e,o){return j(this,t,e,!0,o)},c.prototype.writeDoubleBE=function(t,e,o){return j(this,t,e,!1,o)},c.prototype.copy=function(t,e,o,i){if(o||(o=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<o&&(i=o),i===o)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-o&&(i=t.length-e+o);var n,r=i-o;if(this===t&&o<e&&e<i)for(n=r-1;n>=0;--n)t[n+e]=this[n+o];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(n=0;n<r;++n)t[n+e]=this[n+o];else Uint8Array.prototype.set.call(t,this.subarray(o,o+r),e);return r},c.prototype.fill=function(t,e,o,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,o=this.length):"string"==typeof o&&(i=o,o=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<o)throw new RangeError("Out of range index");if(o<=e)return this;var r;if(e>>>=0,o=void 0===o?this.length:o>>>0,t||(t=0),"number"==typeof t)for(r=e;r<o;++r)this[r]=t;else{var s=c.isBuffer(t)?t:q(new c(t,i).toString()),a=s.length;for(r=0;r<o-e;++r)this[r+e]=s[r%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function z(t){if((t=Y(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t,e){var o;e=e||1/0;for(var i=t.length,n=null,r=[],s=0;s<i;++s){if((o=t.charCodeAt(s))>55295&&o<57344){if(!n){if(o>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&r.push(239,191,189);continue}n=o;continue}if(o<56320){(e-=3)>-1&&r.push(239,191,189),n=o;continue}o=65536+(n-55296<<10|o-56320)}else n&&(e-=3)>-1&&r.push(239,191,189);if(n=null,o<128){if((e-=1)<0)break;r.push(o)}else if(o<2048){if((e-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((e-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function K(t){for(var e=[],o=0;o<t.length;++o)e.push(255&t.charCodeAt(o));return e}function J(t,e){for(var o,i,n,r=[],s=0;s<t.length&&!((e-=2)<0);++s)i=(o=t.charCodeAt(s))>>8,n=o%256,r.push(n),r.push(i);return r}function Z(t){return i.toByteArray(z(t))}function X(t,e,o,i){for(var n=0;n<i&&!(n+o>=e.length||n>=t.length);++n)e[n+o]=t[n];return n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e){var o={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==o.call(t)}},{}],4:[function(t,e,o){o.read=function(t,e,o,i,n){var r,s,a=8*n-i-1,c=(1<<a)-1,l=c>>1,p=-7,h=o?n-1:0,u=o?-1:1,d=t[e+h];for(h+=u,r=d&(1<<-p)-1,d>>=-p,p+=a;p>0;r=256*r+t[e+h],h+=u,p-=8);for(s=r&(1<<-p)-1,r>>=-p,p+=i;p>0;s=256*s+t[e+h],h+=u,p-=8);if(0===r)r=1-l;else{if(r===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,i),r-=l}return(d?-1:1)*s*Math.pow(2,r-i)},o.write=function(t,e,o,i,n,r){var s,a,c,l=8*r-n-1,p=(1<<l)-1,h=p>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:r-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=p):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?u/c:u*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=p?(a=0,s=p):s+h>=1?(a=(e*c-1)*Math.pow(2,n),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,n),s=0));n>=8;t[o+d]=255&a,d+=f,a/=256,n-=8);for(s=s<<n|a,l+=n;l>0;t[o+d]=255&s,d+=f,s/=256,l-=8);t[o+d-f]|=128*m}},{}],ChatUtil:[function(t,e,o){(function(i){"use strict";cc._RF.push(e,"ffebaTpNiBOTbGOJR5LOiHh","ChatUtil");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ChatUtil=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.Init=function(){this.JS_Name="ChatUtil",this.Log("Init")},e.prototype.stringToUint=function(t){for(var e=(t=i.from(decodeURIComponent(encodeURIComponent(t)),"binary").toString("base64")).split(""),o=[],n=0;n<e.length;n++)o.push(e[n].charCodeAt(0));return new Uint8Array(o)},e.prototype.uintToString=function(t){var e=String.fromCharCode.apply(null,t);return i.from(e,"base64").toString()},e}(t("../Base/Singleton").Singleton);o.ChatUtil=s,cc._RF.pop()}).call(this,t("buffer").Buffer)},{"../Base/Singleton":"Singleton",buffer:2}],ClientMgr:[function(t,e,o){"use strict";cc._RF.push(e,"25557aOHqRHGLq4Y2DS640J","ClientMgr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Base/BaseComponent"),a=t("./Define/GameEventDefine"),c=t("./Define/ShareDefine"),l=t("./UIRoot"),p=cc._decorator,h=p.ccclass,u=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.OnLoad=function(){this.JS_Name="ClientMgr",app.Client=this,this.Log("init"),cc.game.addPersistRootNode(this.node),cc.debug.setDisplayStats(!1),cc.game.setFrameRate(60),this.schedule(this.OnTimer.bind(this),.1),this.InitManager()},e.prototype.InitManager=function(){window.t=app.TestManager(),app.LogManager(),app.LocalDataManager().InitConfig(),app.ClientConfigManager().LoadStartInfo(),app.LaunchManager(),app.GameManager(),app.KeyManager(),app.GameEventMgr()},e.prototype.Reload=function(){},e.prototype.GetUILayer=function(){return cc.find("Canvas/RootLayer/UILayer")},e.prototype.GetIndependentLayer=function(){return cc.find("Canvas/RootLayer/UILayer/independent")},e.prototype.GetIndependentChildren=function(){return this.GetIndependentLayer().children},e.prototype.GetContentLayer=function(){return cc.find("Canvas/RootLayer/UILayer/contain/scrollview/view/node_home/content")},e.prototype.GetContentChildren=function(){return this.GetContentLayer().children},e.prototype.InitUILayer=function(){return this.GetUILayer().getComponent(l.default).InitLayer()},e.prototype.OnGameConfig=function(t){t&&t.initial_config.is_debug&&this.InitDebug(!0)},e.prototype.InitDebug=function(t){this.EnableLog(t),this.OnEvent(a.GameEventDefine.SHOW_DEBUG_FORM,t)},e.prototype.EnableLog=function(t){app.LogManager().IsOpenLog(t),c.Development.SetDevelopment(t)},e.prototype.OnEvent=function(t,e,o){void 0===o&&(o=!1),o&&(e?this.Log("OnEvent(%s):",t,e):this.Log("OnEvent(%s)",t));try{this.node.emit(t,e)}catch(i){this.ErrLog("OnEvent:%s",i.stack)}},e.prototype.RegEvent=function(t,e,o){e&&o?this.node.on(t,e,o):this.ErrLog("eventName:%s error",t)},e.prototype.UnRegTargetEvent=function(t,e,o){void 0===e&&(e=""),e&&o?this.node.off(e,o,t):this.node.targetOff(t)},e.prototype.OnTimer=function(t){try{app.ClientConfigManager().OnTimer(t)}catch(e){this.ErrLog("OnTimer:%s",e.stack)}},r([h],e)}(s.default));o.default=u,cc._RF.pop()},{"./Base/BaseComponent":"BaseComponent","./Define/GameEventDefine":"GameEventDefine","./Define/ShareDefine":"ShareDefine","./UIRoot":"UIRoot"}],ComTool:[function(t,e,o){"use strict";cc._RF.push(e,"2e2afp1kQJHfY2NJ0FokZd8","ComTool");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ComTool=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="ComTool",this.Log("Init")},e.prototype.RandInt=function(t,e,o){void 0===o&&(o=[]);var i=Math.floor(Math.random()*(e+1-t)+t);return e-t<=o.length?i:o.InArray(i)?this.RandInt(t,e,o):i},e.prototype.StringAddNumSuffix=function(t,e,o){var i=""+e;if(o){var n=i.length;i=n<o?Array(o-n+1).join("0")+e:i}return[t,i].join("")},e.prototype.H5Platform=function(){return cc.sys.platform==cc.sys.MOBILE_BROWSER},e.prototype.DesktopPlatform=function(){return cc.sys.platform==cc.sys.DESKTOP_BROWSER},e.prototype.IsIOS=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS},e.prototype.IsAndroid=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID},e.prototype.IsWindows=function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_WINDOWS},e.prototype.AndroidHybirdPlatform=function(){return"undefined"!=typeof android},e.prototype.CheckPlatform=function(){return!this.AndroidHybirdPlatform()&&!cc.sys.isNative},e.prototype.getPackageName=function(){return cc.sys.isNative||this.AndroidHybirdPlatform()?app.NativeMgr().getPackageName():"h5_client"},e.prototype.GetQueryString=function(t){if(!cc.sys.isBrowser)return null;var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=location.search.substr(1).match(e);return null!=o?unescape(o[2]):null},e.prototype.ReplaceParamVal=function(t,e,o){var i=new RegExp("("+e+"=)([^&]*)","gi");return t.replace(i,e+"="+o)},e.prototype.ParseParamsToUri=function(t,e){var o=[];return Object.keys(e).forEach(function(t){return e[t]&&o.push(t+"="+e[t])}),-1===t.search(/\?/)?t+="?"+o.join("&"):t+="&"+o.join("&"),t},e.prototype.NodeAConvertToNodeBSpaceAR=function(t,e){var o=t.convertToWorldSpaceAR(new cc.Vec2(0,0));return e.convertToNodeSpaceAR(o)},e.prototype.ResetAnimationNode=function(t,e){var o=t.getComponent(cc.Animation);if(o){o.stop();var i=o.play(e);o.setCurrentTime(i.duration)}},e.prototype.DeepCopyArray=function(t){for(var e=[],o=0;o<t.length;o++){var i=t[o].slice(0);e.push(i)}return e},e.prototype.RandomGUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},e.prototype.GenQRCode=function(t,e,o){void 0===o&&(o=1);var i=new QRCode(-1,o);i.addData(t),i.make();for(var n=e.node.width/i.getModuleCount(),r=e.node.height/i.getModuleCount(),s=0;s<i.getModuleCount();s++)for(var a=0;a<i.getModuleCount();a++){i.isDark(s,a)?e.fillColor=cc.Color.BLACK:e.fillColor=cc.Color.WHITE;var c=Math.ceil((a+1)*n)-Math.floor(a*n),l=Math.ceil((s+1)*r)-Math.floor(s*r);e.rect(Math.round(a*n),Math.round(s*r),c,l),e.fill()}},e.prototype.PrefixInteger=function(t,e){return("0000000000000000"+t).substr(-e)},e.prototype.getIosBrowserType=function(){return"standalone"in window.navigator&&window.navigator.standalone},e.prototype.GetUrlParam=function(){var t=document.location.toString().split("?"),e=Object.create(null);return t.length>1&&(t=t[1].split("&")).forEach(function(t){var o=t.split("=");e[o[0]]=o[1]}),e},e.prototype.htmlEncode=function(t){return 0===t.length?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},e.prototype.htmlRestore=function(t){return 0===t.length?"":t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"')},e.prototype.checkSpecialStr=function(t){return!/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im.test(t)&&!/[\xb7\uff01#\uffe5\uff08\u2014\u2014\uff09\uff1a\uff1b\u201c\u201d\u2018\u3001\uff0c|\u300a\u3002\u300b\uff1f\u3001\u3010\u3011[\]]/im.test(t)},e.prototype.isSafari=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("applewebkit")>-1&&t.indexOf("mobile")>-1&&t.indexOf("safari")>-1&&-1===t.indexOf("linux")&&-1===t.indexOf("android")&&-1===t.indexOf("chrome")&&-1===t.indexOf("ios")&&-1===t.indexOf("browser")},e.prototype.getRandomNumber=function(t,e){return Math.random()*(e-t)+t},e.prototype.GetLocalTime=function(t){if("number"==typeof t){var e=new Date,o=e.getTime(),i=6e4*e.getTimezoneOffset();return new Date(o+i+36e5*t)}},e.prototype.GetServerTimeString=function(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},e}(t("../Base/Singleton").Singleton);o.ComTool=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ComUtil:[function(t,e,o){"use strict";cc._RF.push(e,"be5a06S/LJBkpEojt2qohev","ComUtil");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ComUtil=void 0;var r=t("../Base/Singleton"),s=(new Map,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="ComUtil",this.Log("Init")},e.prototype.uniqueid=function(){var t=Math.random,e=parseInt;return Number(new Date).toString()+e(""+10*t())+e(""+10*t())},e.prototype.shuffle=function(t){for(var e=void 0,o=void 0,i=t.length;i;e=parseInt(""+Math.random()*i),o=t[--i],t[i]=t[e],t[e]=o);return t},e.prototype.format_date=function(t){var e=null==t?new Date:new Date(1e3*parseInt(t));return e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},e.prototype.deepCopy=function(t){if("object"!=typeof t)return t;if(this.isArray(t))return t;var e={};for(var o in t)if(this.isArray(t[o])){var i=t[o];e[o]=[];for(var n=0;n<i.length;n++)e[o].push(i[n])}else e[o]=this.deepCopy(t[o]);return e},e.prototype.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},e.prototype.formatName=function(t){var e="";if(2===t.length)e=t.substring(0,1)+"*";else if(t.length>2){for(var o="",i=0,n=t.length-2;i<n;i++)o+="*";e=t.substring(0,1)+o+t.charAt(t.length-1)}else e=t;return e},e.prototype.get_strLength=function(t){var e,o,i=0;for(e=0;e<t.length;e++)(o=t.charCodeAt(e))<127?i+=1:128<=o&&o<=2047?i+=2:2048<=o&&o<=65535&&(i+=3);return i},e.prototype.copyToClipboard=function(t){var e=t,o=!0;if(window.clipboardData)window.clipboardData.setData("Text",e);else{var i=app.ComUtil().createElementForExecCommand(e);app.ComUtil().selectContent(i);try{window.netscape&&window.netscape.security&&window.netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),o=document.execCommand("copy",!1,null)}catch(n){o=!1}document.body.removeChild(i)}return o},e.prototype.createElementForExecCommand=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.left="-10000px",e.style.top="-10000px",e.textContent=t,document.body.appendChild(e),e.contentEditable=!0,e},e.prototype.selectContent=function(t){var e=document.createRange();e.selectNodeContents(t);var o=window.getSelection();o.removeAllRanges(),o.addRange(e)},e.prototype.calcRoomCard=function(t,e,o,i,n){var r=0;for(var s in t)if(s==e){for(var a in t[s].data)if(a==o){r=3==i?parseFloat(t[s].data[a].average_card_num):parseFloat(t[s].data[a].total_card_num),n&&(r+=3==i?parseFloat(t[s].data[a].king_average_num):parseFloat(t[s].data[a].king_num));break}break}var c=r+"",l=c.length,p=c.indexOf(".");return-1!=p&&l-p>=3&&(c=c.substr(0,p+2)),c},e.prototype.intToByteArray=function(t){for(var e=[];t;)t%2>0?e.push(1):e.push(0),t=Math.floor(t/2);return e},e.prototype.countOf1=function(t){for(var e=0,o=1;o;)t&o&&e++,o<<=1;return e},e.prototype.playBtnClick=function(){app.SoundManager().PlaySound("BtnClick")},e.prototype.playBoxOpenSound=function(){app.SoundManager().PlaySound("WndOpen")},e.prototype.playBoxCloseSound=function(){app.SoundManager().PlaySound("WndClose")},e.prototype.deepClone=function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(t[o]&&"object"==typeof t[o]?e[o]=this.deepClone(t[o]):e[o]=t[o]);return e},e.prototype.createListItem=function(t,e,o){var i=e.children,n=i.length;if(0==n&&null==o)return cc.error("createChild"),!1;var r=n>0?i[0]:o;if(t>n)for(var s=n;s<t;++s){var a=cc.instantiate(r);e.addChild(a)}else if(t<n)for(s=t;s<n;++s)i[s].active=!1;return!0},e.prototype.PlayAnim=function(t,e,o){if(t){var i=t.getComponent(cc.Animation);i?(o&&i.once("finished",function(){o()}),i.play(e)):this.ErrLog("cc.Animation fail==>"+t)}else this.ErrLog("PlayAnim fail  node==>")},e.prototype.StopAnimation=function(t,e){var o=t.getComponent(cc.Animation);o&&o.stop(e)},e.prototype.SetEditBoxInputMode=function(t,e){t.inputMode=e;var o=t._impl;o&&(o.clear(),t._init())},e}(r.Singleton));o.ComUtil=s,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],CompHisPage:[function(t,e,o){"use strict";cc._RF.push(e,"27f7dxz/oZPJIXRqbiUzYX7","CompHisPage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.CompHisPage=void 0;var s=t("../../../../../script/common_game/SlotGame/SlotUtility"),a=t("../../../../../script/Game1810/script/Game1810Mgr"),c=t("./HisLineAward"),l=t("./UIDetailTip"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betSizeLab=null,e.betLevelLab=null,e.symbolSFList=[],e.transactionLab=null,e.betGoldLab=null,e.betGoldTitleLab=null,e.profitLab=null,e.profitTitleLab=null,e.balanceLab=null,e.balanceTitleLab=null,e.noWinNode=null,e.winLineParent=null,e.winLinePrefab=null,e.tenMultipleAmount=null,e.respinNode=null,e.winLineTipParent=null,e.winLineTipPrefab=null,e.symbolSprList=[],e}return n(e,t),e.prototype.onLoad=function(){for(var t=1;t<=10;t++){var e=cc.find("ScrollView/view/content/Node2/UIHisItem_"+t+"/icon",this.node).getComponent(cc.Sprite);this.symbolSprList.push(e)}var o=a.Game1810Mgr.instance.getGameResult().currency;this.betGoldTitleLab.string=app.i18n.t("Game1810_76")+"("+o+")",this.profitTitleLab.string=app.i18n.t("Game1810_51")+"("+o+")",this.balanceTitleLab.string=app.i18n.t("Game1810_77")+"("+o+")"},e.prototype.onEnable=function(){var t="ontouchstart"in window?"touchstart":"mousedown";cc.game.canvas.addEventListener(t,this.onTouchStartWindow.bind(this),!0)},e.prototype.onDisable=function(){var t="ontouchstart"in window?"touchstart":"mousedown";cc.game.canvas.removeEventListener(t,this.onTouchStartWindow.bind(this),!0)},e.prototype.onTouchStartWindow=function(){this.curTipNode&&(this.curTipNode.destroy(),this.curTipNode=null)},e.prototype.updateView=function(t,e){this.data=t,this.resultIdx=e;var o,i,n,r=t.order_id.substring(0);r.length>9&&(r=r.substring(0,9)+"\n"+r.substring(9)),this.transactionLab.string=r,o=0==e?t.bet_gold:0,this.betGoldLab.string=s.default.formatNumber(o),i=1==t.type||1==t.result.length?t.change_gold:e==t.result.length-1?Big(t.change_gold).plus(t.bet_gold).toNumber():0==e?-t.bet_gold:0,this.profitLab.string=s.default.formatNumber(i),n=e==t.result.length-1?t.end_gold:Big(t.end_gold).minus(t.change_gold).minus(t.bet_gold).toNumber(),this.balanceLab.string=s.default.formatNumber(n);var l=a.Game1810Mgr.instance.getGameResult().currency;this.betSizeLab.string=app.i18n.t("Game1810_75")+" "+l+t.bet,this.betLevelLab.string=app.i18n.t("Game1810_31")+" "+t.level;for(var p=t.result[e],h=p.prop,u=0;u<h.length;u++)this.symbolSprList[u].spriteFrame=this.symbolSFList[h[u]-1];if(this.noWinNode.active=0==p.win_arr.length,1==p.all)this.tenMultipleAmount.node.parent.active=!0,this.tenMultipleAmount.string=l+s.default.formatNumber(Number(p.tw));else for(this.tenMultipleAmount.node.parent.active=!1,u=0;u<p.win_arr.length;u++){var d=cc.instantiate(this.winLinePrefab);d.position=cc.Vec3.ZERO,d.parent=this.winLineParent;var f=d.getComponent(c.HisLineAward);f.setData(p.win_arr[u]),f.onClickCallback=this.onClickWinLineNode.bind(this)}this.respinNode.active=2==t.type&&0==e&&0==p.win_arr.length},e.prototype.onClickWinLineNode=function(t,e){this.curTipNode=cc.instantiate(this.winLineTipPrefab),this.curTipNode.parent=this.winLineTipParent;var o=this.curTipNode.getComponent(l.UIDetailTip);o.init(this.data.bet,this.data.level,e,t),o.updatePosition()},r([u(cc.Label)],e.prototype,"betSizeLab",void 0),r([u(cc.Label)],e.prototype,"betLevelLab",void 0),r([u([cc.SpriteFrame])],e.prototype,"symbolSFList",void 0),r([u(cc.Label)],e.prototype,"transactionLab",void 0),r([u(cc.Label)],e.prototype,"betGoldLab",void 0),r([u(cc.Label)],e.prototype,"betGoldTitleLab",void 0),r([u(cc.Label)],e.prototype,"profitLab",void 0),r([u(cc.Label)],e.prototype,"profitTitleLab",void 0),r([u(cc.Label)],e.prototype,"balanceLab",void 0),r([u(cc.Label)],e.prototype,"balanceTitleLab",void 0),r([u(cc.Node)],e.prototype,"noWinNode",void 0),r([u(cc.Node)],e.prototype,"winLineParent",void 0),r([u(cc.Prefab)],e.prototype,"winLinePrefab",void 0),r([u(cc.Label)],e.prototype,"tenMultipleAmount",void 0),r([u(cc.Node)],e.prototype,"respinNode",void 0),r([u(cc.Node)],e.prototype,"winLineTipParent",void 0),r([u(cc.Prefab)],e.prototype,"winLineTipPrefab",void 0),r([h],e)}(cc.Component);o.CompHisPage=d,cc._RF.pop()},{"../../../../../script/Game1810/script/Game1810Mgr":"Game1810Mgr","../../../../../script/common_game/SlotGame/SlotUtility":"SlotUtility","./HisLineAward":"HisLineAward","./UIDetailTip":"UIDetailTip"}],DateEx:[function(t,e,o){"use strict";cc._RF.push(e,"41ad3TGmUBKBICkI5+0I+pt","DateEx"),Object.defineProperty(o,"__esModule",{value:!0}),o.DateEx=void 0;var i=function(){function t(){}return t.getMonthDay=function(t,e){return new Date(t,e,0).getDate()},t.getMonthsAgo=function(t,e,o){var i=e+1-o,n=t;return i<=0&&(n-=1,i+=12),{year:n,month:i-=1}},t.getZeroTimestamp=function(t,e,o){return new Date(t,e,o).getTime()},t.getZeroTimestampSecond=function(t,e,o){return this.getZeroTimestamp(t,e,o)/1e3},t.getTodayZero=function(){var t=new Date;return this.getZeroTimestamp(t.getFullYear(),t.getMonth(),t.getDate())},t}();o.DateEx=i,cc._RF.pop()},{}],EventDefine:[function(t,e,o){"use strict";cc._RF.push(e,"3af4dyJFTNADoiV+EYWGM4J","EventDefine"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.ENTER_GAME="ENTER_GAME",t.ENTER_GAME_COMMON="ENTER_GAME_COMMON",t.HOTUPDATE_DOWNLOAD="HOTUPDATE_DOWNLOAD",t.DOWNLOAD_PROGRESS="DOWNLOAD_PROGRESS",t}();o.default=i,cc._RF.pop()},{}],EventFunAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"9c3a7YK6CBDEoT2rh9VGPRc","EventFunAdapter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.EventFunAdapter=void 0;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRegistEvent=!1,e.router=!1,e}return n(e,t),e.prototype.Init=function(t){this.target=t,this._eventFuncDict={},this._sysFuncDict={},this._httpFuncDict={},this._roomFuncDict={},this._backFuncDict=[]},e.prototype.RegisterEvent=function(t){if(!this.isRegistEvent){for(var e in this._eventFuncDict)for(var o=this._eventFuncDict[e],i=0;i<o.length;i++)app.Client.RegEvent(e,o[i],this.target);for(i=0;i<this._backFuncDict.length;i++){var n=this._backFuncDict[i];app.KeyManager().RegBackEvent(n,this.target)}for(var e in this._httpFuncDict)for(o=this._httpFuncDict[e],i=0;i<o.length;i++)app.HttpServerManager().RegNetPack(e,o[i],this.target);for(var e in this._roomFuncDict)for(o=this._roomFuncDict[e],i=0;i<o.length;i++)app.GoServerManager().RegisterMsgHandler(e,o[i],this.target),app.NewGoServerManager().RegisterMsgHandler(e,o[i],this.target);for(var e in this._sysFuncDict)for(o=this._sysFuncDict[e],i=0;i<o.length;i++)cc.systemEvent.on(e,o[i],this.target);this.router&&app.KeyManager().RegRouterEvent(this.target,t),this.isRegistEvent=!0}},e.prototype.UnRegisterEvent=function(){if(this.isRegistEvent){app.Client.UnRegTargetEvent(this.target);for(var t=0;t<this._backFuncDict.length;t++){var e=this._backFuncDict[t];app.KeyManager().UnRegBackEvent(e,this.target)}for(var o in this._httpFuncDict){var i=this._httpFuncDict[o];for(t=0;t<i.length;t++)app.HttpServerManager().UnRegNetPack(o,i[t],this.target)}for(var o in this._roomFuncDict)for(i=this._roomFuncDict[o],t=0;t<i.length;t++)app.GoServerManager().UnregisterMsgHandler(o,i[t],this.target),app.NewGoServerManager().UnregisterMsgHandler(o,i[t],this.target);cc.systemEvent.targetOff(this.target),this.isRegistEvent=!1}},e.prototype.RegEvent=function(t,e){this._eventFuncDict.SetDefault(t,[]).push(e)},e.prototype.RegSystemEvent=function(t,e){this._sysFuncDict.SetDefault(t,[]).push(e)},e.prototype.RegBackEvent=function(t){this._backFuncDict.push(t)},e.prototype.RegRouterEvent=function(){this.router=!0},e.prototype.RegHttpEvent=function(t,e){this._httpFuncDict.SetDefault(t,[]).push(e)},e.prototype.RegRoomEvent=function(t,e){this._roomFuncDict.SetDefault(t,[]).push(e)},e}(t("./BaseClass").BaseClass);o.EventFunAdapter=r,cc._RF.pop()},{"./BaseClass":"BaseClass"}],EventListener:[function(t,e,o){"use strict";cc._RF.push(e,"55ff3TCojNM7ZCPOF1YRz16","EventListener"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){t.obsArray={}}return Object.defineProperty(t,"Inst",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.addEventListener=function(e,o,i){for(var n in void 0===t.obsArray[e]&&(t.obsArray[e]=[]),t.obsArray[e]){var r=t.obsArray[e][n];if(r.func==o&&r.ob==i)return}t.obsArray[e].push({func:o,ob:i})},t.prototype.removeEventListener=function(e,o,i){var n=!1,r=t.obsArray[e];if(r)for(var s in r){var a=r[s],c=a.func,l=a.ob;o==c&&i==l&&(this.removeByElements(r,a),n=!0)}return n},t.prototype.removeEventListenerWithObject=function(e){for(var o in t.obsArray){var i=t.obsArray[o];for(var n in i){var r=i[n];r.ob==e&&this.removeByElements(i,r)}}},t.prototype.cleanAllEventListener=function(){t.obsArray={}},t.prototype.dispatchMsg=function(e,o){var i=t.obsArray[e];if(void 0!==i)for(var n in i){var r=i[n],s=r.func,a=r.ob;s&&a&&s.apply(a,[o])}else console.warn("dispatchMsg failed: "+e+" data\uff1a"+o)},t.prototype.removeByElements=function(t,e){for(var o=-1,i=0;i<t.length;i++)if(t[i]==e){o=i;break}0<=o&&t.splice(o,1)},t._instance=null,t.obsArray={},t}();o.default=i,cc._RF.pop()},{}],FormDefine:[function(t,e,o){"use strict";cc._RF.push(e,"7f979LHbLlOgpJTUaib5+nO","FormDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.FormDefine=void 0,function(t){t.Form="Form",t.NewSysMsg="NewSysMsg",t.SceneInfo="SceneInfo",t.Sound="Sound",t.RoomModeInfo="RoomModeInfo",t.Effect="Effect",t.Image="Image"}(o.FormDefine||(o.FormDefine={})),cc._RF.pop()},{}],FormStructDefine:[function(t,e){"use strict";cc._RF.push(e,"17e188p2R1IQ5zHzbimodtC","FormStructDefine"),cc._RF.pop()},{}],FullWindow:[function(t,e,o){"use strict";cc._RF.push(e,"c7cf5x3tHhBc7baR4xwbgzi","FullWindow");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){cc.view.on("canvas-resize",this.fullWindow,this),this.fullWindow()},e.prototype.onDisable=function(){cc.view.off("canvas-resize",this.fullWindow,this)},e.prototype.fullWindow=function(){var t=cc.winSize.width/this.node.width,e=cc.winSize.height/this.node.height,o=t<e?e:t;this.setWorldScale(o,o,1)},e.prototype.setWorldScale=function(t,e,o){for(var i=this.node.parent;i;)t/=i.scaleX,e/=i.scaleY,o/=i.scaleZ,i=i.parent;this.node.setScale(t,e,o)},r([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Game1810BottomBtn:[function(t,e,o){"use strict";cc._RF.push(e,"396b7ntLQxDZJqjvVF8SWBA","Game1810BottomBtn");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../audio/WebAudioEngine"),a=t("./Button"),c=t("./SlotButton"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startBtnNode=null,e.startBtnCenterIcon=null,e.startBtnCenterIconSFList=[],e.operateBtnParent=null,e.settingBtnParent=null,e.bgNode=null,e.addBtn=null,e.minusBtn=null,e.switchSettingBtn=null,e.autoBtn=null,e.musicBtn=null,e.musicIconNode=null,e.musicIconSFList=[],e.autoTimes=null,e.startBtnScrollAnim=null,e.startBtnScrollAnim2=null,e.btnAudio=null,e.muteIconNode=null,e.isMusicOnKey="oxGameMusicIsOn",e}return n(e,t),e.prototype.isPlaySwitchBtnAnim=function(){return this._isPlaySwitchBtnAnim},e.prototype.onLoad=function(){this.operateBtnParentPos=this.operateBtnParent.position,this.settingBtnParentPos=this.settingBtnParent.position,this._isPlaySwitchBtnAnim=!1,this.initMusicBtn()},e.prototype.initMusicBtn=function(){this.musicBtn.onClick=this.onClickMusicBtn.bind(this)},e.prototype.playStartBtnIdleAnim=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[0],cc.Tween.stopAllByTarget(this.startBtnCenterIcon.node),cc.tween(this.startBtnCenterIcon.node).by(4,{angle:-360}).repeatForever().start()},e.prototype.playStartBtnOnScroll=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[1],this.playStartBtnScrollAnim()},e.prototype.playStartBtnOnFastScroll=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[3],this.playStartBtnScrollAnim()},e.prototype.playStartBtnScrollAnim=function(){this.scrollStartBtnCenterIcon(),this.startBtnScrollAnim.play(),this.startBtnScrollAnim2.play()},e.prototype.scrollStartBtnCenterIcon=function(){cc.Tween.stopAllByTarget(this.startBtnCenterIcon.node),cc.tween(this.startBtnCenterIcon.node).by(.5,{angle:-360}).repeatForever().start()},e.prototype.disableStartBtn=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[2],cc.Tween.stopAllByTarget(this.startBtnCenterIcon.node)},e.prototype.disableStartBtnOnScroll=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[3]},e.prototype.enableStartBtnOnScroll=function(){this.startBtnCenterIcon.spriteFrame=this.startBtnCenterIconSFList[1]},e.prototype.showOperateBtns=function(){this.operateBtnParent.active=!0,this.operateBtnParent.position=this.operateBtnParentPos,this.settingBtnParent.active=!1,this.bgNode.active=!1},e.prototype.playOperateShowAnim=function(){var t=this;this._isPlaySwitchBtnAnim=!0;var e=this.getIsMusicOn();this.muteIconNode.active=!e;var o=4;this.operateBtnParent.active=!0,this.operateBtnParent.position=this.operateBtnParentPos.add(cc.v3(0,-250,0)),this.operateBtnParent.opacity=0,cc.tween(this.operateBtnParent).to(.15,{position:this.operateBtnParentPos,opacity:255}).call(function(){0==--o&&(t._isPlaySwitchBtnAnim=!1)}).start(),cc.tween(this.settingBtnParent).to(.15,{position:this.settingBtnParentPos.add(cc.v3(0,-250,0)),opacity:0}).call(function(){t.settingBtnParent.active=!1,0==--o&&(t._isPlaySwitchBtnAnim=!1)}).start(),this.startBtnNode.active=!0,this.startBtnNode.opacity=0,cc.tween(this.startBtnNode).to(.15,{opacity:255}).call(function(){0==--o&&(t._isPlaySwitchBtnAnim=!1)}).start(),cc.tween(this.bgNode).to(.15,{opacity:0}).call(function(){t.bgNode.active=!1,0==--o&&(t._isPlaySwitchBtnAnim=!1)}).start()},e.prototype.playSettingShowAnim=function(){var t=this;this._isPlaySwitchBtnAnim=!0,this.muteIconNode.active=!1;var e=4;this.settingBtnParent.active=!0,this.settingBtnParent.position=this.settingBtnParentPos.add(cc.v3(0,-250,0)),this.settingBtnParent.opacity=0,cc.tween(this.settingBtnParent).to(.15,{position:this.settingBtnParentPos,opacity:255}).call(function(){0==--e&&(t._isPlaySwitchBtnAnim=!1)}).start(),cc.tween(this.operateBtnParent).to(.15,{position:this.operateBtnParentPos.add(cc.v3(0,-250,0)),opacity:0}).call(function(){t.operateBtnParent.active=!1,0==--e&&(t._isPlaySwitchBtnAnim=!1)}).start(),cc.tween(this.startBtnNode).to(.15,{opacity:0}).call(function(){t.startBtnNode.active=!1,0==--e&&(t._isPlaySwitchBtnAnim=!1)}).start(),this.bgNode.active=!0,this.bgNode.opacity=0,cc.tween(this.bgNode).to(.15,{opacity:255}).call(function(){0==--e&&(t._isPlaySwitchBtnAnim=!1)}).start()},e.prototype.disableOperateBtnExceptStartBtn=function(){this.addBtn.interactable=!1,this.addBtn.node.opacity=66,this.minusBtn.interactable=!1,this.minusBtn.node.opacity=66,this.switchSettingBtn.interactable=!1,this.switchSettingBtn.node.opacity=66,this.autoBtn.interactable=!1,this.disableNodeRecursively(this.autoBtn.node)},e.prototype.disableNodeRecursively=function(t){t.opacity=66;for(var e=0,o=t.children;e<o.length;e++){var i=o[e];this.disableNodeRecursively(i)}},e.prototype.enableOperateBtnExceptStartBtn=function(){this.addBtn.interactable=!0,this.minusBtn.interactable=!0,this.updateAddMinusBtn(),this.switchSettingBtn.interactable=!0,this.switchSettingBtn.node.opacity=255,this.autoBtn.interactable=!0,this.enableNodeRecursively(this.autoBtn.node)},e.prototype.enableNodeRecursively=function(t){t.opacity=255;for(var e=0,o=t.children;e<o.length;e++){var i=o[e];this.enableNodeRecursively(i)}},e.prototype.getIsMusicOn=function(){var t=localStorage.getItem(this.isMusicOnKey);return!t||"true"==t},e.prototype.onClickMusicBtn=function(){var t=this.getIsMusicOn();t=!t,this.saveIsMusicOn(t),s.default.setMute(!t),this.musicIconNode.getComponent(cc.Sprite).spriteFrame=this.musicIconSFList[t?0:1],s.default.play(this.btnAudio)},e.prototype.saveIsMusicOn=function(t){localStorage.setItem(this.isMusicOnKey,""+t)},e.prototype.updateMusicBtn=function(){var t=this.getIsMusicOn();s.default.setMute(!t),this.musicIconNode.getComponent(cc.Sprite).spriteFrame=this.musicIconSFList[t?0:1],this.muteIconNode.active=!t},e.prototype.updateAutoTimes=function(t){this.autoTimes.string=t.toString(),this.autoTimes.node.scale=t>=1e3?1.1:t>=100?.9:t>=10?1.2:1.5},e.prototype.showAutoTimesBtn=function(t){this.autoTimes.node.parent.active=!0,this.startBtnNode.active=!1,this.updateAutoTimes(t)},e.prototype.hideAutoTimesBtn=function(){this.autoTimes.node.parent.active=!1,this.startBtnNode.active=!0},r([h(cc.Node)],e.prototype,"startBtnNode",void 0),r([h(cc.Sprite)],e.prototype,"startBtnCenterIcon",void 0),r([h([cc.SpriteFrame])],e.prototype,"startBtnCenterIconSFList",void 0),r([h(cc.Node)],e.prototype,"operateBtnParent",void 0),r([h(cc.Node)],e.prototype,"settingBtnParent",void 0),r([h(cc.Node)],e.prototype,"bgNode",void 0),r([h(a.default)],e.prototype,"addBtn",void 0),r([h(a.default)],e.prototype,"minusBtn",void 0),r([h(c.default)],e.prototype,"switchSettingBtn",void 0),r([h(cc.Button)],e.prototype,"autoBtn",void 0),r([h(c.default)],e.prototype,"musicBtn",void 0),r([h(cc.Node)],e.prototype,"musicIconNode",void 0),r([h([cc.SpriteFrame])],e.prototype,"musicIconSFList",void 0),r([h(cc.Label)],e.prototype,"autoTimes",void 0),r([h(cc.Animation)],e.prototype,"startBtnScrollAnim",void 0),r([h(cc.Animation)],e.prototype,"startBtnScrollAnim2",void 0),r([h(cc.AudioClip)],e.prototype,"btnAudio",void 0),r([h(cc.Node)],e.prototype,"muteIconNode",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../audio/WebAudioEngine":"WebAudioEngine","./Button":"Button","./SlotButton":"SlotButton"}],Game1810Define:[function(t,e,o){"use strict";cc._RF.push(e,"b2a6c/5kEtMW7inPmEWLCw4","Game1810Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.Game1810Constant=o.Game1810GameResult=o.Game1810GameResultPage=o.Game1810WinLine=o.Game1810SymbolResult=o.Game1810GameResultSymbol=o.Game1810Event=o.PropType=o.Game1810HttpAPI=void 0;var i=function(){function t(){}return t.InitData="/api/ox/initRoom",t.GameResult="/api/ox/spin",t.History="/api/ox/history",t.DayHistory="/goldgame/single_game_user_history",t}();o.Game1810HttpAPI=i,function(t){t[t.Prop1=1]="Prop1",t[t.Prop2=2]="Prop2",t[t.Prop3=3]="Prop3",t[t.Prop4=4]="Prop4",t[t.Prop5=5]="Prop5",t[t.Prop6=6]="Prop6",t[t.Prop7=7]="Prop7"}(o.PropType||(o.PropType={}));var n=function(){function t(){}return t.game1810ReqInitRoomFail="game1810ReqInitRoomFail",t.game1810ReqGameResultFail="game1810ReqGameResultFail",t.game1810ServerError="game1810ServerError",t.game1810ReqGameResultTooFrequently="game1810ReqGameResultTooFrequently",t.game1810GetInfoFail="game1810GetInfoFail",t.game1810ResultIsSame="game1810ResultIsSame",t.game1810ReqHistoryFail="game1810ReqHistoryFail",t.game1810HistorySelectDate="game1810HistorySelectDate",t.game1810BalanceNotSufficient="game1810BalanceNotSufficient",t}();o.Game1810Event=n;o.Game1810GameResultSymbol=function(){};o.Game1810SymbolResult=function(){};o.Game1810WinLine=function(){};o.Game1810GameResultPage=function(){};o.Game1810GameResult=function(){};var r=function(){function t(){}return t.FIRST_THIRD_ROW_NUM=3,t.SECOND_COL_ROW_NUM=4,t.COL_NUM=3,t.BOUNCE_TIME1=.08,t.BOUNCE_TIME2=.05,t.BOUNCE_TIME3=.02,t.GRAY_MASK_FADE_IN_OUT_TIME=.3,t.WIN_LINE_COUNT=10,t.TOTAL_WIN_NUMBER_CHANGE_RATIO=5,t.BIG_WIN_RATIO=20,t.MEGA_WIN_RATIO=35,t.SUPER_WIN_RATIO=50,t}();o.Game1810Constant=r,cc._RF.pop()},{}],Game1810HistoryItem:[function(t,e,o){"use strict";cc._RF.push(e,"3c324JsE45JapaQdFunGAHh","Game1810HistoryItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Component/ListItem"),a=t("../../common_game/SlotGame/SlotUtility"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dateLab=null,e.transactionIdLab=null,e.betAmountLab=null,e.profitLab=null,e.luckyIconNode=null,e.bg=null,e}return n(e,t),e.prototype.init=function(t,e){this.data=t,this.idx=e;var o=new Date(1e3*t.time),i=o.getHours(),n=o.getMinutes(),r=o.getSeconds(),s=o.getMonth()+1,c=o.getDate(),l=i<10?"0"+i:i.toString(),p=n<10?"0"+n:n.toString(),h=r<10?"0"+r:r.toString(),u=s<10?"0"+s:s.toString(),d=c<10?"0"+c:c.toString();this.dateLab.string=l+":"+p+":"+h+"\n"+u+"/"+d;var f=t.order_id.substring(0);f.length>9&&(f=f.substring(0,9)+"\n"+f.substring(9)),this.transactionIdLab.string=f,this.betAmountLab.string=a.default.formatNumber(t.bet_gold);var m=Number(t.result[t.result.length-1].tw);this.profitLab.string=a.default.formatNumber(m),this.profitLab.node.opacity=m>0?255:153,this.luckyIconNode.active=2==t.type,this.updateBgColor()},e.prototype.updateBgColor=function(){this.bg.color=this.idx%2?cc.color(48,48,60):cc.color(52,52,63)},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),cc.sys.isMobile?(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)):(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),cc.sys.isMobile?(this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)):(this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onTouchStart=function(){this.updateBgColorOnFocus()},e.prototype.updateBgColorOnFocus=function(){this.bg.color=cc.color(40,40,52)},e.prototype.onTouchEnd=function(){this.updateBgColor(),this.onClick&&this.onClick()},e.prototype.onTouchCancel=function(){this.updateBgColor()},e.prototype.onMouseEnter=function(){this.updateBgColorOnFocus()},e.prototype.onMouseLeave=function(){this.updateBgColor()},e.prototype.onMouseUp=function(){this.updateBgColor(),this.onClick&&this.onClick()},r([p(cc.Label)],e.prototype,"dateLab",void 0),r([p(cc.Label)],e.prototype,"transactionIdLab",void 0),r([p(cc.Label)],e.prototype,"betAmountLab",void 0),r([p(cc.Label)],e.prototype,"profitLab",void 0),r([p(cc.Node)],e.prototype,"luckyIconNode",void 0),r([p(cc.Node)],e.prototype,"bg",void 0),r([l],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../Common/Component/ListItem":"ListItem","../../common_game/SlotGame/SlotUtility":"SlotUtility"}],Game1810Mgr:[function(t,e,o){"use strict";cc._RF.push(e,"8350fkwrKBBRpBJo0Mc5gHA","Game1810Mgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.Game1810Mgr=void 0;var i=t("../../../Common/Define/ShareDefine"),n=t("../../../script/common_game/SlotGame/SlotBetAmountData"),r=t("../../../script/common_game/SlotGame/SlotUtility"),s=t("./Game1810Define"),a=0,c=function(){function t(){this.betsInfo=null}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),t.prototype.getGameResult=function(){return this.gameResult},t.prototype.getTotalWinAmount=function(){return this.gameResult.total_win},t.prototype.getBetGold=function(){return this.gameResult.bet_gold},t.prototype.Init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.OnReload=function(){a++},t.prototype.OnClear=function(){},t.prototype.updateBetAmountData=function(t){this.betAmountData=new n.default(t,[1,2,3,4,5,6,7,8,9,10],[10])},t.prototype.getBetAmountConfig=function(){var t=new i.GameBetDataConfig;return t.betSizeConfig=this.betAmountData.getBetSizeList(),t.betLevelConfig=this.betAmountData.getBetLevelList(),t.betLinesConfig=this.betAmountData.getBaseBetList(),t},t.prototype.getBetAmountList=function(){return this.betAmountData.getBetAmountList()},t.prototype.updateBetAmountOption=function(t,e,o){this.betAmountOptionIdx=this.betAmountData.indexOf(Big(t),Big(e),Big(o))},t.prototype.getCurBetAmountOption=function(){return this.betAmountData.getBetAmountOption(this.betAmountOptionIdx)},t.prototype.getBetAmountOptionIdx=function(){return this.betAmountOptionIdx},t.prototype.getBetAmountOptionMaxIdx=function(){return this.betAmountData.getBetAmountList().length},t.prototype.getCurBetAmountStr=function(){return r.default.formatBig(this.getCurBetAmountOption().getBetAmount())},t.prototype.nextBiggerBetAmountOptionIdx=function(){for(var t=this.getCurBetAmountOption().getBetAmount(),e=this.betAmountData.getBetAmountOptionList(),o=0;o<e.length;o++){var i=e[o];if(t.lt(i.getBetAmount()))return this.betAmountOptionIdx=o,o}return-1},t.prototype.prevSmallerBetAmountOptionIdx=function(){for(var t=this.getCurBetAmountOption().getBetAmount(),e=this.betAmountData.getBetAmountOptionList(),o=e.length-1;o>=0;o--){var i=e[o];if(t.gt(i.getBetAmount()))return this.betAmountOptionIdx=o,o}return-1},t.prototype.hasBiggerBetAmountOption=function(){for(var t=this.getCurBetAmountOption().getBetAmount(),e=this.betAmountData.getBetAmountOptionList(),o=0;o<e.length;o++){var i=e[o];if(t.lt(i.getBetAmount()))return!0}return!1},t.prototype.hasSmallerBetAmountOption=function(){for(var t=this.getCurBetAmountOption().getBetAmount(),e=this.betAmountData.getBetAmountOptionList(),o=e.length-1;o>=0;o--){var i=e[o];if(t.gt(i.getBetAmount()))return!0}return!1},t.prototype.getToken=function(){var t=new URL(window.location.href);return new URLSearchParams(t.search).get("token")},t.prototype.getGameId=function(){var t=new URL(window.location.href);return new URLSearchParams(t.search).get("game_id")},t.prototype.getUrlCurrency=function(){var t=new URL(window.location.href);return new URLSearchParams(t.search).get("currency")},t.prototype.reqGameResult=function(){var t=this,e=this.getCurBetAmountOption();if(e.getBetAmount().gt(this.gameResult.end_gold))return this.gameResult.total_win=0,this.gameResult.type=1,this.gameResult.props=[{prop:[1,1,1,2,2,2,2,3,3,3],win_arr:[],tw:0,all:0}],this.gameResult.bet_gold=0,void cc.systemEvent.emit(s.Game1810Event.game1810BalanceNotSufficient);var o={token:this.getToken(),bet_gold:e.getBetSize().toNumber(),level:e.getBetLevel().toNumber(),game_id:this.getGameId()},n=a;app.HttpServerManager().SendHttpCB(s.Game1810HttpAPI.GameResult,o,function(e){n==a?e.meta?cc.systemEvent.emit(s.Game1810Event.game1810ServerError):t.onGameResult(e):cc.warn(s.Game1810HttpAPI.GameResult+" seqNo is different, success callback ignore")},!1,i.RetryType.Normal,0,function(){n==a?cc.systemEvent.emit(s.Game1810Event.game1810ReqGameResultFail):cc.warn(s.Game1810HttpAPI.GameResult+" seqNo is different, fail callback ignore")})},t.prototype.reqGetInfo=function(){var t=this,e={token:this.getToken(),game_id:this.getGameId()},o=a;app.HttpServerManager().SendHttpCB(s.Game1810HttpAPI.InitData,e,function(e){o==a?e.meta?cc.systemEvent.emit(s.Game1810Event.game1810ServerError):e.data.oid==t.gameResult.oid?cc.systemEvent.emit(s.Game1810Event.game1810ResultIsSame):t.onGameResult(e):cc.warn(t.reqGetInfo.name+" seqNo is different, success callback ignore")},!1,i.RetryType.Normal,0,function(){o==a?cc.systemEvent.emit(s.Game1810Event.game1810GetInfoFail):cc.warn(t.reqGetInfo.name+" seqNo is different, fail callback ignore")})},t.prototype.reqInitData=function(){var t=this,e={token:this.getToken(),game_id:this.getGameId(),currency:this.getUrlCurrency()},o=a;app.HttpServerManager().SendHttpCB(s.Game1810HttpAPI.InitData,e,function(e){o==a?t.onInitData(e):cc.warn(t.reqInitData.name+" seqNo is different, success callback ignore")},!1,i.RetryType.Normal,0,function(){o==a?t.onInitDataFail():cc.warn(t.reqInitData.name+" seqNo is different, fail callback ignore")})},t.prototype.onGameResult=function(t){var e=t.data;this.gameResult.start_gold=e.start_gold,this.gameResult.end_gold=e.end_gold,this.gameResult.change_gold=e.change_gold,this.gameResult.bet=e.bet,this.gameResult.level=e.level,this.gameResult.bet_gold=e.bet_gold,this.gameResult.total_win=e.total_win,this.gameResult.type=e.type,this.gameResult.oid=e.oid,this.gameResult.props=e.props,cc.systemEvent.emit(s.Game1810HttpAPI.GameResult,!1)},t.prototype.onInitData=function(t){if(t.meta)cc.systemEvent.emit(s.Game1810Event.game1810ServerError);else{var e=t.data;e.bet=e.bet||1,e.level=e.level||1;for(var o=0;o<e.config_money.length;o++)e.config_money[o]=Big(e.config_money[o]).times(e.multiplier).toNumber();this.gameResult=e,this.updateBetAmountData(e.config_money),0==e.bet_gold?(this.betAmountOptionIdx=this.betAmountData.lteIndexOf(Big(e.end_gold/100)),-1==this.betAmountOptionIdx&&(this.betAmountOptionIdx=0)):(this.betAmountOptionIdx=this.betAmountData.indexOf(Big(e.bet),Big(e.level),Big(e.bet_gold).div(e.bet).div(e.level)),-1==this.betAmountOptionIdx&&(this.betAmountOptionIdx=this.betAmountData.lteIndexOf(Big(e.end_gold/100)),-1==this.betAmountOptionIdx&&(this.betAmountOptionIdx=0))),cc.systemEvent.emit(s.Game1810HttpAPI.InitData)}},t.prototype.onInitDataFail=function(){cc.systemEvent.emit(s.Game1810Event.game1810ReqInitRoomFail)},t.prototype.reqHistory=function(){var t={game_id:this.getGameId(),token:this.getToken()};app.HttpServerManager().SendHttpPack(s.Game1810HttpAPI.History,t)},t.prototype.onHistory=function(t){var e=t.data;this.historyList=e,cc.systemEvent.emit(s.Game1810HttpAPI.History,e)},t.prototype.onHistoryFail=function(){cc.systemEvent.emit(s.Game1810Event.game1810ReqHistoryFail)},t.prototype.reqDayHistory=function(t,e,o,n){var r,a;if(0==e){var c=new Date;r=Math.floor(new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0).getTime()/1e3),a=Math.floor(new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59).getTime()/1e3)}else 1==e?(c=new Date,r=Math.floor(new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0).getTime()/1e3)-518400,a=Math.floor(new Date(c.getFullYear(),c.getMonth(),c.getDate(),23,59,59).getTime()/1e3)):(r=Math.floor(new Date(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0).getTime()/1e3),a=Math.floor(new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59).getTime()/1e3));var l={token:this.getToken(),game_id:this.getGameId(),begin:r,end:a,pageIdx:t,pageSize:15};app.HttpServerManager().SendHttpCB(s.Game1810HttpAPI.History,l,this.onHistory.bind(this),!1,i.RetryType.Normal,0,this.onHistoryFail.bind(this))},t.prototype.onDayHistory=function(t){this.dayHistoryList=t,cc.systemEvent.emit(s.Game1810HttpAPI.DayHistory,t)},t}();o.Game1810Mgr=c,cc._RF.pop()},{"../../../Common/Define/ShareDefine":"ShareDefine","../../../script/common_game/SlotGame/SlotBetAmountData":"SlotBetAmountData","../../../script/common_game/SlotGame/SlotUtility":"SlotUtility","./Game1810Define":"Game1810Define"}],Game1810ResultDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"74bb53njPBLJ6eWou9+VZ+Y","Game1810ResultDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=t("./Game1810Define"),c=t("./Game1810ScrollSymbol"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolPrefab=null,e}var o;return n(e,t),o=e,e.prototype.OnLoad=function(){this.JS_Name=o.name},e.prototype.init=function(){this.symbolList=[];for(var t=0;t<a.Game1810Constant.COL_NUM;t++)this.symbolList.push([]);this.symbolNodePool=new cc.NodePool},e.prototype.setRoomMgr=function(t){this.roomMgr=t},e.prototype.getSymbolNode=function(){var t=this.symbolNodePool.get();return t?t.getComponent(c.default):(t=cc.instantiate(this.symbolPrefab)).getComponent(c.default)},e.prototype.colPosX=function(t){return-this.node.width/2+(t+.5)*this.symbolPrefab.data.width},e.prototype.updateColToResult=function(t){var e=this.result.symbolList[t],o=this.colPosX(t),i=-this.node.height/2;i=2==e.length?-this.node.height/2+(this.node.height-2*this.symbolPrefab.data.height)/2:3*-this.symbolPrefab.data.height/2;for(var n=this.symbolList[t],r=0,s=0;r<n.length&&s<e.length;){var a=n[r];(l=a.getComponent(c.default)).setInfo(e[s]),a.position=cc.v3(o,i+a.height/2,0),i+=a.height,r++,s++}if(r<n.length)for(;r<n.length;){var l=n.pop();this.symbolNodePool.put(l)}else for(;s<e.length;)(l=this.getSymbolNode()).node.position=cc.v3(o,i+l.node.height/2,0),i+=l.node.height,l.node.parent=this.node,n.push(l.node),l.setInfo(e[s]),s++},e.prototype.updateToResult=function(t){this.result=t;for(var e=0;e<this.symbolList.length;e++)this.updateColToResult(e);if(t.totalWin>0)for(e=0;e<this.symbolList.length;e++){var o=this.symbolList[e][1];o&&o.getComponent(c.default).playWinLoopAnim()}},e.prototype.hideColSymbols=function(t){for(var e=this.symbolList[t],o=0;o<e.length;o++)e[o].active=!1},e.prototype.setResult=function(t){this.result=t},e.prototype.showColSymbols=function(t){this.updateColToResult(t);for(var e=this.symbolList[t],o=0;o<e.length;o++)e[o].active=!0},e.prototype.playWinAnim=function(){for(var t=0;t<this.symbolList.length;t++){var e=this.symbolList[t][1];e&&e.getComponent(c.default).playWinAnim()}},e.prototype.stopAnim=function(){for(var t=0;t<this.symbolList.length;t++)for(var e=this.symbolList[t],o=0;o<e.length;o++)e[o].getComponent(c.default).stopAnim()},e.prototype.playWinLoopAnim=function(){for(var t=0;t<this.symbolList.length-1;t++){var e=this.symbolList[t][1];e&&e.getComponent(c.default).playWinLoopAnim()}},r([h(cc.Prefab)],e.prototype,"symbolPrefab",void 0),o=r([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","./Game1810Define":"Game1810Define","./Game1810ScrollSymbol":"Game1810ScrollSymbol"}],Game1810ScrollSymbol:[function(t,e,o){"use strict";cc._RF.push(e,"abc3eqkYzJLUKZhqilW3/qi","Game1810ScrollSymbol");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=t("../../audio/WebAudioEngine"),c=t("./AudioConfig"),l=t("./Game1810Define"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolSkeleton=null,e.symbolSkeletonDataList=[],e.symbolBlurSpr=null,e.symbolBlurSFList=[],e.anim=null,e.winCircleSpr=null,e.winCircleSFList=[],e.generalAudio=null,e.wildLightSpr=null,e.lightNodeList=[],e}var o;return n(e,t),o=e,e.prototype.OnLoad=function(){var t=this;this.JS_Name=o.name,this.symbolSkeleton.setCompleteListener(function(e){if("spawn"!=e.animation.name||"spawn"!=t.symbolSkeleton.animation)return"win"==e.animation.name&&"win"==t.symbolSkeleton.animation&&t.symbolId==l.PropType.Prop7?void t.playWildIdleAnim():void 0;t.playWildIdleAnim()}),this.anim.on(cc.Animation.EventType.FINISHED,function(e,o){"wild_light"!=o.name||(t.wildLightSpr.node.active=!1)})},e.prototype.getCol=function(){return this.col},e.prototype.setCol=function(t){this.col=t},e.prototype.setInfo=function(t,e){void 0===e&&(e=!1),this.symbolId=t,this.isBlur=e,e?(this.symbolSkeleton.node.active=!1,this.symbolBlurSpr.node.active=!0,this.symbolBlurSpr.spriteFrame=this.symbolBlurSFList[t-1]):(this.symbolBlurSpr.node.active=!1,this.symbolSkeleton.node.active=!0,this.symbolSkeleton.skeletonData=this.symbolSkeletonDataList[t-1],this.delaySetMix()),this.stopAnim()},e.prototype.delaySetMix=function(){this.scheduleOnce(this.setMix)},e.prototype.setMix=function(){if(this.symbolId==l.PropType.Prop7)for(var t=["idle base","spawn","win"],e=0;e<t.length;e++)for(var o=0;o<t.length;o++)this.symbolSkeleton.setMix(t[e],t[o],.2)},e.prototype.getSymbolId=function(){return this.symbolId},e.prototype.blur=function(){this.isBlur||(this.isBlur=!0,this.symbolSkeleton.node.active=!1,this.symbolBlurSpr.node.active=!0,this.symbolBlurSpr.spriteFrame=this.symbolBlurSFList[this.symbolId-1])},e.prototype.notBlur=function(){this.isBlur&&(this.isBlur=!1,this.symbolBlurSpr.node.active=!1,this.symbolSkeleton.node.active=!0,this.symbolSkeleton.skeletonData=this.symbolSkeletonDataList[this.symbolId-1])},e.prototype.setRandomInfo=function(t){void 0===t&&(t=!1);var e=Math.floor(Math.random()*(l.PropType.Prop7-l.PropType.Prop1+1)+l.PropType.Prop1);this.setInfo(e,t)},e.prototype.playWinAnim=function(t){this.symbolId==l.PropType.Prop7?this.symbolSkeleton.setAnimation(0,"win",!1):this.symbolSkeleton.setAnimation(0,"win",!0),!t||0!=this.col&&2!=this.col?this.winCircleSpr.spriteFrame=this.winCircleSFList[0]:this.winCircleSpr.spriteFrame=this.winCircleSFList[1],this.anim.play("symbol_loop1");var e=this.symbolId==l.PropType.Prop7?2.36:2.3;cc.tween(this.symbolSkeleton.node).to(.4,{scale:e}).start()},e.prototype.playWildCollectAnim=function(t,e){var o=this;cc.tween(this.node).delay(t).call(function(){o.symbolSkeleton.setAnimation(0,"spawn",!1),a.default.play(o.generalAudio,c.default.wildLightStart[0],c.default.wildLightStart[1]),o.wildLightSpr.node.active=!0,o.anim.play("wild_light")}).delay(.1).parallel(cc.tween().to(.1,{scale:1.3}).call(function(){e()}).to(.1,{scale:.9}).to(.1,{scale:1}),cc.tween().call(function(){})).start()},e.prototype.playWildIdleAnim=function(){this.symbolSkeleton.setAnimation(0,"idle base",!0)},e.prototype.stopAnim=function(){this.anim.setCurrentTime(0,"symbol_loop1"),this.anim.stop(),this.wildLightSpr.node.active=!1,cc.Tween.stopAllByTarget(this.node),cc.Tween.stopAllByTarget(this.symbolSkeleton.node),this.node.scale=1,this.symbolSkeleton.node.scale=2,this.symbolSkeleton.animation="",this.lightNodeList.forEach(function(t){return t.opacity=0})},e.prototype.onClick=function(){this.onClickSymbol&&this.onClickSymbol(this)},r([u(sp.Skeleton)],e.prototype,"symbolSkeleton",void 0),r([u([sp.SkeletonData])],e.prototype,"symbolSkeletonDataList",void 0),r([u(cc.Sprite)],e.prototype,"symbolBlurSpr",void 0),r([u([cc.SpriteFrame])],e.prototype,"symbolBlurSFList",void 0),r([u(cc.Animation)],e.prototype,"anim",void 0),r([u(cc.Sprite)],e.prototype,"winCircleSpr",void 0),r([u([cc.SpriteFrame])],e.prototype,"winCircleSFList",void 0),r([u(cc.AudioClip)],e.prototype,"generalAudio",void 0),r([u(cc.Sprite)],e.prototype,"wildLightSpr",void 0),r([u([cc.Node])],e.prototype,"lightNodeList",void 0),o=r([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","../../audio/WebAudioEngine":"WebAudioEngine","./AudioConfig":"AudioConfig","./Game1810Define":"Game1810Define"}],Game1810Scroll:[function(t,e,o){"use strict";cc._RF.push(e,"d73d26MbW9OAqx4JtsFNutB","Game1810Scroll");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=function(t){this.data=t},c=function(){function t(){this.head=new a(null),this.tail=new a(null),this.head.prev=null,this.head.next=this.tail,this.tail.prev=this.head,this.tail.next=null,this.size=0,this.nodePool=[]}return t.prototype.count=function(){return this.size},t.prototype.empty=function(){return 0==this.size},t.prototype.first=function(){return this.head.next},t.prototype.last=function(){return this.tail.prev},t.prototype.isHead=function(t){return t==this.head},t.prototype.isTail=function(t){return t==this.tail},t.prototype.getListNode=function(t){if(this.nodePool.length>0){var e=this.nodePool.pop();return e.data=t,e}return new a(t)},t.prototype.insertBefore=function(t,e){var o=this.getListNode(t);return o.prev=e.prev,o.next=e,e.prev.next=o,e.prev=o,++this.size,o},t.prototype.insertAfter=function(t,e){var o=this.getListNode(t);return o.prev=e,o.next=e.next,e.next.prev=o,e.next=o,++this.size,o},t.prototype.insertAsLast=function(t){return this.insertBefore(t,this.tail)},t.prototype.insertAsFirst=function(t){return this.insertAfter(t,this.head)},t.prototype.recycleListNode=function(t){t.prev=null,t.next=null,t.data=null,this.nodePool.push(t)},t.prototype.remove=function(t){t.prev.next=t.next,t.next.prev=t.prev,this.recycleListNode(t),--this.size},t.prototype.removeFirst=function(){this.remove(this.first())},t.prototype.removeLast=function(){this.remove(this.last())},t}(),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolPrefab=null,e}var o;return n(e,t),o=e,e.prototype.OnLoad=function(){this.JS_Name=o.name},e.prototype.init=function(t){this.colNum=t,this.nodePool=new cc.NodePool,this.symbolList=[],this.scrollTotalTimeList=[],this.scrollTimeList=[],this.scrollTotalDistanceList=[],this.scrollDistanceList=[],this.scrollEaseList=[],this.needScrollList=[],this.needScrollForeverList=[],this.scrollForeverSpeedList=[];for(var e=0;e<this.colNum;e++)this.symbolList.push(new c),this.scrollTimeList.push(0),this.scrollTotalTimeList.push(0),this.scrollDistanceList.push(0),this.scrollEaseList.push(null),this.scrollTotalDistanceList.push(0),this.needScrollList.push(!1),this.needScrollForeverList.push(!1),this.scrollForeverSpeedList.push(0);this.curFrameScrollFinishColList=[]},e.prototype.getSymbolNode=function(){var t=this.nodePool.get();return t||(t=cc.instantiate(this.symbolPrefab)),t},e.prototype.putSymbolNode=function(t){t.active=!0,this.nodePool.put(t)},e.prototype.updateColSymbolsByCount=function(t,e,o){if(void 0===o&&(o=0),o<0)throw new Error("downwardOffset must be nonnegative:"+o);for(var i=0,n=this.colPosX(t),r=-this.node.height/2-o,s=this.symbolList[t],a=s.first();!s.isTail(a)&&i<e;){var c=a.data;this.onUpdateSymbol(t,i,c),c.position=cc.v3(n,r+c.height/2,0),r+=c.height,a=a.next,i++}if(s.isTail(a))for(;i<e;)c=this.getSymbolNode(),this.onUpdateSymbol(t,i,c),c.position=cc.v3(n,r+c.height/2,0),r+=c.height,c.parent=this.node,s.insertAsLast(c),i++;else for(;!s.isTail(a);){this.putSymbolNode(a.data);var l=a.next;s.remove(a),a=l}},e.prototype.updateColSymbols=function(t,e){if(void 0===e&&(e=0),e<0)throw new Error("downwardOffset must be nonnegative:"+e);for(var o=0,i=this.colPosX(t),n=-this.node.height/2-e,r=this.node.height/2,s=this.symbolList[t],a=s.first();!s.isTail(a)&&n<r;){var c=a.data;this.onUpdateSymbol(t,o,c),c.position=cc.v3(i,n+c.height/2,0),n+=c.height,a=a.next,o++}if(s.isTail(a))for(;n<r;)c=this.getSymbolNode(),this.onUpdateSymbol(t,o,c),c.position=cc.v3(i,n+c.height/2,0),n+=c.height,c.parent=this.node,s.insertAsLast(c),o++;else for(;!s.isTail(a);){this.putSymbolNode(a.data);var l=a.next;s.remove(a),a=l}},e.prototype.scroll=function(t,e,o,i){if(void 0===i&&(i=null),e<0)throw new Error("time must be nonnegative:"+e);this.stopForeverScroll(t),this.scrollTimeList[t]=0,this.scrollTotalTimeList[t]=e,this.scrollDistanceList[t]=0,this.scrollTotalDistanceList[t]=o,this.scrollEaseList[t]=i,this.needScrollList[t]=!0},e.prototype.stopScroll=function(t){this.needScrollList[t]=!1,this.scrollTimeList[t]=0,this.scrollTotalTimeList[t]=0,this.scrollDistanceList[t]=0,this.scrollEaseList[t]=null,this.scrollTotalDistanceList[t]=0},e.prototype.scrollForever=function(t,e){this.stopScroll(t),this.needScrollForeverList[t]=!0,this.scrollForeverSpeedList[t]=e},e.prototype.stopForeverScroll=function(t){this.needScrollForeverList[t]=!1,this.scrollForeverSpeedList[t]=0},e.prototype.createSymbol=function(){var t=this.nodePool.get();return t||(t=cc.instantiate(this.symbolPrefab)),t},e.prototype.colPosX=function(t){return-this.node.width/2+(t+.5)*this.symbolPrefab.data.width},e.prototype.cyclicScroll=function(t){for(var e=this.symbolList[t],o=-this.node.height/2,i=this.colPosX(t);;){var n=e.first().data;if((l=n.y-n.height/2)<=o)break;var r=this.createSymbol();this.onSymbolAppear(t,r),r.position=cc.v3(i,l-r.height/2,0),r.parent=this.node,e.insertAsFirst(r)}for(var s=this.node.height/2;;){var a=e.last().data;if((c=a.y+a.height/2)>=s)break;r=this.createSymbol(),this.onSymbolAppear(t,r),r.position=cc.v3(i,c+r.height/2,0),r.parent=this.node,e.insertAsLast(r)}for(;!e.empty();){var c;if((c=(r=e.first().data).y+r.height/2)>=o)break;e.removeFirst(),this.onSymbolRecycle(r),this.putSymbolNode(r)}for(;!e.empty();){var l;if((l=(r=e.last().data).y-r.height/2)<=s)break;e.removeLast(),this.onSymbolRecycle(r),this.putSymbolNode(r)}},e.prototype.update=function(t){t=Math.min(t,.02);for(var e=0;e<this.colNum;e++)if(this.needScrollList[e]){this.scrollTimeList[e]+=t;var o=Math.min(this.scrollTimeList[e]/this.scrollTotalTimeList[e],1);this.scrollEaseList[e]&&(o=this.scrollEaseList[e].easing(o));var i=this.scrollTotalDistanceList[e]*o,n=i-this.scrollDistanceList[e];this.scrollDistanceList[e]=i;for(var r=(s=this.symbolList[e]).first();!s.isTail(r);)(a=r.data).position=a.position.add(cc.v3(0,n,0)),r=r.next;this.scrollTimeList[e]>=this.scrollTotalTimeList[e]&&(this.stopScroll(e),this.curFrameScrollFinishColList.push(e)),this.cyclicScroll(e)}else if(this.needScrollForeverList[e]){var s;for(n=this.scrollForeverSpeedList[e]*t,r=(s=this.symbolList[e]).first();!s.isTail(r);){var a;(a=r.data).position=a.position.add(cc.v3(0,n,0)),r=r.next}this.cyclicScroll(e)}for(e=0;e<this.curFrameScrollFinishColList.length;e++)this.onColScrollFinish(this.curFrameScrollFinishColList[e]);this.curFrameScrollFinishColList.splice(0)},e.prototype.lastSymbolUpperBoundOffset=function(t){var e=this.symbolList[t].last().data,o=this.node.height/2;return e.y+e.height/2-o},e.prototype.hideSymbols=function(t){this.stopScroll(t),this.stopForeverScroll(t);for(var e=this.symbolList[t],o=e.first();!e.isTail(o);)o.data.active=!1,o=o.next},e.prototype.showColSymbols=function(t){for(var e=this.symbolList[t],o=e.first();!e.isTail(o);)o.data.active=!0,o=o.next},e.prototype.traversalColSymbols=function(t,e){for(var o=this.symbolList[t],i=o.first();!o.isTail(i);)e(i.data),i=i.next},e.prototype.symbolCount=function(t){return this.symbolList[t].count()},e.prototype.getSymbol=function(t,e){for(var o=this.symbolList[t].first();e>0;)o=o.next,e--;return o.data},r([h(cc.Prefab)],e.prototype,"symbolPrefab",void 0),o=r([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],Game1810StartBtnHoverLightEffect:[function(t,e,o){"use strict";cc._RF.push(e,"b7feeY0ewFKZoPQ3brU7+ax","Game1810StartBtnHoverLightEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return n(e,t),e.prototype.onEnable=function(){this.anim.stop(),this.anim.node.active=!1,app.ComTool().DesktopPlatform()&&(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onDisable=function(){app.ComTool().DesktopPlatform()&&(this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onMouseEnter=function(){this.isMouseHover=!0,this.isEnable&&this.playAnim()},e.prototype.onMouseLeave=function(){this.isMouseHover=!1,this.isEnable&&(this.anim.stop(),this.anim.node.active=!1)},e.prototype.playAnim=function(){var t;this.anim.node.active=!0,t=this.isTopEnable&&this.isBottomEnable?"StartBtnHoverLightNode_fi":this.isTopEnable?"StartBtnHoverLightNode_fire":"StartBtnHoverLightNode_ice",this.anim.play(t)},e.prototype.setEnable=function(t,e,o){app.ComTool().DesktopPlatform()&&(this.isEnable=t,this.isTopEnable=e,this.isBottomEnable=o,t?this.isMouseHover&&this.playAnim():(this.anim.stop(),this.anim.node.active=!1))},e.prototype.setIsTopBottomEnable=function(t,e){this.isTopEnable=t,this.isBottomEnable=e},r([l(cc.Animation)],e.prototype,"anim",void 0),r([c],e)}(s.default);o.default=p,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],Game1810SymbolArea:[function(t,e,o){"use strict";cc._RF.push(e,"5ec52Gcq25BUb9v6F16CTJm","Game1810SymbolArea");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a,c=t("../../../Common/Base/BaseComponent"),l=t("../../../script/audio/WebAudioEngine"),p=t("../../../script/common_game/SlotGame/SlotHoverLightEffect"),h=t("../../../script/common_game/SlotGame/SlotNumberChangeDisplay"),u=t("../../../script/common_game/SlotGame/SlotUtility"),d=t("./AudioConfig"),f=t("./Game1810BottomBtn"),m=t("./Game1810Define"),y=t("./Game1810Mgr"),g=t("./Game1810Scroll"),_=t("./Game1810ScrollSymbol"),v=t("./Game1810TipDisplay"),S=t("./Game1810WidLightDisplay"),b=t("./Game1810WinAmountDisplay"),O=t("./OxBigWinView");(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.IDLE=1]="IDLE",t[t.NORMAL_SCROLL_PHASE1=2]="NORMAL_SCROLL_PHASE1",t[t.NORMAL_SCROLL_PHASE2=3]="NORMAL_SCROLL_PHASE2",t[t.FAST_SCROLL_PHASE1=4]="FAST_SCROLL_PHASE1",t[t.FAST_SCROLL_PHASE2=5]="FAST_SCROLL_PHASE2",t[t.SCROLL_FOREVER=6]="SCROLL_FOREVER",t[t.READY_SCROLL_TO_RESULT=7]="READY_SCROLL_TO_RESULT",t[t.SCROLL_TO_RESULT=8]="SCROLL_TO_RESULT",t[t.NORMAL_SCROLL_PHASE5=9]="NORMAL_SCROLL_PHASE5",t[t.LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS=10]="LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS",t[t.LUCKY_MODE_REPEAT_SYMBOL_SCROLL=11]="LUCKY_MODE_REPEAT_SYMBOL_SCROLL",t[t.LUCKY_MODE_SCROLL_PHASE1=12]="LUCKY_MODE_SCROLL_PHASE1",t[t.LUCKY_SLOW_SCROLL_PHASE1=13]="LUCKY_SLOW_SCROLL_PHASE1",t[t.LUCKY_SLOW_SCROLL_PHASE2=14]="LUCKY_SLOW_SCROLL_PHASE2",t[t.SLOW_SCROLL_PHASE1=15]="SLOW_SCROLL_PHASE1",t[t.SLOW_SCROLL_PHASE2=16]="SLOW_SCROLL_PHASE2"})(s||(s={})),function(t){t[t.IDLE1=0]="IDLE1",t[t.IDLE2=1]="IDLE2",t[t.WINK=2]="WINK",t[t.MAYBE_TEN_MULTIPLE=3]="MAYBE_TEN_MULTIPLE",t[t.LUCKY_MODE=4]="LUCKY_MODE",t[t.TEN_MULTIPLE=5]="TEN_MULTIPLE",t[t.WIN_UP=6]="WIN_UP"}(a||(a={}));var E=function(t,e,o){this.symbol=t,this.oldParent=e,this.oldPos=o},A=cc._decorator,L=A.ccclass,T=A.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolPrefab=null,e.symbolColList=[],e.midColGrayMaskNode=null,e.rightColGrayMaskNode=null,e.tenMultipleTipNode=null,e.col2LightAnim=null,e.col3LightAnim=null,e.shakeNode=null,e.roleSkeleton=null,e.wildLightParent=null,e.wildLightPrefab=null,e.wildLightTarget=null,e.winAmountDisplay=null,e.tipDisplay=null,e.tenMultipleTextNode=null,e.bigWinView=null,e.totalWinNumberChangeDisplay=null,e.goldNumDisplay=null,e.betAmountTextNode=null,e.bottomBtn=null,e.touchSkipScrollNode=null,e.touchLightAnim=null,e.startBtnHoverLightEffect=null,e.winLinesBgNode=null,e.winLineSymbolParent=null,e.winLineAmountLab=null,e.bgmAudioList=[],e.tenMultipleLightAnim=null,e.wildCollectFxAnim=null,e.colLuckyModeBgList=[],e.oxLightBgAnim=null,e.yuanBaoAnim=null,e.scaleNode=null,e.snapAnimList=[],e.fingerLightAnimList=[],e.luckyStartColLightAnimList=[],e.respinColLightAnimList=[],e.respinTitleNode=null,e.guangNode=null,e.tenMultipleLightNode=null,e.generalAudio=null,e.luckyMode10MultipleTipParticle=null,e.colStartInterval=.15,e.normalScrollVelocity=-4e3,e.normalScrollSlowDownVelocity=.7*e.normalScrollVelocity,e.fastScrollVelocity=-4500,e.normalScrollPhase1Distance=50,e.normalScrollPhase1Time=.1,e.normalScrollPhase2Distance=150,e.normalScrollPhase2Time=e.normalScrollPhase2Distance/Math.abs(e.normalScrollVelocity),e.normalScrollFinishBounceDistance=40,e.normalScrollFinishBounceTime=.5,e.fastScrollPhase1Distance=50,e.fastScrollPhase1Time=.1,e.fastScrollPhase2Distance=150,e.fastScrollPhase2Time=e.fastScrollPhase2Distance/Math.abs(e.fastScrollVelocity),e.slowScrollBounceDistance=20,e.slowScrollBounceTime=.15,e.winLine2SymbolIdx=new Map([[1,[2,3,2]],[2,[2,2,2]],[3,[2,2,1]],[4,[1,2,2]],[5,[1,2,1]],[6,[1,1,1]],[7,[1,1,0]],[8,[0,1,1]],[9,[0,1,0]],[10,[0,0,0]]]),e.leftDarkNumNodeList=[],e.leftLightNumNodeList=[],e.rightDarkNumNodeList=[],e.rightLightNumNodeList=[],e.winLineAnimList=[],e.symbolColParentList=[],e.winLineTimerSet=new Set,e}var o;return n(e,t),o=e,e.prototype.init=function(){var t=this;this.JS_Name=o.name,this.colStateList=[],this.resultSymbolAppearIdxList=[],this.receivedGameResult=!1;for(var e=function(e){i.colStateList.push(s.UNINITIALIZED),i.resultSymbolAppearIdxList.push(0);var o=i.symbolColList[e],n=e;o.onUpdateSymbol=function(e,o,i){t.onUpdateSymbol(n,o,i)},o.onSymbolAppear=function(e,o){t.onSymbolAppear(n,o)},o.onSymbolRecycle=function(e){t.onSymbolRecycle(e)},o.onColScrollFinish=function(){t.onColScrollFinish(n)},o.init(1),i.symbolColParentList.push(o.node.parent)},i=this,n=0;n<this.symbolColList.length;n++)e(n);for([this.col2LightAnim,this.col3LightAnim].forEach(function(t){t.on(cc.Animation.EventType.FINISHED,function(e,o){"mf_fastspin"!=o.name?"mf_fastspin2"!=o.name||t.play("mf_fastspin"):t.play("mf_fastspin2")})}),this.roleSkeleton.setCompleteListener(function(e){var o=e.animation.name,i=t.roleSkeleton.animation;return t.roleState==a.IDLE1?"idle"==o&&"idle"==i?void(Math.random()<=.9?t.playRoleIdle():(t.roleState=a.IDLE2,t.playRoleIdle2())):void 0:t.roleState==a.IDLE2?"idle2"==o&&"idle2"==i?(t.roleState=a.IDLE1,void t.playRoleIdle()):void 0:t.roleState==a.WINK?"wild_collect"==o&&"wild_collect"==i?(t.roleState=a.IDLE1,void t.playRoleIdle()):void 0:t.roleState==a.MAYBE_TEN_MULTIPLE?"rs_start"==o&&"rs_start"==i?void t.playRoleRsIdle():"rs_exit"==o&&"rs_exit"==i?void t.roleToIdle():void 0:t.roleState==a.TEN_MULTIPLE?"rs_win"==o&&"rs_win"==i?void t.playRoleRsgWinIdle():"rsg_win_exit"==o&&"rsg_win_exit"==i?void t.roleToIdle():void 0:t.roleState==a.LUCKY_MODE?"rs_start"==o&&"rs_start"==i?void t.playRoleRsIdle():"dup"==o&&"dup"==i?void t.playRoleRsIdle():"rs_exit"==o&&"rs_exit"==i?void t.roleToIdle():void 0:t.roleState==a.WIN_UP?"win"==o&&"win"==i||"win2"==o&&"win2"==i?void t.roleToIdle():"win3"==o&&"win3"==i?void t.playRoleRsExit():"rs_exit"==o&&"rs_exit"==i?void t.roleToIdle():void 0:void 0}),this.shakeNodePos=this.shakeNode.position,this.tenMultipleTextPos=this.tenMultipleTextNode.position,this.tenMultipleTextScale=this.tenMultipleTextNode.scale,this.initTouchSkipScrollNode(),n=1;n<=m.Game1810Constant.WIN_LINE_COUNT;n++){var r=cc.find("Mask/ShakeNode/ScaleNode/New Node/WinLines/Lines/"+n,this.node).getComponent(cc.Animation);this.winLineAnimList.push(r);var c=cc.find("Mask/ShakeNode/ScaleNode/New Node/WinLines/Left/"+n+"/Dark",this.node);this.leftDarkNumNodeList.push(c);var l=cc.find("Mask/ShakeNode/ScaleNode/New Node/WinLines/Left/"+n+"/Light",this.node);this.leftLightNumNodeList.push(l);var p=cc.find("Mask/ShakeNode/ScaleNode/New Node/WinLines/Right/"+n+"/Dark",this.node);this.rightDarkNumNodeList.push(p);var h=cc.find("Mask/ShakeNode/ScaleNode/New Node/WinLines/Right/"+n+"/Light",this.node);this.rightLightNumNodeList.push(h)}for(this.hideAllWinLine(),this.winSymbolInfolList=[],n=0;n<this.symbolColList.length;n++)this.winSymbolInfolList.push(new Set);this.midColGrayMaskNode.active=!1,this.rightColGrayMaskNode.active=!1;var u=function(t){var e=d.luckyStartColLightAnimList[t];e.on(cc.Animation.EventType.FINISHED,function(){e.node.active=!1})},d=this;for(n=0;n<this.luckyStartColLightAnimList.length;n++)u(n);this.respinColLightAnimList.forEach(function(t){t.node.active=!1,t.on(cc.Animation.EventType.FINISHED,function(){return t.node.active=!1})}),this.wildCollectFxAnim.node.active=!1,this.wildCollectFxAnim.on(cc.Animation.EventType.FINISHED,function(){t.wildCollectFxAnim.node.active=!1})},e.prototype.stopRoleFxIdleAnim=function(){this.roleSkeleton.getState().setEmptyAnimation(1,0)},e.prototype.playRoleRsIdle=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rs_idle",!0)},e.prototype.playRoleRsgWinIdle=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rsg_win_idle",!0)},e.prototype.playRoleRsExit=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rs_exit",!1),l.default.play(this.generalAudio,d.default.rsExit[0],d.default.rsExit[1])},e.prototype.initTouchSkipScrollNode=function(){var t=this;this.touchSkipScrollNode.on(cc.Node.EventType.TOUCH_START,function(e){if(y.Game1810Mgr.instance.canClickSkipScroll&&!y.Game1810Mgr.instance.isSkipScroll){t.skipScroll();var o=t.touchLightAnim.node.parent.convertTouchToNodeSpaceAR(e.touch);t.touchLightAnim.node.position=cc.v3(o.x,o.y,0),t.touchLightAnim.play("dianji")}}),this.touchSkipScrollNode.active=!1},e.prototype.disableLabel=function(){this.goldNumDisplay.node.color=cc.Color.WHITE,this.betAmountTextNode.color=cc.Color.WHITE,this.totalWinNumberChangeDisplay.node.color=cc.Color.WHITE},e.prototype.enableLabel=function(){var t=cc.color(134,240,255,255);this.goldNumDisplay.node.color=t,this.betAmountTextNode.color=t,this.totalWinNumberChangeDisplay.node.color=t},e.prototype.setStartBtnHoverLightEnable=function(t){this.startBtnHoverLightEffect.setEnable(t)},e.prototype.hideAllColLight=function(){this.col2LightAnim.node.active=!1,this.col3LightAnim.node.active=!1},e.prototype.hideAllWinLine=function(){this.winLinesBgNode.active=!1,this.leftLightNumNodeList.forEach(function(t){return t.active=!1}),this.rightLightNumNodeList.forEach(function(t){return t.active=!1}),this.winLineAnimList.forEach(function(t){return t.node.active=!1}),this.winLineAmountLab.node.active=!1},e.prototype.playRoleIdle=function(){this.roleSkeleton.setAnimation(0,"idle",!1),this.roleSkeleton.setAnimation(1,"fx_idle",!0)},e.prototype.playRoleIdle2=function(){this.roleSkeleton.setAnimation(0,"idle2",!1),this.roleSkeleton.setAnimation(1,"fx_idle",!0)},e.prototype.roleToIdle=function(){this.roleState!=a.IDLE1&&this.roleState!=a.IDLE2&&this.roleState!=a.WINK&&(this.roleState=a.IDLE1,this.playRoleIdle())},e.prototype.getSymbolId=function(t,e){var o=y.Game1810Mgr.instance.getGameResult().props[this.resultIdx];return 0==t?o.prop[2-e]:1==t?o.prop[6-e]:o.prop[9-e]},e.prototype.onUpdateSymbol=function(t,e,o){var i=this.getSymbolId(t,e),n=o.getComponent(_.default);n.onClickSymbol=this.onClickSymbol,n.setInfo(i),n.setCol(t)},e.prototype.onSymbolAppear=function(t,e){var o=this.colStateList[t],i=e.getComponent(_.default);if(i.onClickSymbol=this.onClickSymbol,i.setCol(t),o==s.NORMAL_SCROLL_PHASE1||o==s.NORMAL_SCROLL_PHASE2||o==s.FAST_SCROLL_PHASE1||o==s.FAST_SCROLL_PHASE2)return i.setRandomInfo(),void this.updateColSymbolZIndex(t);if(o==s.SCROLL_FOREVER)return i.setRandomInfo(!0),void this.updateColSymbolZIndex(t);if(o!=s.READY_SCROLL_TO_RESULT)if(o!=s.SCROLL_TO_RESULT){if(o==s.NORMAL_SCROLL_PHASE5)return i.setRandomInfo(),void this.updateColSymbolZIndex(t);if(o==s.LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS)return i.setInfo(this.luckyModeCol1Col3RepeatSymbolId,!0),this.updateColSymbolZIndex(t),void(0==t?this.luckyModeCol1RepeatSymbolCount++:this.luckyModeCol2RepeatSymbolCount++);if(o!=s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL)if(o!=s.LUCKY_SLOW_SCROLL_PHASE1)if(o!=s.SLOW_SCROLL_PHASE1){if(o==s.LUCKY_MODE_SCROLL_PHASE1)return i.setRandomInfo(),void this.updateColSymbolZIndex(t);this.WarnLog("unprocessed state:"+o+", col:"+t)}else(a=this.resultSymbolAppearIdxList[t])<0?(i.setRandomInfo(this.isSlowScrollBlur),this.resultSymbolAppearIdxList[t]++):a<m.Game1810Constant.FIRST_THIRD_ROW_NUM?(r=this.getSymbolId(t,a),this.resultSymbolAppearIdxList[t]++,i.setInfo(r)):i.setRandomInfo(),this.updateColSymbolZIndex(1);else{var n;(a=this.resultSymbolAppearIdxList[t])<0?(i.setInfo(this.luckyModeCol2RepeatSymbolId,this.isLuckyModeSlowScrollBlur),this.resultSymbolAppearIdxList[t]++,this.luckyModeCol2RepeatSymbolCount++,this.luckyModeCol2RepeatSymbolCount>=5&&(this.luckyModeCol2RepeatSymbolCount=0,(n=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1))==this.luckyModeCol2RepeatSymbolId&&++n>m.PropType.Prop7&&(n=m.PropType.Prop1),this.luckyModeCol2RepeatSymbolId=n)):a<m.Game1810Constant.SECOND_COL_ROW_NUM?(r=this.getSymbolId(t,a),this.resultSymbolAppearIdxList[t]++,i.setInfo(r)):i.setRandomInfo(),this.updateColSymbolZIndex(1)}else 0==t||2==t?i.setInfo(this.luckyModeCol1Col3RepeatSymbolId,!0):i.setInfo(this.luckyModeCol2RepeatSymbolId,!0),this.updateColSymbolZIndex(t),0==t?this.luckyModeCol1RepeatSymbolCount++:1==t?this.luckyModeCol2RepeatSymbolCount++:this.luckyModeCol3RepeatSymbolCount++,0==t||2==t?this.luckyModeCol1RepeatSymbolCount>=5&&this.luckyModeCol3RepeatSymbolCount>=5&&(this.luckyModeCol1RepeatSymbolCount=0,this.luckyModeCol3RepeatSymbolCount=0,(n=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1))==this.luckyModeCol1Col3RepeatSymbolId&&++n>m.PropType.Prop7&&(n=m.PropType.Prop1),this.luckyModeCol1Col3RepeatSymbolId=n):this.luckyModeCol2RepeatSymbolCount>=5&&(this.luckyModeCol2RepeatSymbolCount=0,(n=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1))==this.luckyModeCol2RepeatSymbolId&&++n>m.PropType.Prop7&&(n=m.PropType.Prop1),this.luckyModeCol2RepeatSymbolId=n)}else{if((a=this.resultSymbolAppearIdxList[t])==(0==t||2==t?m.Game1810Constant.FIRST_THIRD_ROW_NUM:m.Game1810Constant.SECOND_COL_ROW_NUM))i.setRandomInfo();else{var r=this.getSymbolId(t,a);i.setInfo(r),this.resultSymbolAppearIdxList[t]++}this.updateColSymbolZIndex(t)}else{var a;if((a=this.resultSymbolAppearIdxList[t]++)<0)i.setRandomInfo();else{r=this.getSymbolId(t,a);i.setInfo(r)}this.updateColSymbolZIndex(t)}},e.prototype.onSymbolRecycle=function(){},e.prototype.updateColSymbolZIndex=function(t){for(var e=this.symbolColList[t],o=0,i=e.symbolCount(0)-1;i>=0;i--)e.getSymbol(0,i).zIndex=o++},e.prototype.readyScrollToResult=function(t){this.colStateList[t]=s.READY_SCROLL_TO_RESULT,this.notBlurColSymbols(t),this.resultSymbolAppearIdxList[t]=-0;var e=this.symbolColList[t].lastSymbolUpperBoundOffset(0)+0*this.symbolPrefab.data.height,o=e/Math.abs(this.normalScrollVelocity);this.symbolColList[t].scroll(0,o,-e)},e.prototype.isFirstSecondColHasOnlyOneKindSymbol=function(){for(var t=y.Game1810Mgr.instance.getGameResult().props[this.resultIdx],e=t.prop[0],o=1,i=m.Game1810Constant.FIRST_THIRD_ROW_NUM+m.Game1810Constant.SECOND_COL_ROW_NUM;o<i;o++){var n=t.prop[o];if(n!=e)if(e==m.PropType.Prop7)e=n;else if(n!=m.PropType.Prop7)return!1}return!0},e.prototype.playBgm=function(t){this.bgmIdx!=t&&(l.default.stop(this.bgmAudioId),this.bgmIdx=t,this.bgmAudioId=l.default.play(this.bgmAudioList[t],-1,-1,!0,0),l.default.linearRampToVolume(this.bgmAudioId,1,.5))},e.prototype.playRoleRsStart=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rs_start",!1),l.default.play(this.generalAudio,d.default.rsStart1[0],d.default.rsStart1[1]),l.default.play(this.generalAudio,d.default.rsStart2[0],d.default.rsStart2[1])},e.prototype.playRoleDup=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"dup",!1),l.default.play(this.generalAudio,d.default.dup[0],d.default.dup[1])},e.prototype.enterLuckyMode=function(){var t=this;this.roleState=a.LUCKY_MODE,this.hasPlayLuckyMode10MultipleTipParticle=!1,this.playRoleRsStart(),this.yuanBaoAnim.play("x10_yuanbao1"),this.scheduleOnce(function(){t.guangNode.active=!0,t.guangNode.opacity=0,cc.tween(t.guangNode).to(1,{opacity:255}).start(),cc.tween(t.scaleNode).to(1,{scale:.9}).call(function(){t.playBgm(1),t.tipDisplay.loopPlayTip(3),t.playRoleDup(),t.oxLightBgAnim.play("luckyShowOxBg"),t.scheduleOnce(function(){t.snapAnimList[0].play(),t.fingerLightAnimList[0].play()},.55),t.scheduleOnce(function(){t.snapAnimList[1].play(),t.fingerLightAnimList[1].play()},.7),t.scheduleOnce(t.playLuckyModeFirstScrollAnim,1.2)}).start()},.3)},e.prototype.playLuckyModeFirstScrollAnim=function(){this.luckyStartColLightAnimList.forEach(function(t){t.node.active=!0,t.sample("mf_reel_glow"),t.play("mf_reel_glow")}),l.default.play(this.generalAudio,d.default.col1col3Light[0],d.default.col1col3Light[1]),this.scheduleOnce(this.startLuckyModeFirstScroll,.5)},e.prototype.startLuckyModeFirstScroll=function(){var t=this;this.updateColBg(),this.respinTitleNode.parent.active=!0,this.respinTitleNode.parent.scale=0,cc.Tween.stopAllByTarget(this.respinTitleNode.parent),cc.tween(this.respinTitleNode.parent).to(.4,{scale:1.5}).to(.2,{scale:1.43}).call(function(){cc.Tween.stopAllByTarget(t.respinTitleNode),cc.tween(t.respinTitleNode).repeatForever(cc.tween().delay(1).to(.2,{scale:1.1}).to(.2,{scale:1})).start()}).start(),this.luckyModeCol1Col3RepeatSymbolId=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1),this.luckyModeCol2RepeatSymbolId=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1),this.luckyModeCol1RepeatSymbolCount=0,this.luckyModeCol2RepeatSymbolCount=0,this.luckyModeCol3RepeatSymbolCount=0;var e=Math.abs(this.normalScrollVelocity),o=this.symbolColList[0].lastSymbolUpperBoundOffset(0),i=o/e,n=this.symbolColList[2].lastSymbolUpperBoundOffset(0),r=n/e,a=Math.min(i,r);this.colStateList[0]=s.LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS,this.symbolColList[0].scroll(0,a,-o),this.colStateList[2]=s.LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS,this.symbolColList[2].scroll(0,a,-n),this.colStateList[1]=s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL,this.symbolColList[1].scrollForever(0,this.normalScrollVelocity)},e.prototype.updateColBg=function(){this.colLuckyModeBgList[0].active=!0,cc.Tween.stopAllByTarget(this.colLuckyModeBgList[0]),this.colLuckyModeBgList[0].opacity=255,this.colLuckyModeBgList[1].active=!0,cc.Tween.stopAllByTarget(this.colLuckyModeBgList[1]),this.colLuckyModeBgList[1].opacity=255},e.prototype.normalScrollEnterCommonMode=function(){y.Game1810Mgr.instance.canClickSkipScroll&&y.Game1810Mgr.instance.isSkipScroll?this.stopNormalScrollAndShowResult():(y.Game1810Mgr.instance.canClickSkipScroll&&this.schedule(this.normalScrollCheckIsSkipScroll,0,cc.macro.REPEAT_FOREVER,.1),this.isPlayTenMultipleAnimOnCol2Finish=this.isFirstSecondColHasOnlyOneKindSymbol(),this.isPlayTenMultipleAnimOnCol2Finish?(this.scheduleOnce(this.readyScrollToResult.bind(this,0),0),this.scheduleOnce(this.readyScrollToResult.bind(this,1),this.colStartInterval)):(this.scheduleOnce(this.readyScrollToResult.bind(this,0),0),this.scheduleOnce(this.readyScrollToResult.bind(this,1),this.colStartInterval),this.scheduleOnce(this.readyScrollToResult.bind(this,2),2.7*this.colStartInterval)))},e.prototype.normalScrollPretendLuckyMode=function(){var t=this;y.Game1810Mgr.instance.canClickSkipScroll=!1,y.Game1810Mgr.instance.isSkipScroll=!1,y.Game1810Mgr.instance.isAuto||this.bottomBtn.disableStartBtnOnScroll(),this.roleState=a.LUCKY_MODE,this.playRoleRsStart(),this.yuanBaoAnim.play("x10_yuanbao1"),this.scheduleOnce(function(){cc.tween(t.scaleNode).to(1,{scale:.97}).call(function(){t.yuanBaoAnim.play("x10_yuanbao3"),t.playRoleRsExit(),t.normalScrollEnterCommonMode()}).to(1,{scale:1}).start()},.3)},e.prototype.normalScrollCheckReceiveGameResult=function(){this.receivedGameResult&&(this.receivedGameResult=!1,this.unschedule(this.normalScrollCheckReceiveGameResult),1==y.Game1810Mgr.instance.getGameResult().type?Math.random()<.05?this.normalScrollPretendLuckyMode():this.normalScrollEnterCommonMode():(y.Game1810Mgr.instance.canClickSkipScroll=!1,y.Game1810Mgr.instance.isSkipScroll=!1,y.Game1810Mgr.instance.isAuto||this.bottomBtn.disableStartBtnOnScroll(),this.enterLuckyMode()))},e.prototype.stopNormalScrollAndShowResult=function(){for(var t=0;t<this.symbolColList.length;t++)if(this.colStateList[t]!=s.IDLE){this.colStateList[t]=s.IDLE;var e=this.symbolColList[t];e.stopForeverScroll(0),e.stopScroll(0),e.updateColSymbolsByCount(0,1==t?m.Game1810Constant.SECOND_COL_ROW_NUM:m.Game1810Constant.FIRST_THIRD_ROW_NUM),this.updateColSymbolZIndex(t),this.playWildIdleAnim(t)}this.playFastScrollStopAudio(),this.checkIsAllColStop()},e.prototype.normalScrollCheckIsSkipScroll=function(){y.Game1810Mgr.instance.isSkipScroll&&(this.unscheduleAllCallbacks(),this.stopNormalScrollAndShowResult())},e.prototype.skipScroll=function(){y.Game1810Mgr.instance.isSkipScroll||(y.Game1810Mgr.instance.isAuto||this.bottomBtn.disableStartBtnOnScroll(),y.Game1810Mgr.instance.isSkipScroll=!0)},e.prototype.playFastScrollStopAudio=function(){l.default.play(this.generalAudio,d.default.fastScrollStop[0],d.default.fastScrollStop[1])},e.prototype.stopFastScrollAndShowResult=function(){for(var t=0;t<this.symbolColList.length;t++)this.colStateList[t]=s.IDLE,this.notBlurColSymbols(t),this.symbolColList[t].stopForeverScroll(0),this.symbolColList[t].updateColSymbolsByCount(0,1==t?m.Game1810Constant.SECOND_COL_ROW_NUM:m.Game1810Constant.FIRST_THIRD_ROW_NUM),this.updateColSymbolZIndex(t),this.playWildIdleAnim(t);this.playFastScrollStopAudio(),this.checkIsAllColStop()},e.prototype.fastScrollPretendLuckyMode=function(){var t=this;this.roleState=a.LUCKY_MODE,this.playRoleRsStart(),this.yuanBaoAnim.play("x10_yuanbao1"),this.scheduleOnce(function(){cc.tween(t.scaleNode).to(1,{scale:.97}).call(function(){t.yuanBaoAnim.play("x10_yuanbao3"),t.playRoleRsExit(),t.scheduleOnce(t.readyScrollToResult.bind(t,0),.1),t.scheduleOnce(t.readyScrollToResult.bind(t,2),.1),t.scheduleOnce(t.readyScrollToResult.bind(t,1),0)}).to(1,{scale:1}).start()},.3)},e.prototype.fastScrollCheckReceiveGameResult=function(){this.receivedGameResult&&(this.receivedGameResult=!1,this.unschedule(this.fastScrollCheckReceiveGameResult),1==y.Game1810Mgr.instance.getGameResult().type?Math.random()<.05?this.fastScrollPretendLuckyMode():this.stopFastScrollAndShowResult():this.enterLuckyMode())},e.prototype.blurColSymbols=function(t){this.symbolColList[t].traversalColSymbols(0,function(t){t.getComponent(_.default).blur()})},e.prototype.notBlurColSymbols=function(t){this.symbolColList[t].traversalColSymbols(0,function(t){t.getComponent(_.default).notBlur()})},e.prototype.isAllColScrollForever=function(){for(var t=0;t<this.colStateList.length;t++)if(this.colStateList[t]!=s.SCROLL_FOREVER)return!1;return!0},e.prototype.playShowTenMultipleTipAnim=function(t){var e=this;t.active=!0,t.opacity=0,cc.tween(t).to(.3,{opacity:180}).start(),this.tenMultipleTipNode.active=!0,this.tenMultipleTipNode.opacity=0,cc.tween(this.tenMultipleTipNode).to(.3,{opacity:120}).call(function(){cc.tween(e.tenMultipleTipNode).repeatForever(cc.tween().delay(1.2).to(.2,{opacity:180}).to(.2,{opacity:120})).start()}).start()},e.prototype.shakeScreen=function(){var t=this;cc.Tween.stopAllByTarget(this.shakeNode),cc.tween(this.shakeNode).to(1,{scale:1.02}).start(),cc.tween(this.shakeNode).repeatForever(cc.tween().call(function(){t.shakeNode.position=t.shakeNodePos.add(cc.v3(10*Math.random()-5,10*Math.random()-5,0))}).delay(.05)).start()},e.prototype.playHideTenMultipleTipAnim=function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).to(.2,{opacity:0}).call(function(t){return t.active=!1}).start(),0==y.Game1810Mgr.instance.getGameResult().props[this.resultIdx].all&&(cc.Tween.stopAllByTarget(this.tenMultipleTipNode),cc.tween(this.tenMultipleTipNode).delay(.2).to(.2,{opacity:0}).call(function(t){return t.active=!1}).start())},e.prototype.playCol3TenMultipleTipScrollHideLightAnim=function(){var t=this;this.playHideTenMultipleTipAnim(this.rightColGrayMaskNode),cc.Tween.stopAllByTarget(this.col3LightAnim.node),cc.tween(this.col3LightAnim.node).to(.4,{opacity:0}).call(function(){t.col3LightAnim.node.opacity=255,t.col3LightAnim.node.active=!1}).start(),cc.Tween.stopAllByTarget(this.shakeNode),this.shakeNode.position=this.shakeNodePos,cc.tween(this.shakeNode).to(.2,{scale:1}).start()},e.prototype.playCol3LightAnim=function(){this.col3LightAnim.node.active=!0,this.col3LightAnim.sample("mf_fastspin"),this.col3LightAnim.play("mf_fastspin")},e.prototype.startCol3TenMultipleTipScroll=function(){y.Game1810Mgr.instance.isSkipScroll=!1,this.unschedule(this.normalScrollCheckIsSkipScroll),y.Game1810Mgr.instance.isAuto||this.bottomBtn.disableStartBtnOnScroll(),this.playShowTenMultipleTipAnim(this.rightColGrayMaskNode),this.shakeScreen(),this.playCol3LightAnim(),this.oxLightBgAnim.play("luckyShowOxBg"),this.roleState=a.MAYBE_TEN_MULTIPLE,this.playRoleRsStart(),this.startCol3SlowScroll()},e.prototype.playTenMultipleScrollAudio=function(){l.default.play(this.generalAudio,d.default.tenMultipleScroll[0],d.default.tenMultipleScroll[1])},e.prototype.startCol3SlowScroll=function(){var t=this;this.colStateList[2]=s.SLOW_SCROLL_PHASE1,this.isSlowScrollBlur=!0,this.resultSymbolAppearIdxList[2]=-35;var e=this.symbolColList[2].lastSymbolUpperBoundOffset(0)+this.symbolPrefab.data.height*(35+m.Game1810Constant.FIRST_THIRD_ROW_NUM)+this.slowScrollBounceDistance,o=e/Math.abs(this.normalScrollSlowDownVelocity);this.symbolColList[2].scroll(0,o,-e,cc.easeSineOut()),this.stopScrollAudio(),this.playTenMultipleScrollAudio(),this.scheduleOnce(function(){t.isSlowScrollBlur=!1,t.notBlurColSymbols(2)},o-1.5),this.scheduleOnce(function(){t.playCol3TenMultipleTipScrollHideLightAnim();var e=y.Game1810Mgr.instance.getGameResult();0==e.props[e.props.length-1].all&&(t.oxLightBgAnim.play("luckyHideOxBg"),t.playRoleRsExit())},o-1)},e.prototype.playWildIdleAnim=function(t){this.symbolColList[t].traversalColSymbols(0,function(t){var e=t.getComponent(_.default);e.getSymbolId()==m.PropType.Prop7&&e.playWildIdleAnim()})},e.prototype.isFirstThirdColHasOnlyOneKindSymbol=function(){for(var t=y.Game1810Mgr.instance.getGameResult().props[this.resultIdx],e=[t.prop[0],t.prop[1],t.prop[2],t.prop[7],t.prop[8],t.prop[9]],o=e[0],i=1;i<e.length;i++){var n=e[i];if(n!=o)if(o==m.PropType.Prop7)o=n;else if(n!=m.PropType.Prop7)return!1}return!0},e.prototype.isAllColLuckyModeRepeatSymbolScroll=function(){for(var t=0;t<this.symbolColList.length;t++)if(this.colStateList[t]!=s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL)return!1;return!0},e.prototype.shakeScreen2=function(){var t=this;cc.tween(this.shakeNode).repeatForever(cc.tween().call(function(){t.shakeNode.position=t.shakeNodePos.add(cc.v3(10*Math.random()-5,10*Math.random()-5,0))}).delay(.05)).start()},e.prototype.playCol2LightAnim=function(){this.col2LightAnim.node.active=!0,this.col2LightAnim.sample("mf_fastspin"),this.col2LightAnim.play("mf_fastspin")},e.prototype.startCol2TenMultipleTipScroll=function(){this.playShowTenMultipleTipAnim(this.midColGrayMaskNode),this.shakeScreen2(),this.playCol2LightAnim(),this.startCol2LuckyModeSlowScroll()},e.prototype.startCol2LuckyModeSlowScroll=function(){var t=this;this.colStateList[1]=s.LUCKY_SLOW_SCROLL_PHASE1,this.isLuckyModeSlowScrollBlur=!0,this.resultSymbolAppearIdxList[1]=-35;var e=this.symbolColList[1].lastSymbolUpperBoundOffset(0)+this.symbolPrefab.data.height*(35+m.Game1810Constant.SECOND_COL_ROW_NUM)+this.slowScrollBounceDistance,o=e/Math.abs(this.normalScrollSlowDownVelocity);this.symbolColList[1].scroll(0,o,-e,cc.easeSineOut()),this.stopScrollAudio(),this.playTenMultipleScrollAudio(),this.scheduleOnce(function(){t.isLuckyModeSlowScrollBlur=!1,t.notBlurColSymbols(1)},o-1.5),this.scheduleOnce(function(){t.playHideTenMultipleTipAnim(t.midColGrayMaskNode),cc.Tween.stopAllByTarget(t.col2LightAnim.node),cc.tween(t.col2LightAnim.node).to(.4,{opacity:0}).call(function(){t.col2LightAnim.node.opacity=255,t.col2LightAnim.node.active=!1}).start(),cc.Tween.stopAllByTarget(t.shakeNode),t.shakeNode.position=t.shakeNodePos},o-1)},e.prototype.onColScrollFinish=function(t){var e=this;return this.colStateList[t]==s.NORMAL_SCROLL_PHASE1?(this.colStateList[t]=s.NORMAL_SCROLL_PHASE2,void this.symbolColList[t].scroll(0,this.normalScrollPhase2Time,-this.normalScrollPhase2Distance)):this.colStateList[t]==s.NORMAL_SCROLL_PHASE2?(this.blurColSymbols(t),this.colStateList[t]=s.SCROLL_FOREVER,this.symbolColList[t].scrollForever(0,this.normalScrollVelocity),void(this.isAllColScrollForever()&&this.schedule(this.normalScrollCheckReceiveGameResult,0,cc.macro.REPEAT_FOREVER,.1))):this.colStateList[t]==s.FAST_SCROLL_PHASE1?(this.colStateList[t]=s.FAST_SCROLL_PHASE2,void this.symbolColList[t].scroll(0,this.fastScrollPhase2Time,-this.fastScrollPhase2Distance)):this.colStateList[t]==s.FAST_SCROLL_PHASE2?(this.blurColSymbols(t),this.colStateList[t]=s.SCROLL_FOREVER,this.symbolColList[t].scrollForever(0,this.fastScrollVelocity),void(this.isAllColScrollForever()&&this.schedule(this.fastScrollCheckReceiveGameResult,0,cc.macro.REPEAT_FOREVER,.2))):this.colStateList[t]==s.READY_SCROLL_TO_RESULT?(this.colStateList[t]=s.SCROLL_TO_RESULT,void this.scrollToFinalPos(t,Math.abs(this.normalScrollSlowDownVelocity))):this.colStateList[t]==s.SCROLL_TO_RESULT?(this.colStateList[t]=s.NORMAL_SCROLL_PHASE5,this.symbolColList[t].scroll(0,this.normalScrollFinishBounceTime,this.normalScrollFinishBounceDistance,cc.easeSineOut()),void this.playColScrollStopAudio()):this.colStateList[t]==s.NORMAL_SCROLL_PHASE5||this.colStateList[t]==s.LUCKY_SLOW_SCROLL_PHASE2||this.colStateList[t]==s.SLOW_SCROLL_PHASE2?(this.colStateList[t]=s.IDLE,this.symbolColList[t].updateColSymbolsByCount(0,1==t?m.Game1810Constant.SECOND_COL_ROW_NUM:m.Game1810Constant.FIRST_THIRD_ROW_NUM),this.updateColSymbolZIndex(t),this.playWildIdleAnim(t),void(1==y.Game1810Mgr.instance.getGameResult().type?1==t&&this.isPlayTenMultipleAnimOnCol2Finish?this.startCol3TenMultipleTipScroll():this.checkIsAllColStop():0==t||2==t?this.colStateList[0]==s.IDLE&&this.colStateList[2]==s.IDLE&&(this.isFirstThirdColHasOnlyOneKindSymbol()&&!this.hasPlayLuckyMode10MultipleTipParticle&&(this.hasPlayLuckyMode10MultipleTipParticle=!0,this.luckyMode10MultipleTipParticle.resetSystem()),this.scheduleOnce(function(){e.isFirstThirdColHasOnlyOneKindSymbol()?e.startCol2TenMultipleTipScroll():e.readyScrollToResult(1)},.5)):this.checkIsAllColStop())):this.colStateList[t]==s.LUCKY_MODE_FIRST_THIRD_COL_SCROLL_TO_SAME_POS?(this.colStateList[t]=s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL,this.symbolColList[t].scrollForever(0,this.normalScrollVelocity),void(this.colStateList[0]==s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL&&this.colStateList[2]==s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL&&this.scheduleOnce(function(){e.readyScrollToResult(0),e.readyScrollToResult(2)},.8))):this.colStateList[t]==s.LUCKY_MODE_SCROLL_PHASE1?(this.colStateList[t]=s.LUCKY_MODE_REPEAT_SYMBOL_SCROLL,this.symbolColList[t].scrollForever(0,this.normalScrollVelocity),void(this.isAllColLuckyModeRepeatSymbolScroll()&&this.scheduleOnce(function(){e.readyScrollToResult(0),e.readyScrollToResult(2)},2))):this.colStateList[t]==s.LUCKY_SLOW_SCROLL_PHASE1?(this.colStateList[t]=s.LUCKY_SLOW_SCROLL_PHASE2,this.symbolColList[t].scroll(0,this.slowScrollBounceTime,this.slowScrollBounceDistance),void this.playColScrollStopAudio()):this.colStateList[t]==s.SLOW_SCROLL_PHASE1?(this.colStateList[t]=s.SLOW_SCROLL_PHASE2,this.symbolColList[t].scroll(0,this.slowScrollBounceTime,this.slowScrollBounceDistance),void this.playColScrollStopAudio()):void 0},e.prototype.playColScrollStopAudio=function(){l.default.play(this.generalAudio,d.default.scrollStop[0],d.default.scrollStop[1])},e.prototype.stopScrollAudio=function(){l.default.stop(this.scrollAudioId)},e.prototype.playTotalWinAnimOnTenMultipleAnimFinish=function(){var t=this,e=y.Game1810Mgr.instance.getGameResult(),o=y.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount(),i=Big(e.total_win).div(o);i.gte(m.Game1810Constant.BIG_WIN_RATIO)?this.winAmountDisplay.playTenMultipleAnim(function(){l.default.stop(t.bgmAudioId),t.bgmIdx=-1,t.bigWinView.show(Big(e.total_win),o,function(){t.playBgm(0)},function(){t.changeTotalWinAmount(e.total_win),t.onUpdateGoldNum(),t.tipDisplay.hide(),t.winAmountDisplay.playWinAmountAnim(e.total_win,o),t.scheduleOnce(t.onGameOver,1)})}):i.gt(m.Game1810Constant.TOTAL_WIN_NUMBER_CHANGE_RATIO)?this.playWinAmountNumberChangeAnim(e.total_win,o,function(){t.onWinAmountChangeFinish()}):(this.onUpdateGoldNum(),this.changeTotalWinAmount(e.total_win),this.tipDisplay.hide(),this.winAmountDisplay.playWinAmountAnim(e.total_win,o),this.scheduleOnce(this.onGameOver,1))},e.prototype.playTenMultipleTextAnim=function(){var t=this;this.tenMultipleTextNode.active=!0,this.tenMultipleTextNode.position=this.tenMultipleTextPos,this.tenMultipleTextNode.scale=this.tenMultipleTextScale;var e=this.winAmountDisplay.node.convertToWorldSpaceAR(cc.Vec3.ZERO);e=this.tenMultipleTextNode.parent.convertToNodeSpaceAR(e),cc.tween(this.tenMultipleTextNode).parallel(cc.tween().to(.4,{position:this.tenMultipleTipNode.position}),cc.tween().to(.4,{scale:this.tenMultipleTipNode.scale}),cc.tween().call(function(){t.tenMultipleLightAnim.play(),cc.Tween.stopAllByTarget(t.tenMultipleLightNode),t.tenMultipleLightNode.scale=0,t.tenMultipleLightNode.opacity=0,cc.tween(t.tenMultipleLightNode).delay(.15).to(.2,{scale:1.5,opacity:255}).start(),l.default.play(t.generalAudio,d.default.flyTenTextToCenter[0],d.default.flyTenTextToCenter[1])})).delay(.4).parallel(cc.tween().to(.32,{position:e}),cc.tween().to(.4,{scale:0}).call(function(){t.tenMultipleTextNode.active=!1,t.tenMultipleTipNode.active=!1}),cc.tween().call(function(){cc.tween(t.tenMultipleTipNode).to(.32,{opacity:100}).start(),cc.Tween.stopAllByTarget(t.tenMultipleLightNode),cc.tween(t.tenMultipleLightNode).to(.4,{opacity:0}).start(),l.default.play(t.generalAudio,d.default.flyTenTextToMoney[0],d.default.flyTenTextToMoney[1]),l.default.linearRampToVolume(t.bgmAudioId,0,.32)})).call(function(){t.playTotalWinAnimOnTenMultipleAnimFinish()}).start()},e.prototype.changeTotalWinAmount=function(t,e){var o=y.Game1810Mgr.instance.getGameResult();this.totalWinNumberChangeDisplay.changeNumberFromCurNumToTarget(t,.2,o.currency,e)},e.prototype.randomPlayAudio=function(t){var e=Math.floor(Math.random()*t.length);l.default.play(this.generalAudio,t[e][0],t[e][1])},e.prototype.playRoleLittleWinAudio=function(){this.randomPlayAudio([d.default.littleWinRole1,d.default.littleWinRole2,d.default.littleWinRole3])},e.prototype.playRoleMediumWinAudio=function(){this.randomPlayAudio([d.default.mediumWinRole1,d.default.mediumWinRole2])},e.prototype.roleToWin1=function(){this.roleState=a.WIN_UP,this.roleSkeleton.setAnimation(0,"win",!1)},e.prototype.roleToWin2=function(){this.roleState=a.WIN_UP,this.roleSkeleton.setAnimation(0,"win2",!1)},e.prototype.roleToWin3=function(){this.roleState=a.WIN_UP,this.roleSkeleton.setAnimation(0,"win3",!1),l.default.play(this.generalAudio,d.default.rsWin[0],d.default.rsWin[1])},e.prototype.onWinAmountChangeFinish=function(){var t=y.Game1810Mgr.instance.getGameResult();this.onUpdateGoldNum(),this.changeTotalWinAmount(t.total_win),this.onGameOver()},e.prototype.playTotalWinAnimOnNoTenMultiple=function(){var t=this,e=y.Game1810Mgr.instance.getGameResult(),o=y.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount(),i=Big(e.total_win).div(o);i.gte(m.Game1810Constant.BIG_WIN_RATIO)?(l.default.linearRampToVolume(this.bgmAudioId,0,.2),this.playAllWinLineAudio(),this.playAllWinLineAndBgAnim(function(){t.scheduleOnce(function(){l.default.stop(t.bgmAudioId),t.bgmIdx=-1,t.bigWinView.show(Big(e.total_win),o,function(){t.playBgm(0)},function(){1==e.type?(t.roleToWin2(),t.playRoleLittleWinAudio()):t.roleToWin3(),t.onUpdateGoldNum(),t.changeTotalWinAmount(e.total_win),t.tipDisplay.hide(),t.winAmountDisplay.playWinAmountAnim(e.total_win,o),t.scheduleOnce(t.onGameOver,1)})},.5)})):i.gt(m.Game1810Constant.TOTAL_WIN_NUMBER_CHANGE_RATIO)?(this.playAllWinLineAudio(),this.playAllWinLineAndBgAnim(),1==e.type?(this.roleToWin2(),this.playRoleMediumWinAudio()):this.roleToWin3(),this.playWinAmountNumberChangeAnim(e.total_win,o,function(){t.onWinAmountChangeFinish()})):(this.playAllWinLineAudio(),this.playAllWinLineAndBgAnim(),1==e.type?(this.roleToWin1(),this.playRoleLittleWinAudio()):this.roleToWin3(),this.onUpdateGoldNum(),this.changeTotalWinAmount(e.total_win),this.tipDisplay.hide(),this.winAmountDisplay.playWinAmountAnim(e.total_win,o),this.scheduleOnce(this.onGameOver,1))},e.prototype.playAllWinLineAndBgAnim=function(t){this.winLinesBgNode.active=!0,this.winLinesBgNode.opacity=0,cc.Tween.stopAllByTarget(this.winLinesBgNode),cc.tween(this.winLinesBgNode).to(.2,{opacity:255}).start(),this.playAllWinLinesAnim(t)},e.prototype.playAllWinLinesAnim=function(t){var e=this;this.convertWinLine();for(var o=y.Game1810Mgr.instance.getGameResult(),i=o.props[this.resultIdx].win_arr,n=[],r=0;r<this.symbolColList.length;r++)n.push(new Set);for(r=0;r<i.length;r++){var s=i[r],a=s.line-1;this.leftDarkNumNodeList[a].active=!1,this.leftLightNumNodeList[a].active=!0,this.rightDarkNumNodeList[a].active=!1,this.rightLightNumNodeList[a].active=!0,this.fadeInWinLine(a),this.winLine2SymbolIdx.get(s.line).forEach(function(t,o){var i=e.symbolColList[o].getSymbol(0,t).getComponent(_.default);n[o].has(i)||(n[o].add(i),e.winSymbolInfolList[o].add(new E(i,i.node.parent,i.node.position)))})}var c=function(i){var n=l.winSymbolInfolList[i],r=i,s=function(){e.winLineTimerSet.delete(s);for(var i=function(t,i){var n=i.value[1],r=n.symbol.node;n.symbol.playWinAnim(2==o.type);var s=function(){e.winLineTimerSet.delete(s);var t=r.convertToWorldSpaceAR(cc.Vec3.ZERO);t=e.winLineSymbolParent.convertToNodeSpaceAR(t),r.position=t,r.parent=e.winLineSymbolParent};e.winLineTimerSet.add(s),e.scheduleOnce(s,.1)},a=n.entries(),c=a.next();!c.done;c=a.next())i(0,c);r==e.winSymbolInfolList.length-1&&t&&t()};l.winLineTimerSet.add(s),l.scheduleOnce(s,.1*i)},l=this;for(r=0;r<this.winSymbolInfolList.length;r++)c(r)},e.prototype.onGameOver=function(){var t=this;if(1==y.Game1810Mgr.instance.getGameResult().type)return y.Game1810Mgr.instance.isAuto||this.bottomBtn.playStartBtnIdleAnim(),this.touchSkipScrollNode.active=!1,this.playBgm(0),void this.onGameOverCallback();cc.Tween.stopAllByTarget(this.respinTitleNode),cc.Tween.stopAllByTarget(this.respinTitleNode.parent),cc.tween(this.respinTitleNode.parent).to(.3,{scale:0}).call(function(){t.respinTitleNode.parent.active=!1,t.yuanBaoAnim.play("x10_yuanbao3"),cc.tween(t.guangNode).to(1,{opacity:0}).call(function(){return t.guangNode.active=!1}).start(),cc.tween(t.scaleNode).to(1,{scale:1}).call(function(){y.Game1810Mgr.instance.isAuto||t.bottomBtn.playStartBtnIdleAnim(),t.touchSkipScrollNode.active=!1,t.playBgm(0),t.onGameOverCallback()}).start()}).start()},e.prototype.skipWinAmountChangeAnim=function(){var t=y.Game1810Mgr.instance.getGameResult();this.winAmountDisplay.skipWinAmountChangeAnim(t.total_win),this.onWinAmountChangeFinish()},e.prototype.playWinAmountNumberChangeAnim=function(t,e,o){this.tipDisplay.hide(),this.winAmountDisplay.playWinAmountChangeAnim(t,e,o)},e.prototype.playWinLineAudio=function(){l.default.play(this.generalAudio,d.default.winLine[0],d.default.winLine[1])},e.prototype.playAllWinLineAudio=function(){l.default.play(this.generalAudio,d.default.allWinLine[0],d.default.allWinLine[1])},e.prototype.playRoleRsWin=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rs_win",!1),l.default.play(this.generalAudio,d.default.rsWin[0],d.default.rsWin[1])},e.prototype.checkWinAmount=function(){var t=this,e=y.Game1810Mgr.instance.getGameResult();if(e.total_win>0){var o=y.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount();1==e.props[this.resultIdx].all?(this.playAllWinLineAndBgAnim(),this.playAllWinLineAudio(),this.roleState=a.TEN_MULTIPLE,this.playRoleRsWin(),this.tipDisplay.hide(),this.winAmountDisplay.playWinAmountAnim(e.total_win/10,o),this.tenMultipleTipNode.active=!0,cc.Tween.stopAllByTarget(this.tenMultipleTipNode),cc.tween(this.tenMultipleTipNode).delay(1).call(function(){t.oxLightBgAnim.play("luckyHideOxBg"),t.playTenMultipleTextAnim()}).start()):this.playTotalWinAnimOnNoTenMultiple()}else this.onGameOver()},e.prototype.checkWildSymbl=function(){var t=this;this.wildLightCount=0,this.wildLightList=[];for(var e=0,o=function(o){var n=i.symbolColList[o],r=!1;n.traversalColSymbols(0,function(o){var i=o.getComponent(_.default);i.getSymbolId()==m.PropType.Prop7&&(r=!0,t.wildLightCount++,i.playWildCollectAnim(e,function(){t.createWildLight(i)}))}),r&&(e+=.1)},i=this,n=0;n<this.symbolColList.length;n++)o(n);return this.wildLightCount>0},e.prototype.startLuckyModeScroll=function(){var t=this;this.resultIdx++,this.respinColLightAnimList.forEach(function(t){t.node.active=!0,t.sample("mf_respin"),t.play("mf_respin")}),this.luckyModeCol1Col3RepeatSymbolId=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1),this.luckyModeCol2RepeatSymbolId=Math.floor(Math.random()*(m.PropType.Prop7-m.PropType.Prop1+1)+m.PropType.Prop1),this.luckyModeCol1RepeatSymbolCount=0,this.luckyModeCol2RepeatSymbolCount=0,this.luckyModeCol3RepeatSymbolCount=0,this.colStateList[0]=s.LUCKY_MODE_SCROLL_PHASE1,this.symbolColList[0].scroll(0,this.normalScrollPhase1Time,this.normalScrollPhase1Distance),this.colStateList[2]=s.LUCKY_MODE_SCROLL_PHASE1,this.symbolColList[2].scroll(0,this.normalScrollPhase1Time,this.normalScrollPhase1Distance),this.scheduleOnce(function(){t.colStateList[1]=s.LUCKY_MODE_SCROLL_PHASE1,t.symbolColList[1].scroll(0,t.normalScrollPhase1Time,t.normalScrollPhase1Distance)},this.colStartInterval),this.playScrollAudio(),l.default.play(this.generalAudio,d.default.luckyModeStartScroll[0],d.default.luckyModeStartScroll[1])},e.prototype.checkIsAllColStop=function(){for(var t=0;t<this.symbolColList.length;t++)if(this.colStateList[t]!=s.IDLE)return;this.stopScrollAudio(),this.unschedule(this.normalScrollCheckIsSkipScroll),this.onAllColStop();var e=y.Game1810Mgr.instance.getGameResult();if(1==e.type){var o=e.props[this.resultIdx];if(1==e.type&&0==o.all&&this.checkWildSymbl())return;this.checkWinAmount()}else this.resultIdx<e.props.length-1?this.scheduleOnce(this.startLuckyModeScroll,.2):(this.oxLightBgAnim.play("luckyHideOxBg"),this.checkWinAmount())},e.prototype.playRoleWildCollect=function(){this.roleSkeleton.setAnimation(0,"wild_collect",!1),this.roleSkeleton.setAnimation(1,"fx_wild_collect",!1),this.wildCollectFxAnim.node.active=!0,this.wildCollectFxAnim.play("wc_ingot_particle"),l.default.play(this.generalAudio,d.default.wildCollect[0],d.default.wildCollect[1])},e.prototype.createWildLight=function(t){var e=this,o=cc.instantiate(this.wildLightPrefab);o.parent=this.wildLightParent;var i=t.node.convertToWorldSpaceAR(cc.Vec3.ZERO);i=this.wildLightParent.convertToNodeSpaceAR(i),o.position=i,this.wildLightList.push(o),o.getComponent(S.default).fly(this.wildLightTarget,function(){0==--e.wildLightCount&&(e.wildLightList.forEach(function(t){return t.destroy()}),l.default.play(e.generalAudio,d.default.wildLightEnd[0],d.default.wildLightEnd[1]),y.Game1810Mgr.instance.getGameResult().total_win<=0&&(e.roleState=a.WINK,e.playRoleWildCollect()),e.scheduleOnce(e.checkWinAmount,0))})},e.prototype.scrollToFinalPos=function(t,e){var o=this.symbolColList[t].node.height+this.normalScrollFinishBounceDistance,i=o/e;this.symbolColList[t].scroll(0,i,-o,cc.easeSineOut())},e.prototype.fadeInWinLine=function(t){var e=this.winLineAnimList[t];e.node.active=!0,e.node.opacity=0,cc.Tween.stopAllByTarget(e.node),cc.tween(e.node).to(.2,{opacity:255}).start(),e.play()},e.prototype.convertWinLine=function(){for(var t=0;t<this.winSymbolInfolList.length;t++){for(var e=this.winSymbolInfolList[t],o=(n=e.entries()).next();!o.done;o=n.next()){var i=o.value[1];i.symbol.node.parent=i.oldParent,i.symbol.node.position=i.oldPos,i.symbol.stopAnim(),i.symbol.getSymbolId()==m.PropType.Prop7&&i.symbol.playWildIdleAnim()}e.clear()}var n;for(this.winLineAnimList.forEach(function(t){cc.Tween.stopAllByTarget(t.node),t.node.active=!1}),this.leftDarkNumNodeList.forEach(function(t){return t.active=!0}),this.leftLightNumNodeList.forEach(function(t){return t.active=!1}),this.rightDarkNumNodeList.forEach(function(t){return t.active=!0}),this.rightLightNumNodeList.forEach(function(t){return t.active=!1}),this.winLineAmountLab.node.active=!1,o=(n=this.winLineTimerSet.entries()).next();!o.done;o=n.next()){var r=o.value[1];this.unschedule(r)}this.winLineTimerSet.clear()},e.prototype.playSingleWinLineAnim=function(t){var e=this;this.convertWinLine();var o=y.Game1810Mgr.instance.getGameResult(),i=o.props[this.resultIdx],n=i.win_arr[t],r=n.line-1;this.leftDarkNumNodeList[r].active=!1,this.leftLightNumNodeList[r].active=!0,this.rightDarkNumNodeList[r].active=!1,this.rightLightNumNodeList[r].active=!0,this.fadeInWinLine(n.line-1),this.playWinLineAudio();for(var s=this.winLine2SymbolIdx.get(n.line),a=function(r){var a=s[r],l=c.symbolColList[r].getSymbol(0,a).getComponent(_.default);c.winSymbolInfolList[r].clear(),c.winSymbolInfolList[r].add(new E(l,l.node.parent,l.node.position));var p=r,h=function(){e.winLineTimerSet.delete(h),l.playWinAnim(2==o.type);var n=function(){e.winLineTimerSet.delete(n);var o=l.node.convertToWorldSpaceAR(cc.Vec3.ZERO);if(o=e.winLineSymbolParent.convertToNodeSpaceAR(o),l.node.position=o,l.node.parent=e.winLineSymbolParent,p==s.length-1){var r=function(){e.winLineTimerSet.delete(r),t++,e.convertWinLine();var o=function(){e.winLineTimerSet.delete(o),t==i.win_arr.length?(e.playWinLineAudio(),e.playAllWinLinesAnim(function(){var t=function(){e.winLineTimerSet.delete(t),e.playSingleWinLineAnim(0)};e.winLineTimerSet.add(t),e.scheduleOnce(t,2)})):e.playSingleWinLineAnim(t)};e.winLineTimerSet.add(o),e.scheduleOnce(o,.1)};e.winLineTimerSet.add(r),e.scheduleOnce(r,2)}};e.winLineTimerSet.add(n),e.scheduleOnce(n,.05)};if(c.winLineTimerSet.add(h),c.scheduleOnce(h,.05*r),1==r){c.winLineAmountLab.node.active=!0;var d=parseFloat(n.tw);c.winLineAmountLab.string=u.default.formatNumber(d);var f=l.node.convertToWorldSpaceAR(cc.v3(0,-60,0));f=c.winLineAmountLab.node.parent.convertToNodeSpaceAR(f),c.winLineAmountLab.node.position=f}},c=this,l=0;l<s.length;l++)a(l)},e.prototype.playWinLineAnim=function(){var t=this;this.playAllWinLineAndBgAnim(function(){t.scheduleOnce(t.playSingleWinLineAnim.bind(t,0),2)})},e.prototype.updateToFinalResult=function(){var t=y.Game1810Mgr.instance.getGameResult();this.resultIdx=t.props.length-1;for(var e=0;e<this.symbolColList.length;e++)this.colStateList[e]=s.IDLE,this.symbolColList[e].updateColSymbolsByCount(0,1==e?m.Game1810Constant.SECOND_COL_ROW_NUM:m.Game1810Constant.FIRST_THIRD_ROW_NUM),this.updateColSymbolZIndex(e),this.playWildIdleAnim(e);this.colLuckyModeBgList.forEach(function(e){e.active=2==t.type})},e.prototype.startColScroll=function(t){this.colStateList[t]=s.NORMAL_SCROLL_PHASE1,this.stopSymbolAnim(t),this.symbolColList[t].scroll(0,this.normalScrollPhase1Time,this.normalScrollPhase1Distance)},e.prototype.playScrollAudio=function(){this.scrollAudioId=l.default.play(this.generalAudio,d.default.scroll[0],d.default.scroll[1],!0)},e.prototype.playHideWinLinesBgNode=function(){cc.Tween.stopAllByTarget(this.winLinesBgNode),cc.tween(this.winLinesBgNode).to(.2,{opacity:0}).call(function(t){return t.active=!1}).start()},e.prototype.stopSymbolAnim=function(t){this.symbolColList[t].traversalColSymbols(0,function(t){t.getComponent(_.default).stopAnim()})},e.prototype.playRoleRsgWinExit=function(){this.stopRoleFxIdleAnim(),this.roleSkeleton.setAnimation(0,"rsg_win_exit",!1)},e.prototype.fadeOutColBg=function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).to(.2,{opacity:0}).call(function(t){return t.active=!1}).start()},e.prototype.fadeOutColLuckyModeBg=function(){this.fadeOutColBg(this.colLuckyModeBgList[0]),this.fadeOutColBg(this.colLuckyModeBgList[1])},e.prototype.startScroll=function(t){this.receivedGameResult=!1,y.Game1810Mgr.instance.isSkipScroll=!1,this.isPlayTenMultipleAnimOnCol2Finish=!1,this.touchSkipScrollNode.active=!0,this.convertWinLine(),this.winLinesBgNode.active&&this.playHideWinLinesBgNode(),this.unscheduleAllCallbacks();var e=y.Game1810Mgr.instance.getGameResult();if(this.totalWinNumberChangeDisplay.setNumber(0,e.currency),y.Game1810Mgr.instance.isAuto||this.bottomBtn.disableOperateBtnExceptStartBtn(),this.disableLabel(),1==e.props[e.props.length-1].all?this.playRoleRsgWinExit():this.roleToIdle(),2==e.type&&this.fadeOutColLuckyModeBg(),this.playScrollAudio(),t){y.Game1810Mgr.instance.isAuto||this.bottomBtn.playStartBtnOnFastScroll();for(var o=0;o<this.symbolColList.length;++o)this.colStateList[o]=s.FAST_SCROLL_PHASE1,this.stopSymbolAnim(o),this.symbolColList[o].scroll(0,this.fastScrollPhase1Time,this.fastScrollPhase1Distance)}else for(y.Game1810Mgr.instance.isAuto||this.bottomBtn.playStartBtnOnScroll(),o=0;o<this.symbolColList.length;o++)this.scheduleOnce(this.startColScroll.bind(this,o),o*this.colStartInterval)},e.prototype.scrollToResult=function(){this.receivedGameResult=!0,this.resultIdx=0},r([T(cc.Prefab)],e.prototype,"symbolPrefab",void 0),r([T([g.default])],e.prototype,"symbolColList",void 0),r([T(cc.Node)],e.prototype,"midColGrayMaskNode",void 0),r([T(cc.Node)],e.prototype,"rightColGrayMaskNode",void 0),r([T(cc.Node)],e.prototype,"tenMultipleTipNode",void 0),r([T(cc.Animation)],e.prototype,"col2LightAnim",void 0),r([T(cc.Animation)],e.prototype,"col3LightAnim",void 0),r([T(cc.Node)],e.prototype,"shakeNode",void 0),r([T(sp.Skeleton)],e.prototype,"roleSkeleton",void 0),r([T(cc.Node)],e.prototype,"wildLightParent",void 0),r([T(cc.Prefab)],e.prototype,"wildLightPrefab",void 0),r([T(cc.Node)],e.prototype,"wildLightTarget",void 0),r([T(b.default)],e.prototype,"winAmountDisplay",void 0),r([T(v.default)],e.prototype,"tipDisplay",void 0),r([T(cc.Node)],e.prototype,"tenMultipleTextNode",void 0),r([T(O.default)],e.prototype,"bigWinView",void 0),r([T(h.default)],e.prototype,"totalWinNumberChangeDisplay",void 0),r([T(h.default)],e.prototype,"goldNumDisplay",void 0),r([T(cc.Node)],e.prototype,"betAmountTextNode",void 0),r([T(f.default)],e.prototype,"bottomBtn",void 0),r([T(cc.Node)],e.prototype,"touchSkipScrollNode",void 0),r([T(cc.Animation)],e.prototype,"touchLightAnim",void 0),r([T(p.default)],e.prototype,"startBtnHoverLightEffect",void 0),r([T(cc.Node)],e.prototype,"winLinesBgNode",void 0),r([T(cc.Node)],e.prototype,"winLineSymbolParent",void 0),r([T(cc.Label)],e.prototype,"winLineAmountLab",void 0),r([T([cc.AudioClip])],e.prototype,"bgmAudioList",void 0),r([T(cc.Animation)],e.prototype,"tenMultipleLightAnim",void 0),r([T(cc.Animation)],e.prototype,"wildCollectFxAnim",void 0),r([T([cc.Node])],e.prototype,"colLuckyModeBgList",void 0),r([T(cc.Animation)],e.prototype,"oxLightBgAnim",void 0),r([T(cc.Animation)],e.prototype,"yuanBaoAnim",void 0),r([T(cc.Node)],e.prototype,"scaleNode",void 0),r([T([cc.Animation])],e.prototype,"snapAnimList",void 0),r([T([cc.Animation])],e.prototype,"fingerLightAnimList",void 0),r([T([cc.Animation])],e.prototype,"luckyStartColLightAnimList",void 0),r([T([cc.Animation])],e.prototype,"respinColLightAnimList",void 0),r([T(cc.Node)],e.prototype,"respinTitleNode",void 0),r([T(cc.Node)],e.prototype,"guangNode",void 0),r([T(cc.Node)],e.prototype,"tenMultipleLightNode",void 0),r([T(cc.AudioClip)],e.prototype,"generalAudio",void 0),r([T(cc.ParticleSystem)],e.prototype,"luckyMode10MultipleTipParticle",void 0),o=r([L],e)}(c.default);o.default=C,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","../../../script/audio/WebAudioEngine":"WebAudioEngine","../../../script/common_game/SlotGame/SlotHoverLightEffect":"SlotHoverLightEffect","../../../script/common_game/SlotGame/SlotNumberChangeDisplay":"SlotNumberChangeDisplay","../../../script/common_game/SlotGame/SlotUtility":"SlotUtility","./AudioConfig":"AudioConfig","./Game1810BottomBtn":"Game1810BottomBtn","./Game1810Define":"Game1810Define","./Game1810Mgr":"Game1810Mgr","./Game1810Scroll":"Game1810Scroll","./Game1810ScrollSymbol":"Game1810ScrollSymbol","./Game1810TipDisplay":"Game1810TipDisplay","./Game1810WidLightDisplay":"Game1810WidLightDisplay","./Game1810WinAmountDisplay":"Game1810WinAmountDisplay","./OxBigWinView":"OxBigWinView"}],Game1810SymbolDescDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"28820Af+alOC7E48eKt7fCH","Game1810SymbolDescDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../script/common_game/SlotGame/SlotSymbolDescDisplay"),a=t("../../audio/WebAudioEngine"),c=t("./AudioConfig"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSkeletonDataList=[],e.generalAudio=null,e}return n(e,t),e.prototype.playTipAudio=function(){a.default.play(this.generalAudio,c.default.clickSymbol[0],c.default.clickSymbol[1])},e.prototype.showLeft=function(e,o,i){t.prototype.playShowLeft.call(this),this.updateSymbolDescNode(this.symbolDescLeftNode,o,e,i),this.playTipAudio()},e.prototype.showRight=function(e,o,i){t.prototype.playShowRight.call(this),this.updateSymbolDescNode(this.symbolDescRightNode,o,e,i),this.playTipAudio()},e.prototype.updateSymbolDescNode=function(t,e,o,i){t.position=t.parent.convertToNodeSpaceAR(e);var n=t.getChildByName("iconSkeleton").getComponent(sp.Skeleton);n.skeletonData=this.iconSkeletonDataList[o-1],n.setAnimation(0,"win_bg",!0),t.getChildByName("label_2").getComponent(cc.Label).string=i.toString()},e.prototype.onClickSymbolDescNode=function(){this.playHide()},r([h([sp.SkeletonData])],e.prototype,"iconSkeletonDataList",void 0),r([h(cc.AudioClip)],e.prototype,"generalAudio",void 0),r([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../script/common_game/SlotGame/SlotSymbolDescDisplay":"SlotSymbolDescDisplay","../../audio/WebAudioEngine":"WebAudioEngine","./AudioConfig":"AudioConfig"}],Game1810TipDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"56daf3WY/tDLYRGgJ2C4GMZ","Game1810TipDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../../../Common/Base/BaseComponent");(function(t){t[t.IDLE=0]="IDLE",t[t.LOOP_PLAY_RANDOM=1]="LOOP_PLAY_RANDOM",t[t.LOOP_PLAY_TIP=2]="LOOP_PLAY_TIP",t[t.PLAY_TIP_ONCE=3]="PLAY_TIP_ONCE",t[t.PLAY_RANDOM_TIP_ONCE=4]="PLAY_RANDOM_TIP_ONCE",t[t.SHOW_TIP=5]="SHOW_TIP"})(s||(s={}));var c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipNodeList=[],e.moveSpeed=150,e}return n(e,t),e.prototype.init=function(){this.state=s.IDLE,this.tipNodeIdx=-1,this.tipNodeIdxList=[],this.tipNodeList.forEach(function(t){return t.active=!1})},e.prototype.loopPlayRandomTip=function(t){this.state!=s.LOOP_PLAY_RANDOM&&(this.state=s.LOOP_PLAY_RANDOM,this.tipNodeIdxList=t,this.node.active=!0,this.loopPlayRandom())},e.prototype.loopPlayRandom=function(){var t=this,e=Math.floor(Math.random()*this.tipNodeIdxList.length);this.tipNodeIdxList[e]==this.tipNodeIdx&&(e=++e%this.tipNodeIdxList.length),this.playTip(this.tipNodeIdxList[e],function(){t.loopPlayRandom()})},e.prototype.playRandomTipOnce=function(t,e){var o=this;if(this.state!=s.PLAY_RANDOM_TIP_ONCE){this.state=s.PLAY_RANDOM_TIP_ONCE,this.node.active=!0;var i=Math.floor(Math.random()*t.length);this.playTip(t[i],function(t){o.state=s.IDLE,e&&e(t)})}},e.prototype.playTipOnce=function(t,e){var o=this;this.state!=s.PLAY_TIP_ONCE&&(this.state=s.PLAY_TIP_ONCE,this.node.active=!0,this.playTip(t,function(t){o.state=s.IDLE,e&&e(t)}))},e.prototype.loopPlayTip2=function(t){var e=this;this.playTip(t,function(){e.loopPlayTip2(t)})},e.prototype.loopPlayTip=function(t){this.state==s.LOOP_PLAY_TIP&&this.tipNodeIdx==t||(this.state=s.LOOP_PLAY_TIP,this.node.active=!0,this.loopPlayTip2(t))},e.prototype.playTip=function(t,e){var o=this;if(-1!=this.tipNodeIdx){var i=this.tipNodeList[this.tipNodeIdx];cc.Tween.stopAllByTarget(i),i.active=!1}this.tipNodeIdx=t;var n=this.tipNodeList[this.tipNodeIdx];n.active=!0,cc.Tween.stopAllByTarget(n);var r=this.node.width;if(n.width>r){var s=n.parent.width,a=(n.width-s)/2+50,c=-(n.width+s)/2,l=(a-c)/this.moveSpeed;return n.position=cc.v3(a,n.y,n.z),void cc.tween(n).delay(1).to(l,{position:cc.v3(c,n.y,n.z)}).delay(.5).call(function(){e&&e(o.tipNodeIdx)}).start()}n.position=cc.v3(0,n.y,n.z),cc.tween(n).delay(3).call(function(){e&&e(o.tipNodeIdx)}).start()},e.prototype.showTip=function(t){if(this.state!=s.SHOW_TIP){if(this.state=s.SHOW_TIP,-1!=this.tipNodeIdx){var e=this.tipNodeList[this.tipNodeIdx];cc.Tween.stopAllByTarget(e),e.active=!1}this.tipNodeIdx=t,this.tipNodeList[this.tipNodeIdx].active=!0}},e.prototype.hide=function(){if(this.state!=s.IDLE){this.state=s.IDLE;var t=this.tipNodeList[this.tipNodeIdx];cc.Tween.stopAllByTarget(t),t.active=!1,this.tipNodeIdx=-1}this.node.active=!1},r([p([cc.Node])],e.prototype,"tipNodeList",void 0),r([p(cc.Float)],e.prototype,"moveSpeed",void 0),r([l],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],Game1810WidLightDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"8df96d7AiNHRZ0dVO6qQIRX","Game1810WidLightDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.fly=function(t,e){var o=this,i=cc.v2(t.position.x,t.position.y),n=cc.v2(this.node.position.x+100,this.node.position.y),r=cc.v2(i.x+100,i.y);cc.tween(this.node).bezierTo(.2,n,r,i).call(function(){e(o)}).start()},r([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],Game1810WinAmountDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"adc47tb1/tEb6wy6AM1MDGQ","Game1810WinAmountDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=t("../../../script/audio/WebAudioEngine"),c=t("../../../script/common_game/SlotGame/SlotNumberChangeDisplay"),l=t("./AudioConfig"),p=t("./Game1810Define"),h=t("./Game1810Mgr"),u=cc._decorator,d=u.ccclass,f=u.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amountDisplay=null,e.winSprNode=null,e.bgNodeList=[],e.bgAnimList=[],e.greenWinAnim=null,e.purpleWinAnim=null,e.tenMultipleWinAnim=null,e.generalAudio=null,e.winAmountChangeAudioId=null,e}return n(e,t),e.prototype.OnLoad=function(){var t=this;this.greenWinAnim.on(cc.Animation.EventType.FINISHED,function(e,o){"ib_coin_a"==o.name&&t.onWinAnimFinish&&(t.onWinAnimFinish(),t.onWinAnimFinish=null)}),this.purpleWinAnim.on(cc.Animation.EventType.FINISHED,function(e,o){"ib_coin_b"==o.name&&t.onWinAnimFinish&&(t.onWinAnimFinish(),t.onWinAnimFinish=null)})},e.prototype.playBgAnim=function(t){var e;if(t.lte(p.Game1810Constant.TOTAL_WIN_NUMBER_CHANGE_RATIO)?(e=1,this.greenWinAnim.play("ib_coin_a"),this.bgAnimList[0].play()):(e=2,this.purpleWinAnim.play("ib_coin_b"),this.bgAnimList[1].play()),e!=this.curBgNodeIdx){var o=this.bgNodeList[this.curBgNodeIdx];cc.Tween.stopAllByTarget(o),cc.tween(o).to(.4,{opacity:0}).call(function(t){return t.active=!1}).start();var i=this.bgNodeList[e];cc.Tween.stopAllByTarget(i),i.active=!0,i.opacity=0,cc.tween(i).to(.4,{opacity:255}).start(),this.curBgNodeIdx=e}},e.prototype.playWinAmountAnim=function(t,e,o){this.onWinAnimFinish=o,this.node.active=!0,this.amountDisplay.setNumber(t);var i=Big(t).div(e);this.playBgAnim(i),i.lte(p.Game1810Constant.TOTAL_WIN_NUMBER_CHANGE_RATIO)?a.default.play(this.generalAudio,l.default.mediumWinNumChangeFinish[0],l.default.mediumWinNumChangeFinish[1]):a.default.play(this.generalAudio,l.default.mediumWin[0],l.default.mediumWin[1]),cc.Tween.stopAllByTarget(this.node),this.node.scale=1.05,cc.tween(this.node).to(.2,{scale:.95}).to(.1,{scale:1}).start()},e.prototype.playWinAmountChangeAnim=function(t,e,o){var i=this;this.node.active=!0,this.winSprNode.active=!1;var n=Big(t).div(e);this.playBgAnim(n),this.amountDisplay.setNumber(0),cc.Tween.stopAllByTarget(this.node),this.node.scale=1.1,cc.tween(this.node).to(.1,{scale:.95}).to(.05,{scale:1}).call(function(){h.Game1810Mgr.instance.isPlayAmountChangeAnim=!0,i.winAmountChangeAudioId=a.default.play(i.generalAudio,l.default.mediumWinNumChange[0],l.default.mediumWinNumChange[1]),a.default.setFinishCallback(i.winAmountChangeAudioId,function(){i.winAmountChangeAudioId=null}),i.amountDisplay.changeNumberFromOriginalToTargetOfTypeBig(Big(0),Big(t),2,"",function(){h.Game1810Mgr.instance.isPlayAmountChangeAnim=!1,i.winSprNode.active=!0,a.default.play(i.generalAudio,l.default.mediumWinNumChangeFinish[0],l.default.mediumWinNumChangeFinish[1]),o&&o()})}).start()},e.prototype.skipWinAmountChangeAnim=function(t){h.Game1810Mgr.instance.isPlayAmountChangeAnim=!1,this.winSprNode.active=!0,this.amountDisplay.setNumber(t),cc.Tween.stopAllByTarget(this.node),this.node.scale=1,null!=this.winAmountChangeAudioId&&(a.default.stop(this.winAmountChangeAudioId),this.winAmountChangeAudioId=null),a.default.play(this.generalAudio,l.default.mediumWinNumChangeFinish[0],l.default.mediumWinNumChangeFinish[1])},e.prototype.showWinAmount=function(t,e){var o;this.node.active=!0,this.winSprNode.active=!0,this.amountDisplay.setNumber(t),(o=Big(t).div(e).lte(3)?1:2)!=this.curBgNodeIdx&&(this.bgNodeList[this.curBgNodeIdx].active=!1,this.bgNodeList[o].active=!0,this.curBgNodeIdx=o)},e.prototype.playTenMultipleAnim=function(t){this.tenMultipleWinAnim.play("x10_canho"),cc.Tween.stopAllByTarget(this.node),this.node.scale=.8,cc.tween(this.node).to(.2,{scale:1.2}).to(.15,{scale:.9}).to(.05,{scale:1}).call(t).start()},e.prototype.hide=function(){var t=this;this.node.active=!1,this.curBgNodeIdx=0,this.bgNodeList.forEach(function(e,o){e.active=o==t.curBgNodeIdx,e.opacity=255,cc.Tween.stopAllByTarget(e)})},r([f(c.default)],e.prototype,"amountDisplay",void 0),r([f(cc.Node)],e.prototype,"winSprNode",void 0),r([f([cc.Node])],e.prototype,"bgNodeList",void 0),r([f([cc.Animation])],e.prototype,"bgAnimList",void 0),r([f(cc.Animation)],e.prototype,"greenWinAnim",void 0),r([f(cc.Animation)],e.prototype,"purpleWinAnim",void 0),r([f(cc.Animation)],e.prototype,"tenMultipleWinAnim",void 0),r([f(cc.AudioClip)],e.prototype,"generalAudio",void 0),r([d],e)}(s.default);o.default=m,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","../../../script/audio/WebAudioEngine":"WebAudioEngine","../../../script/common_game/SlotGame/SlotNumberChangeDisplay":"SlotNumberChangeDisplay","./AudioConfig":"AudioConfig","./Game1810Define":"Game1810Define","./Game1810Mgr":"Game1810Mgr"}],GameConst:[function(t,e,o){"use strict";cc._RF.push(e,"e63e6BtNC9FS7mwki9ZzdxR","GameConst"),Object.defineProperty(o,"__esModule",{value:!0}),o.Game_Const=void 0,o.Game_Const={native_version:"1.0.0",Gmee_Type:"pg_rabbit",Game_Host:"",server_ips:[],server_list:{test:{Game_Host:"https://test.mtmeme.com/",server_ips:[{host:"wss://st.mtmeme.com",port:15010},{host:"wss://st.mtmeme.com",port:15011},{host:"wss://st.mtmeme.com",port:15012},{host:"wss://st.mtmeme.com",port:15013},{host:"wss://st.mtmeme.com",port:15014}]}},language:"pt-BR",loginData:{notify_url:"https://apitest.mtmeme.com/callbacktest",amount:1e6,platform:"test",key:"T55JZQX4yrtwrGzh",secret:"b770901c-856e-44ce-9291-ff90664fadec",channel_id:"default"}},cc._RF.pop()},{}],GameEventDefine:[function(t,e,o){"use strict";cc._RF.push(e,"ffef0HzLlJCAZnjJYV1nixT","GameEventDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameEventDefine=void 0,function(t){t.OnMouseMove="OnMouseMove",t.OnMouseUp="OnMouseUp",t.OnMouseDown="OnMouseDown",t.OnMouseWheel="OnMouseWheel",t.EnterGame="EnterGame",t.GO_GAME_SERVER_CONNECTED="GO_GAME_SERVER_CONNECTED",t.NEW_GO_GAME_SERVER_CONNECTED="NEW_GO_GAME_SERVER_CONNECTED",t.SHOW_DEBUG_FORM="SHOW_DEBUG_FORM",t.CHECK_UPDATE_SUCCESS="CHECK_UPDATE_SUCCESS",t.INIT_FORM_TABLE="INIT_FORM_TABLE",t.GET_GAME_CONFIG_FAILED="GET_GAME_CONFIG_FAILED",t.HOT_UPDATE="HOT_UPDATE",t.LOAD_RES_SUCCESS="LOAD_RES_SUCCESS",t.ROOM_BET_GOLD_CONFIGS="ROOM_BET_GOLD_CONFIGS",t.GAME_EVENT_SHOW="GAME_EVENT_SHOW",t.UPDATE_USER_INFO="UPDATE_USER_INFO",t.HallWidgetVariety="HallWidgetVariety",t.SHOW_BG="SHOW_BG",t.GAME_HISTORY_LIST="GAME_HISTORY_LIST",t.GAME_LIST_REMOVER="GAME_LIST_REMOVER",t.GAME_UPDATE_LISTINFO="GAME_UPDATE_LISTINFO",t.TOUCH_SCROLLVIEW="TOUCH_SCROLLVIEW",t.UpdateMoveStatus="UpdateMoveStatus",t.KEYBOARD_EVENTE="KEYBOARD_EVENTE",t.KEYBOARD_SETSTR="KEYBOARD_SETSTR",t.KEYBOARD_POS="KEYBOARD_POS",t.KEYBOARD_CHANGE="KEYBOARD_CHANGE",t.KEYBOARD_DOWN="KEYBOARD_DOWN",t.KEYBOARD_DOWN_MAX="KEYBOARD_DOWN_MAX",t.LOGIN_IPLIMIT="LOGIN_IPLIMIT",t.REFRESH_LAUNCH="REFRESH_LAUNCH",t.BD_AutoInfo="BD_AutoInfo",t.GetButtonKey="GetButtonKey",t.UPDATE_GAME_GOLD="UPDATE_GAME_GOLD",t.COMPANY_PAYMENT="COMPANY_PAYMENT",t.MOVE_WHELL_EVENT="MOVE_WHELL_EVENT",t.SCROLLVIEW_DIRECTION="SCROLLVIEW_DIRECTION",t.GAME_LOADING_SUCCESS="GAME_LOADING_SUCCESS",t.QUEST_USERINFO_SUCCESS="QUEST_USERINFO_SUCCESS",t.START_LOAD_GAME="START_LOAD_GAME",t.LOADING_BUNDLE_FAILED="LOADING_BUNDLE_FAILED",t.SELECT_TOPTOOGLE="SELECT_TOPTOOGLE",t.CLOSE_LROLLER_WIN2="CLOSE_LROLLER_WIN2",t.UPDATE_SOUND="UPDATE_SOUND",t.UPDATE_GAME_MUSICS="UPDATE_GAME_MUSICS",t.PUSHSEVER_LOGIN_INFO="PUSHSEVER_LOGIN_INFO",t.UPDATE_SCROLLVIEW_ENABLE="UPDATE_SCROLLVIEW_ENABLE",t.GAME_MYBET_HISTORY_ADD="GAME_MYBET_HISTORY_ADD",t.ON_GAME_AUTO_CONFIG_FINISHED="ON_GAME_AUTO_CONFIG_FINISHED",t.LOADING_OPACTIY="LOADING_OPACTIY",t.RECONNEC_LOADING="RECONNEC_LOADING"}(o.GameEventDefine||(o.GameEventDefine={})),cc._RF.pop()},{}],GameHttpDefine:[function(t,e,o){"use strict";cc._RF.push(e,"f1b814pJ4NE35ccyjcnWSZz","GameHttpDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameHttpAPI=void 0;var i=function(){function t(){}return t.GAME_USER_HISTORY="/goldgame/user_history",t.BD_HISTORY="/Goldgame/bd_history",t.BD_RANKINGS="/game_rankings/bd_rankings",t.CRASH2_HISTORY="/Goldgame/crash2_history",t.CRASH2_RANKINGS="/game_rankings/crash2_rankings",t.CRASH3_HISTORY="/Goldgame/crash3_history",t.CRASH3_RANKINGS="/game_rankings/crash3_rankings",t.DOUBLE_HISTORY="/goldGame/double_history",t.DOUBLE2_HISTORY="/goldGame/double2_history",t.LONGHU_HISTORY="/goldgame/longhu_bai_history",t}();o.GameHttpAPI=i,cc._RF.pop()},{}],GameNetEvent:[function(t,e,o){"use strict";var i;cc._RF.push(e,"6369coSNxJC97dOSsW/6tbr","GameNetEvent"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t.Disconnect="disconnect",t.IoError="io-error",t.OnKick="onKick",t.Error="error",t.Close="close",t.Reconnect="reconnect",t.HeartbeatTimeout="heartbeat timeout",t.updateNetDelay="updateNetDelay",t.loginOK="loginOK",t.loginFail="loginFail",t.registerOK="registerOK",t.registerFail="registerFail",t.tryconnect="tryconnect",t.tryFail="tryFail",t.ShowDisconnectTip="ShowDisconnectTip",t.GetGatewayConfirm="GetGatewayConfirm"}(i||(i={})),o.default=i,cc._RF.pop()},{}],GameNet:[function(t,e,o){"use strict";cc._RF.push(e,"8a7f8+epi9BpLWzBlBVLt4v","GameNet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,t("../config/GameConst")),l=t("../tools/GlobalEvents"),p=t("../tools/GlobalGame"),h=t("./Result"),u=t("./GameNetEvent"),d=t("./logger"),f=t("../Scene/LoginGameMrg"),m=function(t){function e(){var e=t.call(this)||this;return e.pomelo=pomelo,e.reqPingPong=[],e.reqStart=Date.now(),e.lastTableCmd=null,e.heartBeatStartTime=Date.now(),e.heartBeatPingPong=[],e.event=new cc.EventTarget,e.remoteCfg={},e.priorityServer=[],e.lastPort=null,e.servercfg=null,e.sceneEvent={},e.bDebug=!1,e.bHall=!1,e.homeURL="",e.server_ips=null,e.reconnectAttempts=0,e.maxReconnectAttempts=5,e.sessionid=null,e.uid=0,e.tmpLoginRequest=null,e.cacheMeg={},e.cacheMegIndex=0,e.isKick=!1,e.tryshowCount=0,e.tryshowTime=(new Date).getTime(),e.loginLock=!1,e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o),this.instance},e.prototype.init=function(){o.getInstance().resetCallback()},e.prototype.computePingPong=function(){var t=o.getInstance();t.reqPingPong.push(Date.now()-t.reqStart),t.reqPingPong.length>5&&t.reqPingPong.splice(0,1);var e=t.reqPingPong.reduce(function(t,e){return t+e},0)/t.reqPingPong.length;t.sendEvent(u.default.updateNetDelay,{averagePing:e})},e.prototype.sendEvent=function(t,e){o.getInstance().event.emit(t,e)},e.prototype.on=function(t,e,i){o.getInstance().event.on(t,e,i)},e.prototype.off=function(t,e,i){o.getInstance().event.off(t,e,i)},e.prototype.on_ui=function(t,e,i,n){var r=o.getInstance();r.event.on(e,i,n),r.sceneEvent[t]||(r.sceneEvent[t]=[]),r.sceneEvent[t].push({evt:e,callback:i,target:n})},e.prototype.off_all_ui=function(t){var e=o.getInstance();if(e.sceneEvent[t]){for(var i=0;i<e.sceneEvent[t].length;i++){var n=e.sceneEvent[t][i];e.event.off(n.evt,n.callback,n.target)}e.sceneEvent[t]=null}},e.prototype.setCallBack=function(t,e){var i=o.getInstance();i.pomelo.off(t),e&&i.pomelo.on(t,function(o){l.GlobalEvents.getInstance().unluck(),d.default.green("<=== [Server Push] "+(new Date).toISOString()+" evt = "+t+", data:  "+JSON.stringify(o)),"onKick"===t&&i.sendEvent(u.default.Disconnect,7),i.lastTableCmd===t&&(i.lastTableCmd=null,i.computePingPong()),e(o)})},e.prototype.connect=function(t,e,i,n){var r=o.getInstance();r.reqPingPong=[],r.pomelo.disconnect(),n&&r.setCallBack(u.default.Disconnect,n),r.pomelo.init({host:t,port:e,log:!0,sendEvent:function(t,e){r.sendEvent(t,e)}},i)},e.prototype.disconnect=function(){var t=o.getInstance();t.servercfg=null,t.setCallBack(u.default.Disconnect,function(){}),t.pomelo.disconnect()},e.prototype.request=function(t,e,i){var n=o.getInstance();d.default.purple("GameNet request ===>",t,JSON.stringify(e)),n.reqStart=Date.now();try{2===arguments.length?(n.pomelo.notify(t,e),l.GlobalEvents.getInstance().unluck()):n.pomelo.request(t,e,function(e){l.GlobalEvents.getInstance().unluck(),d.default.green("<=== GameNet reply",t,JSON.stringify(e)),n.computePingPong(),i&&i(e)})}catch(r){n.sendEvent(u.default.Disconnect,2)}},e.prototype.requestToTableMsg=function(t,e,i){var n=o.getInstance();e.cmd=t,d.default.purple("requestToTableMsg  ===>",t,JSON.stringify(e)),n.reqStart=Date.now();try{2===arguments.length?(n.pomelo.notify("pkroom.handler.tableMsg",e),l.GlobalEvents.getInstance().unluck()):n.pomelo.request("pkroom.handler.tableMsg",e,function(e){l.GlobalEvents.getInstance().unluck(),d.default.green("<=== GameNet TableMsg reply",t,JSON.stringify(e)),n.computePingPong(),i&&i(e)})}catch(r){n.sendEvent(u.default.Disconnect,2)}},e.prototype.notifyToTableMsg=function(t,e){var i=o.getInstance();e.cmd=t,d.default.purple("GameNet notifyToTableMsg ===>",t,JSON.stringify(e)),i.reqStart=Date.now();try{i.pomelo.notify("pkroom.handler.tableMsg",e),l.GlobalEvents.getInstance().unluck()}catch(n){d.default.red("<=== GameNet notifyToTableMsg"),i.sendEvent(u.default.Disconnect,2)}},e.prototype.resetCallback=function(){var t=o.getInstance();t.setCallBack(u.default.IoError,function(e){d.default.log("resetCallback IoError"),t.onDisconnected(u.default.IoError,e)}),t.setCallBack(u.default.OnKick,function(e){d.default.log("resetCallback OnKick"),t.onDisconnected(u.default.OnKick,e),o.getInstance().isKick=!0}),t.setCallBack(u.default.Error,function(e){d.default.log("resetCallback Error"),t.onDisconnected(u.default.Error,e)}),t.setCallBack(u.default.Close,function(e){d.default.log("resetCallback Close"),t.onClose(u.default.Close,e)}),t.setCallBack(u.default.Disconnect,function(e){d.default.log("resetCallback Disconnect"),t.onDisconnected(u.default.Disconnect,e)}),t.setCallBack(u.default.Reconnect,function(){d.default.log("resetCallback Reconnect")}),t.setCallBack(u.default.HeartbeatTimeout,function(){d.default.log("resetCallback HeartbeatTimeout"),t.checkReconnect()}),t.on("endRoom",t.onEndRoom,t)},e.prototype.onClose=function(t,e){var i=o.getInstance();i.log("onClose: code:"+t+", data:"+JSON.stringify(e)),i.server_ips&&(i.servercfg=null,i.checkReconnect())},e.prototype.checkReconnect=function(){var t=o.getInstance();t.reconnectAttempts<t.maxReconnectAttempts?(l.GlobalEvents.getInstance().luck(!1),clearTimeout(t.reconnectTime),t.reconnectTime=setTimeout(function(){t.doAutoReconnect()},3e3)):(t.log("checkReconnect error"),o.getInstance().sendEvent(u.default.tryFail))},e.prototype.onDisconnected=function(t,e){o.getInstance().log("onDisconnected: code:"+t+", data:"+JSON.stringify(e))},e.prototype.onEndRoom=function(t){o.getInstance().log("endRoom",JSON.stringify(t))},e.prototype.queueNetMsgCallback=function(t,e){var i=o.getInstance();i.setCallBack(t,function(o){i.log("Queued message for event: "+t,o),e&&e(o)})},e.prototype.resetHeartBeatTime=function(){o.getInstance().heartBeatStartTime=Date.now()},e.prototype.computeNetDelayByHeartBeat=function(){var t=o.getInstance();t.heartBeatPingPong.push(Date.now()-t.heartBeatStartTime),t.heartBeatPingPong.length>1&&(t.heartBeatPingPong.splice(0,1),t.heartBeatPingPong.shift());var e=t.heartBeatPingPong.reduce(function(t,e){return t+e},0)/t.heartBeatPingPong.length;t.sendEvent(u.default.updateNetDelay,{averageHeartbeatPing:e})},e.prototype.combineServerRemoteCfg=function(t){var e=o.getInstance(),i=p.GlobalGame.getInstance().gameid;if(t&&t.gameInfo&&t.gameInfo[i]&&t.gameInfo[i].remoteCfg){var n=t.gameInfo[i].remoteCfg;for(var r in n)e.remoteCfg[r]=n[r]}},e.prototype.getServersByRandForWeights=function(t){var e=o.getInstance().remoteCfg.serversSelect;if(e&&e.length===t.length)for(var i=1e3*Math.random(),n=0,r=0;r<e.length;r++)if(i<=(n+=e[r]))return t[r];return t[Math.floor(Math.random()*t.length)]},e.prototype.getServerByRandForPort=function(t){if(t.length>3)return parseInt(t[1+Math.floor(Math.random()*(t.length-1))],10);var e=parseInt(t[1],10),o=parseInt(t[2],10);return e+Math.floor(Math.random()*(o-e+1))},e.prototype.getServerCfgByRand=function(){var t=o.getInstance();if(t.server_ips&&0!=t.server_ips.length||(t.server_ips=c.Game_Const.server_ips.concat()),null==t.servercfg){var e=Math.floor(Math.random()*t.server_ips.length);t.servercfg=t.server_ips[e],t.server_ips.splice(e,1)}return t.servercfg},e.prototype.getServerPort=function(t){var e=o.getInstance(),i=t.slice(0);i.splice(0,1);for(var n=[],r=parseInt(i[0],10),s=parseInt(i[1],10),a=r;a<=s;a++)e.lastPort!==a&&n.push(a);var c=n[Math.floor(Math.random()*n.length)];return e.lastPort=c,c},e.prototype.doLogin=function(t,e,i,n){o.getInstance().loginLock=!0;var r=o.getInstance(),s={account:t,passwd:e,app:{os:cc.sys.os},geogData:{latitude:0,longitude:0},fromHallGame:1,gametype:i,autoCreate:1};r.tmpLoginRequest=function(o){r.doLogin(t,e,i,o)};var a=r.getServerCfgByRand();r.connect(a.host,a.port,function(){r.log("connect server ok"),o.getInstance().tryshowCount=0,r.request("pkcon.handler.AccountLogin",s,function(t){if(t.result==h.Result.Success)return r.reconnectAttempts=0,r.sessionid=t.pinfo.sessionid,r.uid=t.pinfo.uid,r.sendEvent(u.default.loginOK,t),void(n&&n(null,t));n&&n(t.result,t),r.log("AccountLogin error",JSON.stringify(t)),r.gotoBack("Login Fail!! code:"+t.result)})},function(){r.log("doLogin connect server fail"),o.getInstance().loginLock=!1})},e.prototype.doRegister=function(t,e,i){o.getInstance().loginLock=!0;var n=o.getInstance(),r={account:t,passwd:e,app:{os:cc.sys.os},geogData:{latitude:0,longitude:0},fromHallGame:1,gametype:i},s=n.getServerCfgByRand();n.connect(s.host,s.port,function(){n.log("connect server ok"),o.getInstance().tryshowCount=0,n.request("pkcon.handler.RegisterAccount",r,function(t){if(t.result==h.Result.Success)return n.reconnectAttempts=0,n.sessionid=t.pinfo.sessionid,n.uid=t.pinfo.uid,void n.sendEvent(u.default.loginOK,t);n.sendEvent(u.default.loginFail,t),n.log("RegisterAccount error",JSON.stringify(t)),n.disconnect()})},function(){n.log("doRegister connect server fail"),o.getInstance().loginLock=!1})},e.prototype.doLoginBySession=function(t,e,i){o.getInstance().loginLock=!0;var n=o.getInstance(),r={sessionid:t,uid:e,app:{os:cc.sys.os}};n.tmpLoginRequest=function(o){n.doLoginBySession(t,e,o)};var s=n.getServerCfgByRand();n.connect(s.host,s.port,function(){n.log("doLoginBySession connect server ok"),o.getInstance().tryshowCount=0,n.request("pkcon.handler.sessionLogin",r,function(t){if(t.result==h.Result.Success)return n.reconnectAttempts=0,n.sessionid=t.pinfo.sessionid,n.uid=t.pinfo.uid,n.sendEvent(u.default.loginOK,t),void(i&&i(null,t));i&&i(t.result,t),n.log("AccountLogin error",JSON.stringify(t)),n.gotoBack("Login Fail!! code:"+t.result)})},function(){o.getInstance().log("doLoginBySession connect server fail"),o.getInstance().loginLock=!1})},e.prototype.doAutoReconnect=function(){var t=o.getInstance();o.getInstance().sendEvent(u.default.tryconnect),d.default.log("GameNet  ok",o.getInstance().tryshowTime);var e=function(e,i){e||(i.pinfo.tableid?p.GlobalGame.getInstance().JoinGame(i.pinfo.tableid,function(e){t.log(" doAutoReconnec JoinGame",JSON.stringify(e)),o.getInstance().sendEvent(f.LoginGameMrg.loginOver,e.tableData)}):f.LoginGameMrg.getInstance().tryNewRoom())};t.sessionid&&t.uid?t.doLoginBySession(t.sessionid,t.uid.toString(),e):t.tmpLoginRequest&&t.tmpLoginRequest(e)},e.prototype.doLoginByUnionid=function(t,e,i,n){var r=o.getInstance(),s={unionid:e,nickname:i,user_id:t,notify_url:c.Game_Const.loginData.notify_url,amount:c.Game_Const.loginData.amount,gameid:c.Game_Const.Gmee_Type,platform:c.Game_Const.loginData.platform,key:c.Game_Const.loginData.key,secret:c.Game_Const.loginData.secret,channel_id:c.Game_Const.loginData.channel_id};r.tmpLoginRequest=function(o){r.doLoginByUnionid(t,e,i,o)};var a=r.getServerCfgByRand();r.connect(a.host,a.port,function(){r.log("login unionid connect server ok",JSON.stringify(s)),r.request("pkcon.handler.unionidLogin",s,function(t){if(t.result==h.Result.Success)return r.reconnectAttempts=0,r.sessionid=t.pinfo.sessionid,r.uid=t.pinfo.uid,r.sendEvent(u.default.loginOK,t),void(n&&n(null,t));r.sendEvent(u.default.loginFail,t),n&&n(t.result,t),r.log("doLoginByUnionid error",JSON.stringify(t)),r.disconnect()})},null)},e.prototype.loginGame=function(){var t=o.getInstance(),e=t.priorityServer,i=t.getServersByRandForWeights(e).split(":"),n=i[0],r=t.getServerPort(i);t.connect(n,r,function(){t.sendEvent("connect")},function(){t.sendEvent(u.default.Disconnect,1)})},e.prototype.getAllQueryVariables=function(){if(cc.sys.isBrowser){var t=window.location.search.substring(1).split("&"),e={};return t.forEach(function(t){var o=t.split("=");o[0]&&o[1]&&(e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}),e}return{}},e.prototype.gotoBack=function(t){var e=o.getInstance();if(t&&""!=t)return e.log("goto back ======>>>> msg:"+t),void p.GlobalGame.getInstance().ShowTips(t,0,function(){e.gotoBack("")});e.log("goto back ======>>>> disconnect"),e.server_ips=null,e.disconnect(),cc.sys.isBrowser?(e.log("self function is Web platform."," ===>>> goto history back"),""!=e.homeURL?window.location.href=e.homeURL:e.isDebug()):e.log("self function is only available on the Web platform."," ===>>> goto back")},e.prototype.isHall=function(){return o.getInstance().bHall||cc.sys.isBrowser&&("localhost"==window.location.hostname||-1!=window.location.hostname.indexOf("192.168.")||-1!=window.location.hostname.indexOf("43.198.73.197"))},e.prototype.isDebug=function(){return o.getInstance().bDebug||cc.sys.isBrowser&&("localhost"==window.location.hostname||-1!=window.location.hostname.indexOf("192.168.")||-1!=window.location.hostname.indexOf("43.198.73.197"))},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=o.getInstance();i.isDebug()&&(1==t.length?d.default.log(t[0]):2==t.length?d.default.log(t[0],t[1]):3==t.length?d.default.log(t[0],t[1],t[2]):4==t.length?d.default.log(t[0],t[1],t[2],t[3]):5==t.length?d.default.log(t[0],t[1],t[2],t[3],t[4]):d.default.log.apply(d.default,t))},e.instance=null,e.cmdCall="pkplayer.handler.ClientMommonCall",o=r([a],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../Scene/LoginGameMrg":"LoginGameMrg","../config/GameConst":"GameConst","../tools/GlobalEvents":"GlobalEvents","../tools/GlobalGame":"GlobalGame","./GameNetEvent":"GameNetEvent","./Result":"Result","./logger":"logger"}],GlobalEvents:[function(t,e,o){"use strict";cc._RF.push(e,"bfd42hN+gFH2KnLjKgfQD2i","GlobalEvents");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalEvents=void 0;var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=t.call(this)||this;return e.event=new cc.EventTarget,e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o),this.instance},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.emit=function(t,e){this.event.emit(t,e)},e.prototype.once=function(t,e,o){this.event.once(t,e,o)},e.prototype.on=function(t,e,o){this.event.on(t,e,o)},e.prototype.off=function(t,e,o){this.event.off(t,e,o)},e.prototype.luck=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=0),this.emit("luck",{autoUnluck:t,timeout:e})},e.prototype.unluck=function(t){void 0===t&&(t=!0),this.emit("unluck",{force:t})},e.instance=null,o=r([a],e)}(cc.Component));o.GlobalEvents=c,cc._RF.pop()},{}],GlobalGame:[function(t,e,o){"use strict";cc._RF.push(e,"6b75eUXWplIUpwsOAL5FfUC","GlobalGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalGame=void 0;var s=t("../config/GameConst"),a=t("../libs/Language"),c=t("../libs/Tools"),l=t("../net/GameNet"),p=t("../net/GameNetEvent"),h=t("../net/Result"),u=t("../net/ResultText"),d=t("../player/myplayer"),f=t("./GlobalEvents"),m=cc._decorator,y=m.ccclass,g=(m.property,function(t){function e(){var e=t.call(this)||this;return e.gameid=null,e.tableid=null,e.order=null,e.bOnRoom=!1,e.bet=-1,e.level=0,e.GameResult=null,e.tableData=null,e.tData=null,e.tmpFaceID="",e.gamecfg=null,e.playerlist=null,e.icons=null,e.mode=0,e.prefabTipsMsg=null,e.prefabLock=null,e.luckView=[],e.images={},e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o),this.instance},e.prototype.onLoad=function(){o.getInstance().init()},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(){var t=o.getInstance();l.default.getInstance().on("initSceneData",t.onInitSceneData,t),f.GlobalEvents.getInstance().on("luck",t.onLuck,t),f.GlobalEvents.getInstance().on("unluck",t.onUnluck,t)},e.prototype.onInitSceneData=function(t){l.default.getInstance().log("onInitSceneData",JSON.stringify(t))},e.prototype.clear=function(){var t=o.getInstance();t.bet=-1,t.level=0,t.GameResult=null,t.tableData=null,t.tData=null,t.gamecfg=null,t.tableid=0},e.prototype.ellipsis=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},e.prototype.extractNumberAfterPrefix=function(t,e){void 0===e&&(e="avata:");var o=new RegExp(e+"(\\d+)"),i=t.match(o);return i&&i[1]?i[1]:null},e.prototype.endsWithSlash=function(t){return/\/$/.test(t)},e.prototype.setFace=function(t,e){var i=o.getInstance(),n=i.extractNumberAfterPrefix(e);if(null!=n){var r=Math.max(1,Math.min(parseInt(n),18));i.loadGameRes("face/icon_"+r+".png",t)}},e.prototype.loadImage=function(t,e){var i=o.getInstance();e&&(i.images[t]?i.images[t].spriteFrame?(e.spriteFrame=i.images[t].spriteFrame,l.default.getInstance().log("loadImage ===>>> sprite ",t)):(i.images[t].sprites.push(e),l.default.getInstance().log("loadImage ===>>> Cache ",t)):(l.default.getInstance().log("loadImage ===>>> ",t),i.images[t]={spriteFrame:null,sprites:[e]}),cc.assetManager.loadRemote(t,function(e,i){var n=o.getInstance();if(e)console.error(e);else{var r=new cc.SpriteFrame(i);n.images[t].spriteFrame=r,n.images[t].sprites.forEach(function(e){null!=e.node?(e.spriteFrame=r,l.default.getInstance().log("loadimage set spriteFrame",e.name,t)):l.default.getInstance().log("loadimage sprite is invalid",t)}),n.images[t].sprites=[]}}))},e.prototype.getBaseURL=function(){var t=o.getInstance(),e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/";return cc.sys.isBrowser&&"localhost"==window.location.hostname&&(e=s.Game_Const.Game_Host),!t.endsWithSlash(e)&&(e+="/"),e},e.prototype.loadGameIcon=function(t,e){var i=o.getInstance(),n=i.getBaseURL()+"gameicons/"+t+".png";i.loadImage(n,e)},e.prototype.loadGameRes=function(t,e){var i=o.getInstance(),n=i.getBaseURL()+"resources/"+t;i.loadImage(n,e)},e.prototype.JoinGame=function(t,e){var i=o.getInstance(),n={cmd:"JoinGame",tableid:t};l.default.getInstance().request(l.default.cmdCall,n,function(t){l.default.getInstance().log(JSON.stringify(t)),t.result==h.Result.Success?(i.tableData=t.tableData,i.tData=t.tableData.tData,i.bet=i.tData.bet,i.level=i.tData.level,i.tableid=i.tData.tableid,i.tableData.tableResult&&(i.GameResult=i.tableData.tableResult),i.tableData.gamecfg&&(i.gamecfg=i.tableData.gamecfg),e&&e(t)):t.result==h.Result.roomNotFound?(i.tableid,d.myplayer.getInstance().getInfo().tableid=0,e&&e(null)):i.ShowTipsByMsg(t,0,function(){e&&e(null)})})},e.prototype.LeaveGame=function(t){var e=o.getInstance();l.default.getInstance().request("pkplayer.handler.ClientMommonCall",{cmd:"LeaveGame"},function(i){l.default.getInstance().log(JSON.stringify(i)),e.tableid,d.myplayer.getInstance().getInfo().tableid=0,i.result==h.Result.Success?(o.getInstance().clear(),t&&t(i)):(i.result,h.Result.roomNotFound,t&&t(null))})},e.prototype.EndRoom=function(t){l.default.getInstance().log("EndRoom"),l.default.getInstance().sendEvent(p.default.GetGatewayConfirm);var e=o.getInstance();f.GlobalEvents.getInstance().luck(),l.default.getInstance().requestToTableMsg("EndRoom",{},function(){e.tableid=0,e.tableData=null,e.GameResult=null,e.bet=-1,o.getInstance().LeaveGame(t)})},e.prototype.GameOver=function(t,e){var i=o.getInstance(),n={score:i.exchangeThird(t)};l.default.getInstance().requestToTableMsg("GameOver",n,function(t){t.result==h.Result.Success&&(i.GameResult=t.tableResult,d.myplayer.getInstance().requestUserInfo(),e&&e(t))})},e.prototype.GameCfg=function(t){var e=o.getInstance();f.GlobalEvents.getInstance().luck();var i={cmd:"GameCfg",gameid:e.gameid};l.default.getInstance().request(l.default.cmdCall,i,function(o){l.default.getInstance().log(JSON.stringify(o)),o.result==h.Result.Success?(e.gamecfg=o.gamecfg,e.playerlist=o.playerlist,t&&t(o)):e.ShowTipsByMsg(o,0,function(){l.default.getInstance().gotoBack("")})})},e.prototype.NewRoom=function(t,e,i,n){var r=o.getInstance();f.GlobalEvents.getInstance().luck(),i.order=r.order||c.Tools.Format(new Date,"yyyyMMddhhmmssS")+d.myplayer.getInstance().getUid().toString();var s={cmd:"NewRoom",gameid:t,roomid:e,tparam:i};l.default.getInstance().request(l.default.cmdCall,s,function(t){l.default.getInstance().log(JSON.stringify(t)),t.result==h.Result.Success?(r.tableid=t.tableid,r.bet=0,n&&n(t)):r.ShowTipsByMsg(t,0,function(){n&&n(t)})})},e.prototype.canStartGame=function(t){var e=o.getInstance();l.default.getInstance().requestToTableMsg("canStartGame",{},function(o){o.result==h.Result.Success?(d.myplayer.getInstance().updateInfo(o.pinfo),t&&t(o)):e.ShowTipsByMsg(o,0,function(){t&&t(o)})})},e.prototype.handleFloat=function(t){return"number"==typeof t?Math.floor(100*t)/100:t},e.prototype.handleFloatStr=function(t,e){return void 0===e&&(e=2),this.exchangeSelf(t).toFixed(e)},e.prototype.handleNumber=function(t){return t<1e3?t.toString():t>1e8?(t/1e8).toFixed(2)+"G":t>1e4?(t/1e4).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":void 0},e.prototype.exchangeThird=function(t){return Math.floor(1e3*t)},e.prototype.exchangeSelf=function(t){return t/1e3},e.prototype.RandomWeight=function(t){for(var e=0,o=0;o<t.length;o++)e+=t[o].weight;var i=Math.random()*e;for(e=0,o=0;o<t.length;o++)if(i<=(e+=t[o].weight))return t[o];return null},e.prototype.ShowTipsByMsg=function(t,e,i){var n=o.getInstance();t.msg?n.ShowTips(t.msg,e,i):t.result?n.ShowTipsByCode(t,e,i):n.ShowTips("System unknown!",e,i)},e.prototype.ShowTipsByCode=function(t,e,i){var n=o.getInstance(),r=t.msg||a.Language.GT("sysytem error code:")+t.result;for(var s in h.Result)if(h.Result[s]==t.result){u.ResultText[s]&&(r=a.Language.GT(u.ResultText[s]));break}n.ShowTips(r,e,i)},e.prototype.ShowTips=function(t,e,i){if(o.getInstance().prefabTipsMsg){var n=cc.director.getScene();n&&n.getChildByName("Canvas")?(console.error("ShowTips:",t),i&&i&&i(e)):i&&i(1)}else i&&i(1)},e.prototype.onLuck=function(){var t=o.getInstance();if(t.prefabLock&&!(t.luckView.length>0)){var e=cc.director.getScene();e&&e.getChildByName("Canvas")&&console.error("onLuck:")}},e.prototype.onUnluck=function(){var t=o.getInstance();t.luckView.forEach(function(t){t.removeFromParent(),t.destroy()}),t.luckView=[]},e.instance=null,o=r([y],e)}(cc.Component));o.GlobalGame=g,cc._RF.pop()},{"../config/GameConst":"GameConst","../libs/Language":"Language","../libs/Tools":"Tools","../net/GameNet":"GameNet","../net/GameNetEvent":"GameNetEvent","../net/Result":"Result","../net/ResultText":"ResultText","../player/myplayer":"myplayer","./GlobalEvents":"GlobalEvents"}],HisLineAward:[function(t,e,o){"use strict";cc._RF.push(e,"f9d4bTu9sdKsp2m4fsmdFsY","HisLineAward");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.HisLineAward=void 0;var s=t("../../../../../script/common_game/SlotGame/SlotUtility"),a=t("../../../../../script/Game1810/script/Game1810Mgr"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_idx=null,e.icon_fuhao=null,e.lb_x10=null,e.dot=null,e.lineImages=[],e}return n(e,t),e.prototype.setData=function(t){this.data=t,this.lb_idx.string=t.line<10?"0"+t.line:""+t.line,this.icon_fuhao.spriteFrame=this.lineImages[t.line-1];var e=parseFloat(t.tw),o=a.Game1810Mgr.instance.getGameResult().currency;this.lb_x10.string=o+s.default.formatNumber(e)},e.prototype.onClick=function(){if(this.onClickCallback){var t=parseFloat(this.data.odd);this.onClickCallback(this.node,t)}},r([p(cc.Label)],e.prototype,"lb_idx",void 0),r([p(cc.Sprite)],e.prototype,"icon_fuhao",void 0),r([p(cc.Label)],e.prototype,"lb_x10",void 0),r([p(cc.Node)],e.prototype,"dot",void 0),r([p(cc.SpriteFrame)],e.prototype,"lineImages",void 0),r([l],e)}(cc.Component);o.HisLineAward=h,cc._RF.pop()},{"../../../../../script/Game1810/script/Game1810Mgr":"Game1810Mgr","../../../../../script/common_game/SlotGame/SlotUtility":"SlotUtility"}],HttpRequest:[function(t,e,o){"use strict";cc._RF.push(e,"952a1j3XRdFIrBuCBVSXENb","HttpRequest");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.HttpRequest=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="HttpRequest",this.Log("Init")},e.prototype.SendHttpRequest=function(t,e,o,i,n,r){var s=[t,e].join(""),a=this,c=new XMLHttpRequest,l=!1,p=setTimeout(function(){h()},8e3),h=function(){l||(l=!0,clearTimeout(p),c.abort(),r&&r(t,e,c.readyState,c.status,i))};c.onerror=function(){a.ErrLog("httpRequest.error:%s",s),h()},c.onreadystatechange=function(){if(4==c.readyState){if(l)return void a.ErrLog("httpRequest time out:%s",s);clearTimeout(p),200==c.status?n&&n(t,e,c.responseText,i):(a.ErrLog("url:%s onreadystatechange(%s, %s, %s)",s,c.readyState,c.status,c.statusText,i),h())}},"GET"==o?(c.open("GET",s+"?"+JSON.stringify(i),!0),c.send()):"POST"==o&&(c.open("POST",s,!0),c.setRequestHeader("Content-Type","application/json;charset=utf-8"),c.send(JSON.stringify(i)))},e.prototype.formatParams=function(t){var e=[];for(var o in t){var i=t[o];"[object Object]"===toString.call(i)||"[object Array]"===toString.call(i)?e.push(o+"="+JSON.stringify(i)):e.push(o+"="+i)}return e.join("&")},e}(t("../Base/Singleton").Singleton);o.HttpRequest=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],HttpServerDefine:[function(t,e,o){"use strict";cc._RF.push(e,"7f686UV/ElLxJc7nbAq0FxC","HttpServerDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.HttpAPI=void 0;var i=function(){function t(){}return t.CONFIG_INITIALDATA="/config/initialData",t.GET_STOPGS_NOTICE="/Notice/getStopgsNotice",t.GET_USERINFO="/account/getUserInfo",t.GET_GAME_USER_HISTORY="/goldGame/getUserHistory",t.GET_GAME_LOGSHOW_LIMIT="/goldGame/gameLogShowLimit",t.GET_MINI_GAME_USER_HISTORY="/single_game.mini_game/getUserHistory",t.GET_MINI_GAME_LOGSHOW="/single_game.mini_game/gameLogShow",t}();o.HttpAPI=i,cc._RF.pop()},{}],HttpServerManager:[function(t,e,o){"use strict";cc._RF.push(e,"c0c37XJcrdLUKaFjQTQ6GRa","HttpServerManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.HttpServerManager=void 0;var r=t("./BaseHttpServerManager"),s={"/single_game.goal_shoot/end":!0,"/single_game.goal_shoot/gameResult":!0},a={},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){t.prototype.Init.call(this),this.JS_Name="HttpServerMananger",this.Log("Init")},e.prototype.SendHttpPack=function(e,o,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0),o||(o={}),t.prototype.SendHttpPack.call(this,e,o,i)},e.prototype.ObserverErrorEvent=function(t){return s[t]},e.prototype.ObserverFailedEvent=function(t){return a[t]},e}(r.BaseHttpServerManager);o.HttpServerManager=c,cc._RF.pop()},{"./BaseHttpServerManager":"BaseHttpServerManager"}],ImageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"54e8arUnIFE86WY5UzsoZAM","ImageUtil");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="ImageUtil"},e.prototype.LoadLocalImage=function(t,e){t?app.ControlManager().CreateSpritePromise(e).then(function(e){var o=function(t){cc.isValid(t,!0)&&t&&t.getComponent(cc.Sprite)&&(t.getComponent(cc.Sprite).spriteFrame=e)};Array.isArray(t)?t.forEach(function(t){o(t)}):o(t)}).catch(function(){}):this.ErrLog("Load Head failed: "+e)},e.prototype.LoadRemoteImage=function(t,e){if(t){var o=e.substring(e.lastIndexOf(".")+1);"jpeg"==o||"png"==o||"jpg"==o?app.ControlManager().CreateLoadPromiseByUrl(e).then(function(e){var o=function(t){if(cc.isValid(t,!0)&&t&&t.getComponent(cc.Sprite)){var o=new cc.SpriteFrame(e);t.getComponent(cc.Sprite).spriteFrame=o}};Array.isArray(t)?t.forEach(function(t){o(t)}):o(t)}).catch(function(){}):this.ErrLog("LoadRemoteImage failed: "+e)}else this.ErrLog("LoadRemoteImage failed: "+e)},e.prototype.LoadImage=function(t,e){0==e.indexOf("http")?this.LoadRemoteImage(t,e):this.LoadLocalImage(t,e)},e.prototype.LoadHead=function(t,e){t&&cc.isValid(t,!0)?(null!=(e=""+e)&&"/0"!=e&&""!=e||(e="00"),0==e.indexOf("http")?this.LoadImage(t,e):(e=app.ComTool().PrefixInteger(e,2),this.LoadImage(t,"common/atlas/face/"+e))):this.ErrLog("Load Head failed: "+e)},e}(t("../Base/Singleton").Singleton);o.default=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],LanguageData:[function(t,e,o){"use strict";cc._RF.push(e,"28e10vULlxOa7BIsrUM+SMJ","LanguageData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.langData=null,this.langData||(this.langData={curLang:"",curLangIndex:0,lang:[],textMap:{}})}return Object.defineProperty(t,"inst",{get:function(){return t._inst||(t._inst=new t),t._inst},enumerable:!1,configurable:!0}),t.prototype.loadConfig=function(t,e){var o=cc.resources.getDirWithPath("Form",cc.TextAsset);if(t(0,o.length),0!=o.length){var i=[];o.map(function(t){i.push(t.path)});for(var n=0,r=0;r<o.length;r++)this.loadCSV(o[r].path,function(){t(++n,o.length),n>=o.length&&e()})}else e()},t.prototype.loadCSV=function(t,e){var o=this;cc.resources.load(t,cc.TextAsset,function(i,n){i?setTimeout(function(){o.loadCSV(t,e)},.5):(o.initLanguageData(n.text),cc.resources.release(t),e())})},t.prototype.initLanguageData=function(t){for(var e=this.CSVToArray(t),o=0;o<e.length;o++){var i=e[o];i.length<=1||(0===o?this.langData.lang=i.slice(1):this.langData.textMap[i[0]]=i.slice(1))}},t.prototype.selectLang=function(t){if(cc.log("selectLang ==>>"+t),t===this.langData.curLang)return!0;var e=this.langData.lang.indexOf(t);return e>-1?(this.langData.curLang=t,this.langData.curLangIndex=e,this.updateSceneRenderers(),!0):(cc.error("selectLang error !! "+t+" not exsit!!"),!1)},t.prototype.t=function(t,e){var o="";return this.langData.textMap&&this.langData.textMap[t]&&(o=this.langData.textMap[t][this.langData.curLangIndex]||""),e=null==e?{}:e,o?o=(o=a(o,e=n(e))).replace(/\\n/g,"\n"):(o=(o=t).replace(/\\n/g,"\n"),cc.warn('Missing translation for key: "'+t+'"')),o},t.prototype.getCurLang=function(){return this.langData.curLang},t.prototype.getCurLangIndex=function(){return this.langData.curLangIndex},t.prototype.getLangs=function(){return this.langData.lang},t.prototype.updateSceneRenderers=function(){for(var t=cc.director.getScene().children,e=[],o=0;o<t.length;++o){var i=t[o].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,i)}for(o=0;o<e.length;++o){var n=e[o];n.node.active&&n.updateLabel()}var r=[];for(o=0;o<t.length;++o){var s=t[o].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(r,s)}for(o=0;o<r.length;++o){var a=r[o];cc.isValid(a.node)&&a.node.active&&a.updateSprite(this.langData.curLang)}var c=[];for(o=0;o<t.length;++o){var l=t[o].getComponentsInChildren("LocalizedImage");Array.prototype.push.apply(c,l)}for(o=0;o<c.length;++o)l=c[o],cc.isValid(l.node)&&l.node.active&&l.updateSprite();var p=[];for(o=0;o<t.length;++o){var h=t[o].getComponentsInChildren("LocalizedMask");Array.prototype.push.apply(p,h)}for(o=0;o<p.length;++o)h=p[o],cc.isValid(h.node)&&h.node.active&&h.updateSprite()},t.prototype.CSVToArray=function(t,e){e=e||",";for(var o=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),i=[[]],n=null;n=o.exec(t);){var r=n[1];if(r.length&&r!=e&&i.push([]),n[2])var s=n[2].replace(new RegExp('""',"g"),'"');else s=n[3];i[i.length-1].push(s)}return i},t._inst=null,t}();function n(t){var e={};for(var o in t)e[o]=t[o];return e}o.default=i;var r=/\$/g,s="$$$$";function a(t,e){var o=String.prototype.replace;for(var i in e)if("_"!==i&&e.hasOwnProperty(i)){var n=e[i];"string"==typeof n&&(n=o.call(e[i],r,s)),t=o.call(t,new RegExp("S\\{"+i+"\\}","g"),n)}return t}cc._RF.pop()},{}],LanguageDefine:[function(t,e,o){"use strict";cc._RF.push(e,"e8f14BCO9pOtaw6ffWbGZTe","LanguageDefine"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.hasValue=function(e){for(var o=Object.keys(t),i=0;i<o.length;i++)if(o[i]==e)return!0;return!1},t.en="en-us",t.hiin="hi-in",t.thth="th-th",t.zhcn="zh-cn",t.zhhk="zh-hk",t.vivn="vi-vn",t.idid="id-id",t.intelugu="in-telugu",t.inmarathi="in-marathi",t.pt="pt-pt",t.eses="es-es",t}();o.default=i,cc._RF.pop()},{}],Language:[function(t,e,o){"use strict";cc._RF.push(e,"5b4b70KwjJI5ZFtOUAYlgnY","Language");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Language=void 0;var s=t("../../../script/framework/log/log"),a=t("../config/GameConst"),c=t("../net/GameNet"),l=t("../tools/GlobalEvents"),p=t("../tools/GlobalGame"),h=cc._decorator,u=h.ccclass,d=(h.property,function(t){function e(){var e=t.call(this)||this;return e.language=null,e.lang="en",e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o,this.instance.init()),this.instance},e.prototype.LoadLocal=function(){var t=o.getInstance();cc.resources.load("/language/en",function(e,o){if(e)console.error(e.message||e);else{var i=o.json;t.language=i,s.tcLog.log("LoadLocal language ==>>",JSON.stringify(i))}})},e.prototype.init=function(){var t=o.getInstance(),e=c.default.getInstance().getAllQueryVariables();if(t.lang=e.language||a.Game_Const.language,t.lang){var i=p.GlobalGame.getInstance().getBaseURL()+"resources/language/"+t.lang+".json";fetch(i).then(function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()}).then(function(e){t.language=e,l.GlobalEvents.getInstance().emit("LanguageChange")}).catch(function(e){console.error("There was a problem with the fetch operation:",e),t.LoadLocal()})}else t.LoadLocal()},e.prototype.GetText=function(t){return this.language&&null!=this.language[t]?this.language[t]:t},e.prototype.LoadLanguage=function(){},e.GT=function(t){return o.getInstance().GetText(t)},e.instance=null,o=r([u],e)}(cc.Component));o.Language=d,cc._RF.pop()},{"../../../script/framework/log/log":"log","../config/GameConst":"GameConst","../net/GameNet":"GameNet","../tools/GlobalEvents":"GlobalEvents","../tools/GlobalGame":"GlobalGame"}],LayoutUtil:[function(t,e,o){"use strict";cc._RF.push(e,"04509QO2ElI9IPkWo5sTVSi","LayoutUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.LayoutUtil=void 0;var i=function(){function t(){}return t.vertical_layout=function(t,e,o,i,n,r,s,a,c,l){return[t%i*e+n-s+c,-Math.floor(t/i)*o-r+a-l]},t.horizontal_layout=function(t,e,o,i,n,r,s,a,c,l){return[Math.floor(t/i)*e+n-s+c,-t%i*o-r+a-l]},t.vertical_center_layout=function(t,e,o,i,n,r,s,a,c){return[n-s+a,-r-(o-e*i)/2+c+t*i]},t.horizontal_center_layout=function(t,e,o,i,n,r,s,a,c){return[n+(o-e*i)/2+a+t*i,-r+s-c]},t.horizontal_Layout=function(t,e,o,i,n,r){return(i+r)*t+i*n-e*o},t}();o.LayoutUtil=i,cc._RF.pop()},{}],LightningEffect:[function(t,e,o){"use strict";cc._RF.push(e,"501ceJ2ra1NSJTtwN18ar6t","LightningEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.TurboState=void 0;var s,a=cc._decorator,c=a.ccclass,l=a.property;(function(t){t[t.FIRST_OFF=0]="FIRST_OFF",t[t.OFF=1]="OFF",t[t.ON=2]="ON"})(s=o.TurboState||(o.TurboState={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.turboIconSFList=[],e.listenEvent=null,e}return n(e,t),Object.defineProperty(e.prototype,"State",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this,e=new cc.Component.EventHandler;e.target=this.node,e.component="LightningEffect",e.handler="Callback",this.node.getComponent(cc.Button).clickEvents=[],this.node.getComponent(cc.Button).clickEvents.push(e),this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(e,o){if("turbo_shangdian5"==o.name||"turbo_shangdian6"==o.name)return t.schedule(t.lightNingPlay,1),void t.schedule(t.lightblowup,4)})},e.prototype.switch=function(t){var e=this._state;this._state=t,this.node.getChildByName("onText").active=t!=s.OFF,this.node.getChildByName("offText").active=t==s.OFF,t==s.FIRST_OFF?(this.node.getComponent(cc.Animation).stop(),this.node.getChildByName("icon_turboOn").getComponent(cc.Sprite).spriteFrame=this.turboIconSFList[0],this.node.getChildByName("shandian").getComponent(cc.Sprite).spriteFrame=null,this.node.getChildByName("glow").active=!0,this.node.getChildByName("glow").opacity=180):t==s.OFF?(this.node.getComponent(cc.Animation).stop(),this.node.getChildByName("icon_turboOn").getComponent(cc.Sprite).spriteFrame=this.turboIconSFList[1],this.node.getChildByName("shandian").getComponent(cc.Sprite).spriteFrame=null,this.node.getChildByName("glow").active=!1,this.unschedule(this.lightNingPlay),this.unschedule(this.lightblowup)):t==s.ON&&(e==s.FIRST_OFF?this.node.getComponent(cc.Animation).play("turbo_shangdian6"):this.node.getComponent(cc.Animation).play("turbo_shangdian5"),this.node.getChildByName("glow").active=!1)},e.prototype.lightNingPlay=function(){var t=Math.round(2*Math.random()+1);this.node.getComponent(cc.Animation).playAdditive("turbo_shangdian"+t)},e.prototype.lightblowup=function(){this.node.getComponent(cc.Animation).playAdditive("turbo_shangdian4")},e.prototype.Callback=function(){this._state==s.FIRST_OFF||this._state==s.OFF?this.switch(s.ON):this.switch(s.OFF),this.listenEvent&&this.listenEvent(this._state)},r([l([cc.SpriteFrame])],e.prototype,"turboIconSFList",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],ListIndicator:[function(t,e,o){"use strict";cc._RF.push(e,"52a43CF9CdCao1iHqELoK8Z","ListIndicator");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setPageView=function(t){this._pageView=t,this._refresh()},e.prototype._changedState=function(){var t=this._indicators;if(0!==t.length){var e=this._pageView.curPageNum;if(!(e>=t.length)){for(var o=0;o<t.length;++o)t[o].opacity=127.5;t[e].opacity=255}}},e.prototype._refresh=function(){if(this._pageView){var t=this._indicators,e=this._pageView._numItems;if(e!==t.length){var o=0;if(e>t.length)for(o=0;o<e;++o)t[o]||(t[o]=this._createIndicator());else for(o=t.length-e;o>0;--o){var i=t[o-1];this.node.removeChild(i),t.splice(o-1,1)}this._layout&&this._layout.enabledInHierarchy&&this._layout.updateLayout(),this._changedState()}}},r([a],e)}(cc.PageViewIndicator));o.default=c,cc._RF.pop()},{}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"e7dc6ZAYPVLJKxNcW8aTO1J","ListItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=cc._decorator,c=a.ccclass,l=a.property,p=a.disallowMultiple,h=a.menu,u=a.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(s||(s={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=s.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e._eventReg=!1,e}return n(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case s.TOGGLE:this.selectedFlag.active=t;break;case s.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==s.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,o){if(void 0===o&&(o=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var i=new cc.Component.EventHandler;return i.target=o||t.node,i.component=t.comName,i.handler=e,i}},e.prototype.showAni=function(t,e,o){var i,n=this;switch(t){case 0:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{y:2*n.node.height});break;case 1:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{x:2*n.node.width});break;case 2:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{y:-2*n.node.height});break;case 3:i=cc.tween(n.node).to(.2,{scale:.7}).by(.3,{x:-2*n.node.width});break;default:i=cc.tween(n.node).to(.3,{scale:.1})}(e||o)&&i.call(function(){if(o){n.list._delSingleItem(n.node);for(var t=n.list.displayData.length-1;t>=0;t--)if(n.list.displayData[t].id==n.listId){n.list.displayData.splice(t,1);break}}e()}),i.start()},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),r([l({type:cc.Enum(s),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>s.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==s.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([l({tooltip:!1})],e.prototype,"adaptiveSize",void 0),r([c,p(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List Item"),u(-5001)],e)}(cc.Component);o.default=d,cc._RF.pop()},{}],ListView:[function(t,e,o){"use strict";cc._RF.push(e,"7d7c4IQpGtMyJHE13Cp/qSw","ListView");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.ListViewDir=o.ListView=void 0;var n,r=t("./LayoutUtil"),s=function(){function t(t,e){void 0===e&&(e=3),this._selected_index=-1,this.top=0,this.left=0,this.delayTime=0,this.refreshTime=0,this.params=t,this.scrollview=t.scrollview,this.node=this.scrollview.node,this.mask=t.mask,this.content=t.content||this.scrollview.content;var o=this.content.getComponent(cc.Layout);if(o&&(o.enabled=!1),this.item_tpl=cc.instantiate(t.item_tpl),this.item_tpl){t.component&&this.item_tpl.addComponent(t.component),0!=this.top&&this.content.removeAllChildren(),this.item_width=this.item_tpl.width,this.item_height=this.item_tpl.height,this.offset_x=this.item_tpl.anchorX*this.item_width,this.offset_y=(1-this.item_tpl.anchorY)*this.item_height,this.dir=t.direction||(this.scrollview.horizontal?n.Horizontal:n.Vertical),this.reHeightAndWidth(),this.gap_x=t.gap_x||o&&o.spacingX||0,this.gap_y=t.gap_y||o&&o.spacingY||0,this.row=t.row||1,this.col=t.column||1,this.cb_host=t.cb_host,this.item_setter=t.item_setter,this.recycle_cb=t.recycle_cb,this.select_cb=t.select_cb,this.select_setter=t.select_setter,this.scroll_to_end_cb=t.scroll_to_end_cb,this.scroll_to_top_cb=t.scroll_to_top_cb,this.bounce_end_cb=t.bounce_end_cb,this.bounce_top_cb=t.bounce_top_cb,this.scroll_to_ended=t.scroll_to_ended,this.auto_scrolling=t.auto_scrolling||!1,this.node_pool=new cc.NodePool,this._datas=[],this.items=[],this.top=t.top||o&&o.paddingTop||0,this.left=t.left||o&&o.paddingLeft||0,this.lackCenter=!!t.lackCenter,this.autoAnimation=!!t.autoAnimation;var i=this.item_tpl.getComponentInChildren(cc.Animation)&&t.autoAnimation,r=this.item_tpl.getComponentsInChildren("AnimationDelay");this.delayTime=r.length>0?r[0].delay:i?.1:0;for(var s=0;s<e;s++)this.node_pool.put(cc.instantiate(this.item_tpl));if(this.dir==n.Vertical){var a=(this.item_width+this.gap_x)*this.col-this.gap_x+this.left;a>this.width&&(cc.log("real width > width, resize scrollview to realwidth,",this.width,"->",a),this.width=a),this.content.width=this.width,this.contentOffset_x=this.content.anchorX*this.width}else{var c=(this.item_height+this.gap_y)*this.row-this.gap_y+this.top;c>this.height&&(cc.log("real height > height, resize scrollview to realheight,",this.height,"->",c),this.height=c),this.content.height=this.height,this.contentOffset_y=(1-this.content.anchorY)*this.height}this.scrollview.node.setContentSize(this.width,this.height),this.scrollview.vertical=this.dir==n.Vertical,this.scrollview.horizontal=this.dir==n.Horizontal,this.scrollview.inertia=!0,this.scrollview.node.on("scrolling",this.on_scrolling,this),this.scrollview.vertical&&(this.scrollview.node.on("bounce-top",this.on_bounce_top,this),this.scrollview.node.on("bounce-bottom",this.on_bounce_end,this),this.scrollview.node.on("scroll-to-top",this.on_scroll_to_top,this),this.scrollview.node.on("scroll-to-bottom",this.on_scroll_to_end,this)),this.scrollview.horizontal&&(this.scrollview.node.on("bounce-left",this.on_bounce_top,this),this.scrollview.node.on("bounce-right",this.on_bounce_end,this),this.scrollview.node.on("scroll-to-left",this.on_scroll_to_top,this),this.scrollview.node.on("scroll-to-right",this.on_scroll_to_end,this)),this.scrollview.node.on("scroll-ended",this.on_scroll_ended,this),this.mask.on("size-changed",this.on_mask_size_changed,this)}else cc.error("Not init children")}return t.prototype.on_mask_size_changed=function(){this.reHeightAndWidth(),this.resize_content(),this.layout_items(0),this.render_items()},t.prototype.on_scroll_to_top=function(){this.scroll_to_top_cb&&this.scroll_to_top_cb.call(this.cb_host)},t.prototype.on_scroll_to_end=function(){this.scroll_to_end_cb&&this.scroll_to_end_cb.call(this.cb_host)},t.prototype.on_bounce_top=function(){this.bounce_top_cb&&this.bounce_top_cb.call(this.cb_host)},t.prototype.on_bounce_end=function(){this.bounce_end_cb&&this.bounce_end_cb.call(this.cb_host)},t.prototype.on_scroll_ended=function(){this.scroll_to_ended&&this.scroll_to_ended.call(this.cb_host)},t.prototype.on_scrolling=function(){if(this.items&&this.items.length)if(this.dir==n.Vertical){var t=this.content.y;t<-this.contentOffset_y+this.maskOffset_y&&(t=-this.contentOffset_y+this.maskOffset_y),t>-this.contentOffset_y+this.maskOffset_y+this.content.height-this.height&&(t=-this.contentOffset_y+this.maskOffset_y+this.content.height-this.height);for(var e=0,o=this.items.length-1,i=(r=-t+this.maskOffset_y)-this.height;this.items[e].y-(this.item_height-this.offset_y)>r;)e++;for(;this.items[o].y+this.offset_y<i;)o--;e==this._start_index&&o==this._stop_index||(this._start_index=e,this._stop_index=o,this.render_items())}else{var r,s=this.content.x;for(s>this.contentOffset_x-this.maskOffset_x&&(s=this.contentOffset_x-this.maskOffset_x),s<this.contentOffset_x-this.maskOffset_x-this.content.width+this.width&&(s=this.contentOffset_x-this.maskOffset_x-this.content.width+this.width),e=0,o=this.items.length-1,i=(r=-s-this.maskOffset_x)+this.width;this.items[e].x+(this.item_width-this.offset_x)<r;)e++;for(;this.items[o].x-this.offset_x>i;)o--;e==this._start_index&&o==this._stop_index||(this._start_index=e,this._stop_index=o,this.render_items())}},t.prototype.select_item=function(t){t!=this._selected_index&&(-1!=this._selected_index&&this.inner_select_item(this._selected_index,!1),this.inner_select_item(t,!0))},t.prototype.cancel_select_item=function(){-1!=this._selected_index&&(this.inner_select_item(this._selected_index,!1),this._selected_index=-1)},t.prototype.inner_select_item=function(t,e){var o=this.items[t];if(o){o.is_select=e;try{o.node&&this.select_setter&&this.select_setter.call(this.cb_host,o.node,e,t)}catch(i){console.error("err",i)}e&&(this._selected_index=t,this.select_cb&&this.select_cb.call(this.cb_host,o.data,t))}else cc.warn("inner_select_item index is out of range{",0,this.items.length-1,"}",t)},t.prototype.spawn_node=function(){var t=this.node_pool.get();return t||(t=cc.instantiate(this.item_tpl)),t.active=!0,t.parent=this.content,t},t.prototype.recycle_node=function(t){if(t.node){if(cc.isValid(t.node)){this.recycle_cb&&this.recycle_cb.call(this.cb_host,t.node);var e=t.node.getComponentsInChildren(cc.Animation);if(e.length>0&&e[0].getAnimationState(e[0].defaultClip.name).isPlaying)return t.node.destroy(),void this.clear_item(t);this.node_pool.put(t.node),this.clear_item(t)}}else this.clear_item(t)},t.prototype.clear_item=function(t){t.node=null,t.createId&&(clearTimeout(t.createId),t.createId=0)},t.prototype.render_items=function(){for(var t,e=this,o=0;o<this._start_index;o++)(t=this.items[o]).node&&this.recycle_node(t);for(o=this.items.length-1;o>this._stop_index;o--)(t=this.items[o]).node&&this.recycle_node(t);if(-1!=this._start_index||-1!=this._stop_index)for(var i=this._start_index;i<=this._stop_index;i++)if((t=this.items[i]).node)t.node.setPosition(t.x,t.y);else if(!t.createId)if(cc.sys.browserType!=cc.sys.BROWSER_TYPE_WECHAT){var n=this.refreshTime+(t.index+1)*this.delayTime*1e3-Date.now();if(n>0){var r=setTimeout(function(t,o){try{if(o.node=t.spawn_node(o.index),o.node.setPosition(o.x,o.y),!o.node.activeInHierarchy)return;var i=o.node.getComponentsInChildren(cc.Animation);if(i.length>0&&e.autoAnimation){var n=i[0],r=n.node.getComponent(cc.Button);r&&(r.interactable=!1,n.once("finished",function(){r.interactable=!0},e)),n.play()}t.item_setter.call(t.cb_host,o.node,o.data,o.index),t.select_setter&&t.select_setter.call(t.cb_host,o.node,o.is_select,o.index)}catch(s){cc.error("e",s)}o.createId=0},n,this,t);t.createId=Number(r)}else{try{t.node=this.spawn_node(t.index),t.node.setPosition(t.x,t.y),(s=t.node.getComponentsInChildren(cc.Animation)).length>0&&this.autoAnimation&&(-n/1e3<(a=s[0]).defaultClip.duration?(a.play(),a.setCurrentTime(-n/1e3)):(a.play(),a.setCurrentTime(a.defaultClip.duration))),this.item_setter.call(this.cb_host,t.node,t.data,t.index),this.select_setter&&this.select_setter.call(this.cb_host,t.node,t.is_select,t.index)}catch(c){cc.error("e",c)}t.createId=0}}else try{var s,a;(s=t.node.getComponentsInChildren(cc.Animation)).length>0&&this.autoAnimation&&((a=s[0]).play(),a.setCurrentTime(a.defaultClip.duration)),t.node=this.spawn_node(t.index),t.node.setPosition(t.x,t.y),this.item_setter.call(this.cb_host,t.node,t.data,t.index),this.select_setter&&this.select_setter.call(this.cb_host,t.node,t.is_select,t.index)}catch(c){cc.error("e",c)}},t.prototype.pack_item=function(t){return{index:0,x:0,y:0,data:t,node:null,is_select:!1,createId:0}},t.prototype.layout_items=function(t){for(var e,o,i,s,a=this.items.length,c=t,l=a;c<l;c++){var p=this.items[c];p.index=c,this.isDefaultCenter&&this.lackCenter&&(this.dir==n.Vertical&&1==this.col||this.dir==n.Horizontal&&1==this.row)?this.dir==n.Vertical?(e=r.LayoutUtil.vertical_center_layout(c,a,this.content.height,this.item_height+this.gap_y,this.offset_x,this.offset_y,this.contentOffset_x,this.left,this.top),p.x=e[0],p.y=e[1]):(o=r.LayoutUtil.horizontal_center_layout(c,a,this.content.width,this.item_width+this.gap_x,this.offset_x,this.offset_y,this.contentOffset_y,this.left,this.top),p.x=o[0],p.y=o[1]):this.dir==n.Vertical?(i=r.LayoutUtil.vertical_layout(c,this.item_width+this.gap_x,this.item_height+this.gap_y,this.col,this.offset_x,this.offset_y,this.contentOffset_x,this.contentOffset_y,this.left,this.top),p.x=i[0],p.y=i[1]):(s=r.LayoutUtil.horizontal_layout(c,this.item_width+this.gap_x,this.item_height+this.gap_y,this.row,this.offset_x,this.offset_y,this.contentOffset_x,this.contentOffset_y,this.left,this.top),p.x=s[0],p.y=s[1])}},t.prototype.resize_content=function(){var t=this.items.length;if(t<=0)return this.content.width=this.width,this.content.height=this.height,this.contentOffset_x=this.content.anchorX*this.width,void(this.contentOffset_y=(1-this.content.anchorY)*this.height);if(this.dir==n.Vertical){var e=Math.ceil(t/this.col);this.isDefaultCenter=this.height>e*this.item_height+(e-1)*this.gap_y+this.top,this.content.height=Math.max(this.height,e*this.item_height+(e-1)*this.gap_y+this.top),this.contentOffset_y=(1-this.content.anchorY)*this.content.height}else{var o=Math.ceil(t/this.row);this.isDefaultCenter=this.width>o*this.item_width+(o-1)*this.gap_x+this.left,this.content.width=Math.max(this.width,o*this.item_width+(o-1)*this.gap_x+this.left),this.contentOffset_x=this.content.anchorX*this.content.width}},t.prototype.reHeightAndWidth=function(){this.width=this.params.width||this.mask.width,this.height=this.params.height||this.mask.height,this.maskOffset_x=this.mask.anchorX*this.width,this.maskOffset_y=(1-this.mask.anchorY)*this.height},t.prototype.clear_items=function(){var t=this;this.cancel_select_item(),this.items&&this.items.forEach(function(e){t.recycle_node(e)}),this.items=[],this._datas=[]},t.prototype.set_data=function(t,e){var o=this;void 0===e&&(e=!0),this.clear_items(),this._datas=t,t.forEach(function(t){var e=o.pack_item(t);o.items.push(e)}),this.resize_content(),this.layout_items(0),this._start_index=-1,this._stop_index=-1,e&&(this.refreshTime=Date.now(),this.dir==n.Vertical?this.content.y=-this.contentOffset_y+this.maskOffset_y:this.content.x=this.contentOffset_x-this.maskOffset_x),this.items.length>0&&this.on_scrolling()},t.prototype.insert_data=function(t){for(var e,o,n=this,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(0!=r.length)if(this.items||(this.items=[]),this._datas||(this._datas=[]),t<0||t>this.items.length)cc.warn("invalid index",t);else{var a=t==this.items.length,c=[];r.forEach(function(t){var e=n.pack_item(t);c.push(e)}),(e=this._datas).splice.apply(e,i([t,0],r)),(o=this.items).splice.apply(o,i([t,0],c)),this.resize_content(),this.layout_items(0),this._start_index=-1,this._stop_index=-1,this.auto_scrolling&&a&&this.scroll_to_end(),this.on_scrolling()}},t.prototype.remove_data=function(t,e){var o=this;if(void 0===e&&(e=1),this.items)if(t<0||t>=this.items.length)cc.warn("invalid index",t);else if(e<1)cc.log("nothing to remove");else{var i=this.items.splice(t,e);this._datas.splice(t,e),i.forEach(function(t){o.recycle_node(t)}),this.resize_content(),this.layout_items(0),this.items.length>0&&(this._start_index=-1,this._stop_index=-1,this.on_scrolling())}else cc.log("call set_data before call this method")},t.prototype.append_data=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.items||(this.items=[]),this.insert_data.apply(this,i([this.items.length],t))},t.prototype.scroll_to=function(t,e){if(void 0===e&&(e=0),t=cc.misc.clampf(t,0,this.items.length-1),this.dir==cc.Layout.AxisDirection.VERTICAL){if(this.height-this.content.height>=0)return void cc.log("no need to scroll");this.scrollview.stopAutoScroll();var o=this.contentOffset_y-(this.items[t].y+this.offset_y);o=cc.misc.clampf(o,0,this.scrollview.getMaxScrollOffset().y),this.scrollview.scrollToOffset(cc.v2(0,o),e),this.on_scrolling()}else{if(this.content.width-this.width<=0)return void cc.log("no need to scroll");this.scrollview.stopAutoScroll();var i=this.contentOffset_x+(this.items[t].x-this.offset_x);i=cc.misc.clampf(i,0,this.scrollview.getMaxScrollOffset().x),this.scrollview.scrollToOffset(cc.v2(i,0),e),this.on_scrolling()}},t.prototype.checkInContent=function(t){t=Math.min(this.items.length-1,t);var e=this.items[t];return Boolean(e.node)},t.prototype.scroll_to_end=function(t){void 0===t&&(t=0),this.dir==n.Vertical?this.scrollview.scrollToBottom(t):this.scrollview.scrollToRight(t),this.on_scrolling()},t.prototype.scroll_to_top=function(){this.dir==n.Vertical?this.scrollview.scrollToTop():this.scrollview.scrollToLeft(),this.on_scrolling()},t.prototype.stopAutoScroll=function(){this.scrollview.stopAutoScroll()},t.prototype.refresh_items=function(){this.on_scrolling()},t.prototype.refresh_item=function(t,e){if(this.items)if(t<0||t>=this.items.length)cc.warn("invalid index",t);else{var o=this.items[t];if(o.data=e,this._datas[t]=e,o.node)try{this.recycle_cb&&this.recycle_cb.call(this.cb_host,o.node),this.item_setter.call(this.cb_host,o.node,o.data,t)}catch(i){cc.error("e",i)}}else cc.log("call set_data before call this method")},t.prototype.destroy=function(){this.item_setter=null,this.select_setter=null,this.recycle_cb=null,this.select_cb=null,this.clear_items(),this.node_pool&&this.node_pool.clear(),this.node_pool=null,this.items=null,this._datas=null,cc.isValid(this.scrollview.node)&&(this.scrollview.node.off("scrolling",this.on_scrolling,this),this.scrollview.node.off("bounce-top",this.on_bounce_top,this),this.scrollview.node.off("bounce-bottom",this.on_bounce_end,this),this.scrollview.node.off("scroll-to-top",this.on_scroll_to_top,this),this.scrollview.node.off("scroll-to-bottom",this.on_scroll_to_end,this),this.scrollview.node.off("bounce-left",this.on_bounce_top,this),this.scrollview.node.off("bounce-right",this.on_bounce_end,this),this.scrollview.node.off("scroll-to-left",this.on_scroll_to_top,this),this.scrollview.node.off("scroll-to-right",this.on_scroll_to_end,this),this.mask.off("size-changed",this.on_mask_size_changed,this))},Object.defineProperty(t.prototype,"datas",{get:function(){return this._datas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_index",{get:function(){return this._selected_index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected_data",{get:function(){var t=this.items[this._selected_index];return t?t.data:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start_index",{get:function(){return this._start_index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stop_index",{get:function(){return this._stop_index},enumerable:!1,configurable:!0}),t}();o.ListView=s,function(t){t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal"}(n=o.ListViewDir||(o.ListViewDir={})),cc._RF.pop()},{"./LayoutUtil":"LayoutUtil"}],List:[function(t,e,o){"use strict";cc._RF.push(e,"1465aK3BeFERYvLMRafKnXR","List");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a,c,l=cc._decorator,p=l.ccclass,h=l.property,u=l.disallowMultiple,d=l.menu,f=l.executionOrder,m=l.requireComponent,y=t("./ListIndicator"),g=t("./ListItem");(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(s||(s={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(c||(c={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=s.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=a.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e.indicator=null,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=c.NONE,e.repeatEventSingle=!1,e.selectedEvent=new cc.Component.EventHandler,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return n(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,o=this;switch(o.selectedMode){case c.SINGLE:if(!o.repeatEventSingle&&t==o._selectedId)return;e=o.getItemByListId(t);var i=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=t,e&&((i=e.getComponent(g.default)).selected=!0),o._lastSelectedId>=0&&o._lastSelectedId!=o._selectedId){var n=o.getItemByListId(o._lastSelectedId);n&&(n.getComponent(g.default).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems);break;case c.MULT:if(!(e=o.getItemByListId(t)))return;i=e.getComponent(g.default),o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=t;var r=!i.selected;i.selected=r;var s=o.multSelected.indexOf(t);r&&s<0?o.multSelected.push(t):!r&&s>=0&&o.multSelected.splice(s,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems,r)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=a.PAGE||(e.curPageNum=e.nearestListId),e._slideMode==a.PAGE&&e.indicator&&e.indicator._refresh();else{e.cyclic&&(e._resizeContent(),e._numItems=e._cyclicNum*e._numItems);var o=e.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var i=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,n=0;n<i;n++)e._createOrUpdateItem2(n);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(n=0;n<e._numItems;n++)e._createOrUpdateItem2(n);e.displayItemNum=e._numItems}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;cc.isValid(t._itemTmp)&&t._itemTmp.destroy(),cc.isValid(t.tmpNode)&&t.tmpNode.destroy(),t._pool&&t._pool.clear()},e.prototype.onEnable=function(){this._registerEvent(),this._init(),this._aniDelRuning&&(this._aniDelRuning=!1,this._aniDelItem&&(this._aniDelBeforePos&&(this._aniDelItem.position=this._aniDelBeforePos,delete this._aniDelBeforePos),this._aniDelBeforeScale&&(this._aniDelItem.scale=this._aniDelBeforeScale,delete this._aniDelBeforeScale),delete this._aniDelItem),this._aniDelCB&&(this._aniDelCB(),delete this._aniDelCB))},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==s.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=a.ADHERING&&t._slideMode!=a.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){},t._slideMode==a.PAGE&&t.indicator&&t.indicator.setPageView(this)),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var o=e-1;e=o*o*o*o*o+1}var i=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),n=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(e-1)<=n;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var s=i.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(s),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var o=t.getComponent(g.default),i=!1;switch(o||(i=!0),i&&(e.selectedMode=c.NONE),(o=t.getComponent(cc.Widget))&&o.enabled&&(e._needUpdateWidget=!0),e.selectedMode==c.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((n+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((r+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var o=e._getFixedSize(null);t=e._leftGap+o.val+e._itemSize.width*(e._numItems-o.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(o=e._getFixedSize(null),t=e._topGap+o.val+e._itemSize.height*(e._numItems-o.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*i+e._lineGap*(i-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*n+e._columnGap*(n-1)+e._rightGap}}var r=e.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var s=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,s-=e._cyclicPos1,e._cyclicNum=Math.ceil(s/e._allItemSizeNoEdge)+1;var a=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+a,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+a*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=a*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var c=e._lack&&e.lackCenter||!e.lackSlide?.1:0,l=e._lack?(e._sizeType?e.node.height:e.node.width)-c:e.cyclic?e._cyclicAllItemSize:e._allItemSize;l<0&&(l=0),e._sizeType?e.content.height=l:e.content.width=l},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),i=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(i))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(i)))}}var n,r,s,a;if(this._calcViewPos(),this._sizeType?(n=this.viewTop,s=this.viewBottom):(r=this.viewRight,a=this.viewLeft),this._virtual){this.displayData=[];var c=void 0,l=0,p=this._numItems-1;if(this._customSize)for(var h=!1;l<=p&&!h;l++)switch(c=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:c.right>=a&&c.left<=r?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.VERTICAL:c.bottom<=n&&c.top>=s?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:c.bottom<=n&&c.top>=s?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0);break;case cc.Layout.AxisDirection.VERTICAL:c.right>=a&&c.left<=r?this.displayData.push(c):0!=l&&this.displayData.length>0&&(h=!0)}}else{var u=this._itemSize.width+this._columnGap,d=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(a-this._leftGap)/u,p=(r-this._leftGap)/u;break;case 2:l=(-r-this._rightGap)/u,p=(-a-this._rightGap)/u;break;case 3:l=(-n-this._topGap)/d,p=(-s-this._topGap)/d;break;case 4:l=(s-this._bottomGap)/d,p=(n-this._bottomGap)/d}for(l=Math.floor(l)*this._colLineNum,p=Math.ceil(p)*this._colLineNum,l<0&&(l=0),--p>=this._numItems&&(p=this._numItems-1);l<=p;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var f=this._lastDisplayData.length,m=this.displayItemNum!=f;if(m&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),m=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[f-1]),this._forceUpdate||m)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,o,i,n,r,s,a,c;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(p=this._customSize[t])>0?p:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return this.lackCenter&&(r-=this._leftGap,r+=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,left:r,right:s=r+e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(t),s=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(p=this._customSize[t])>0?p:this._itemSize.width):(s=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),this.lackCenter&&(s+=this._rightGap,s-=this.content.width/2-this._allItemSizeNoEdge/2),{id:t,right:s,left:r=s-e,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(t),i=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),o=(p=this._customSize[t])>0?p:this._itemSize.height):(i=-this._topGap-(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height),this.lackCenter&&(i+=this._topGap,i-=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i,bottom:n=i-o,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var p;if(this._customSize)l=this._getFixedSize(t),n=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),o=(p=this._customSize[t])>0?p:this._itemSize.height;else n=this._bottomGap+(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height;return this.lackCenter&&(n-=this._bottomGap,n+=this.content.height/2-this._allItemSizeNoEdge/2),{id:t,top:i=n+o,bottom:n,x:this._itemTmp.x,y:n+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var h=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c=(n=(i=-this._topGap-(this._itemSize.height+this._lineGap)*h)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:i=(n=this._bottomGap+(this._itemSize.height+this._lineGap)*h)+this._itemSize.height,c=n+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:i,bottom:n,x:a,y:c};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:s=(r=this._leftGap+(this._itemSize.width+this._columnGap)*h)+this._itemSize.width,a=r+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(r=(s=-this._rightGap-(this._itemSize.width+this._columnGap)*h)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(c=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:c-=(1-this._itemTmp.anchorY)*this._itemSize.height,c+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:c-=this._itemTmp.anchorY*this._itemSize.height,c+=this.content.anchorY*this.content.height,c*=-1}return{id:t,left:r,right:s,x:a,y:c}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var o={id:t,x:e.x,y:e.y};return this._sizeType?(o.top=e.y+e.height*(1-e.anchorY),o.bottom=e.y-e.height*e.anchorY):(o.left=e.x-e.width*e.anchorX,o.right=e.x+e.width*(1-e.anchorX)),o},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,o=0;for(var i in this._customSize)parseInt(i)<t&&(e+=this._customSize[i],o++);return{val:e,count:o}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(t.curScrollIsTouch=!1,null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&cc.tween(e).to(.1,{scale:1.06}).to(.1,{scale:1}).start()}t._onScrolling(),t._slideMode!=a.ADHERING||t.adhering?t._slideMode==a.PAGE&&(null!=t._beganPos&&t.curScrollIsTouch?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!this._scrollView.hasNestedViewGroup(t,e)&&(this.curScrollIsTouch=!0,t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node)){for(var o=t.target;null==o._listId&&o.parent;)o=o.parent;this._scrollItem=null!=o._listId?o:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==a.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==a.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var o=this;o._scrollView.hasNestedViewGroup(t,e)||t.simulate||(o._scrollPos=null,o._slideMode==a.ADHERING?(o.adhering&&(o._adheringBarrier=!0),o.adhere()):o._slideMode==a.PAGE&&(null!=o._beganPos?o._pageAdhere():o.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,o=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>o)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var o=this.displayData[e];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var o=this._pool.size()>0;if(e=o?this._pool.get():cc.instantiate(this._itemTmp),o&&cc.isValid(e)||(e=cc.instantiate(this._itemTmp),o=!1),e._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),o&&this._needUpdateWidget){var i=e.getComponent(cc.Widget);i&&i.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var n=e.getComponent(g.default);e.listItem=n,n&&(n.listId=t.id,n.list=this,n._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,o=this.content.children[t];o?this._forceUpdate&&this.renderEvent&&(o._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t%this._actualNumItems)):((o=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(o),e=o.getComponent(g.default),o.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t%this._actualNumItems)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>c.NONE){var e=t.node;switch(this.selectedMode){case c.SINGLE:t.selected=this.selectedId==e._listId;break;case c.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),o=this.getItemPos(e._listId);e.setPosition(o.x,o.y)},e.prototype.setMultSelected=function(t,e){var o=this;if(o.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)o.multSelected=t;else{var i=void 0,n=void 0;if(e)for(var r=t.length-1;r>=0;r--)i=t[r],(n=o.multSelected.indexOf(i))<0&&o.multSelected.push(i);else for(r=t.length-1;r>=0;r--)i=t[r],(n=o.multSelected.indexOf(i))>=0&&o.multSelected.splice(n,1)}o._forceUpdate=!0,o._onScrolling()}},e.prototype.getMultSelected=function(){return this.multSelected},e.prototype.hasMultSelected=function(t){return this.multSelected&&this.multSelected.indexOf(t)>=0},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,o=t.length;e<o;e++){var i=t[e],n=this.getItemByListId(i);n&&cc.Component.EventHandler.emitEvents([this.renderEvent],n,i%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){if(this.content)for(var e=this.content.childrenCount-1;e>=0;e--){var o=this.content.children[e];if(o._listId==t)return o}},e.prototype._getOutsideItem=function(){for(var t,e=[],o=this.content.childrenCount-1;o>=0;o--)t=this.content.children[o],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var o=t[e];if(!this._scrollItem||o._listId!=this._scrollItem._listId){o.isCached=!0,this._pool.put(o);for(var i=this._lastDisplayData.length-1;i>=0;i--)if(this._lastDisplayData[i]==o._listId){this._lastDisplayData.splice(i,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,o){var i=this;if(!i.checkInited()||i.cyclic||!i._virtual)return cc.error("This function is not allowed to be called!");if(!e)return cc.error("CallFunc are not allowed to be NULL, You need to delete the corresponding index in the data array in the CallFunc!");if(i._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var n,r=i.getItemByListId(t);if(r){n=r.getComponent(g.default),i._aniDelRuning=!0,i._aniDelCB=e,i._aniDelItem=r,i._aniDelBeforePos=r.position,i._aniDelBeforeScale=r.scale;var s=i.displayData[i.displayData.length-1].id,a=n.selected;n.showAni(o,function(){var o,n,l;if(s<i._numItems-2&&(o=s+1),null!=o){var p=i._calcItemPos(o);i.displayData.push(p),i._virtual?i._createOrUpdateItem(p):i._createOrUpdateItem2(o)}else i._numItems--;if(i.selectedMode==c.SINGLE)a?i._selectedId=-1:i._selectedId-1>=0&&i._selectedId--;else if(i.selectedMode==c.MULT&&i.multSelected.length){var h=i.multSelected.indexOf(t);h>=0&&i.multSelected.splice(h,1);for(var u=i.multSelected.length-1;u>=0;u--)(m=i.multSelected[u])>=t&&i.multSelected[u]--}if(i._customSize){i._customSize[t]&&delete i._customSize[t];var d={},f=void 0;for(var m in i._customSize){f=i._customSize[m];var y=parseInt(m);d[y-(y>=t?1:0)]=f}i._customSize=d}for(u=null!=o?o:s;u>=t+1;u--)if(r=i.getItemByListId(u)){var g=i._calcItemPos(u-1);n=cc.tween(r).to(.2333,{position:cc.v2(g.x,g.y)}),u<=t+1&&(l=!0,n.call(function(){i._aniDelRuning=!1,e(t),delete i._aniDelCB})),n.start()}l||(i._aniDelRuning=!1,e(t),i._aniDelCB=null)},!0)}else e(t)},e.prototype.scrollTo=function(t,e,o,i){void 0===e&&(e=.5),void 0===o&&(o=null),void 0===i&&(i=!1);var n=this;if(n.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=n._numItems&&(t=n._numItems-1),!n._virtual&&n._layout&&n._layout.enabled&&n._layout.updateLayout();var r,s,a=n.getItemPos(t);if(!a)return!1;switch(n._alignCalcType){case 1:r=a.left,r-=null!=o?n.node.width*o:n._leftGap,a=cc.v2(r,0);break;case 2:r=a.right-n.node.width,r+=null!=o?n.node.width*o:n._rightGap,a=cc.v2(r+n.content.width,0);break;case 3:s=a.top,s+=null!=o?n.node.height*o:n._topGap,a=cc.v2(0,-s);break;case 4:s=a.bottom+n.node.height,s-=null!=o?n.node.height*o:n._bottomGap,a=cc.v2(0,-s+n.content.height)}var c=n.content.getPosition();c=Math.abs(n._sizeType?c.y:c.x);var l=n._sizeType?a.y:a.x;Math.abs((null!=n._scrollPos?n._scrollPos:c)-l)>.5&&(n._scrollView.scrollToOffset(a,e),n._scrollToListId=t,n._scrollToEndTime=(new Date).getTime()/1e3+e,n._scrollToSo=n.scheduleOnce(function(){if(n._adheringBarrier||(n.adhering=n._adheringBarrier=!1),n._scrollPos=n._scrollToListId=n._scrollToEndTime=n._scrollToSo=null,i){var e=n.getItemByListId(t);e&&cc.tween(e).to(.1,{scale:1.05}).to(.1,{scale:1}).start()}},e+.1),e<=0&&n._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,o,i,n,r,s=this;s.nearestListId=null,s._virtual&&s._calcViewPos(),o=s.viewTop,i=s.viewRight,n=s.viewBottom,r=s.viewLeft;for(var a=!1,c=0;c<s.content.childrenCount&&!a;c+=s._colLineNum)if(t=s._virtual?s.displayData[c]:s._calcExistItemPos(c))switch(e=s._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,s._alignCalcType){case 1:t.right>=r&&(s.nearestListId=t.id,r>e&&(s.nearestListId+=s._colLineNum),a=!0);break;case 2:t.left<=i&&(s.nearestListId=t.id,i<e&&(s.nearestListId+=s._colLineNum),a=!0);break;case 3:t.bottom<=o&&(s.nearestListId=t.id,o<e&&(s.nearestListId+=s._colLineNum),a=!0);break;case 4:t.top>=n&&(s.nearestListId=t.id,n>e&&(s.nearestListId+=s._colLineNum),a=!0)}if((t=s._virtual?s.displayData[s.displayItemNum-1]:s._calcExistItemPos(s._numItems-1))&&t.id==s._numItems-1)switch(e=s._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,s._alignCalcType){case 1:i>e&&(s.nearestListId=t.id);break;case 2:r<e&&(s.nearestListId=t.id);break;case 3:n<e&&(s.nearestListId=t.id);break;case 4:o>e&&(s.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){void 0===e&&(e=.5);var o=this;if(o.checkInited())return o._slideMode!=a.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=o._numItems||o.curPageNum!=t&&(o.curPageNum=t,o.indicator&&o.indicator._changedState(),o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],t),o.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var o=cc.instantiate(e._itemTmp);e.content.addChild(o);for(var i=0;i<t;i++)cc.Component.EventHandler.emitEvents([e.renderEvent],o,i),o.height==e._itemSize.height&&o.width==e._itemSize.width||(e._customSize[i]=e._sizeType?o.height:o.width);return Object.keys(e._customSize).length||(e._customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),e._customSize}},r([h({type:cc.Enum(s),tooltip:!1})],e.prototype,"templateType",void 0),r([h({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==s.NODE}})],e.prototype,"tmpNode",void 0),r([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==s.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([h()],e.prototype,"_slideMode",void 0),r([h({type:cc.Enum(a),tooltip:!1})],e.prototype,"slideMode",null),r([h({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageDistance",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([h({type:y.default,tooltip:!1,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"indicator",void 0),r([h()],e.prototype,"_virtual",void 0),r([h({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([h({tooltip:!1,visible:function(){var t=this.slideMode==a.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),r([h({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([h({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),r([h({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([h({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([h({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([h({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),r([h({tooltip:!1,visible:function(){return this.selectedMode==c.SINGLE}})],e.prototype,"repeatEventSingle",void 0),r([h({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedEvent",void 0),r([h({serializable:!1})],e.prototype,"_numItems",void 0),r([p,u(),d("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/List"),m(cc.ScrollView),f(-5e3)],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./ListIndicator":"ListIndicator","./ListItem":"ListItem"}],LocalizedImage:[function(t,e,o){"use strict";cc._RF.push(e,"b8ea0N5I7ZAh5X4cgsvhXWZ","LocalizedImage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Common/Define/LanguageDefine"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataID="",e.sprite=null,e}return n(e,t),e.prototype.onEnable=function(){this.sprite&&(this.sprite.spriteFrame=null),this.fetchRender()},e.prototype.fetchRender=function(){var t=this.getComponent(cc.Sprite);t&&(this.sprite=t,this.updateSprite())},e.prototype.loadImage=function(t,e){var o,i,n=this;null===(i=null===(o=app.LanguageManager().GetLangueImage(this.dataID,t))||void 0===o?void 0:o.then(function(t){t&&n.sprite.spriteFrame!=t&&(n.sprite.spriteFrame=t,e&&e())}))||void 0===i||i.catch(function(){t!=s.default.en&&n.loadImage(s.default.en,e)})},e.prototype.updateSprite=function(t){this.sprite?(this.sprite.spriteFrame=null,this.loadImage(app.i18n.getCurLang(),t)):cc.error("Failed to update localized sprite, sprite component is invalid! ==>>")},e.prototype.setDataID=function(t,e){this.dataID=t,this.updateSprite(e)},r([l(cc.String)],e.prototype,"dataID",void 0),r([c,p("i18n/LocalizedImage")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Common/Define/LanguageDefine":"LanguageDefine"}],LocalizedLabel:[function(t,e,o){"use strict";cc._RF.push(e,"168e6fbMrRO7pe6DJTp2WM1","LocalizedLabel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.executeInEditMode,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dataID="",e._debouncedUpdateLabel=null,e.label=null,e.opt=null,e}return n(e,t),Object.defineProperty(e.prototype,"dataID",{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.fetchRender()},e.prototype.onEnable=function(){this.fetchRender()},e.prototype.fetchRender=function(){var t=this.getComponent(cc.Label)||this.getComponent(cc.RichText);if(t)return this.label=t,void this.updateLabel()},e.prototype.updateLabel=function(){if(this.label&&cc.isValid(this.label)){var t=app.i18n.t(this.dataID,this.opt);t&&""!=t&&(this.label.string=t)}else cc.warn("Failed to update localized label, label component is invalid!")},e.prototype.setT=function(t,e){this.opt=e,this.dataID=t,this.updateLabel()},r([c],e.prototype,"_dataID",void 0),r([c],e.prototype,"dataID",null),r([a,p("i18n/LocalizedLabel"),l],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],LocalizedMask:[function(t,e,o){"use strict";cc._RF.push(e,"74e82ATNqtBwZAyzadM8I3Q","LocalizedMask");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataID="",e.mask=null,e}return n(e,t),e.prototype.onEnable=function(){this.mask&&(this.mask.spriteFrame=null),this.fetchRender()},e.prototype.fetchRender=function(){var t=this.getComponent(cc.Mask);t&&(this.mask=t,this.updateSprite())},e.prototype.updateSprite=function(t){var e,o,i=this;this.mask?(this.mask.spriteFrame=null,null===(o=null===(e=app.LanguageManager().GetLangueImage(this.dataID,app.i18n.getCurLang()))||void 0===e?void 0:e.then(function(e){e&&i.mask.spriteFrame!=e&&(i.mask.spriteFrame=e,t&&t())}))||void 0===o||o.catch(function(){})):cc.error("Failed to update localized mask, mask component is invalid! ==>>")},e.prototype.setDataID=function(t,e){this.dataID=t,this.updateSprite(e)},r([c(cc.String)],e.prototype,"dataID",void 0),r([a,l("i18n/LocalizedMask")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],LocalizedSprite:[function(t,e,o){"use strict";cc._RF.push(e,"b811ffwx1tP5LGZ1hZFpJ7O","LocalizedSprite");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./SpriteFrameSet"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.executeInEditMode,h=a.inspector,u=a.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrameSet=[],e.sprite=null,e}return n(e,t),e.prototype.onEnable=function(){this.fetchRender()},e.prototype.fetchRender=function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(app.i18n.getCurLang())},e.prototype.getSpriteFrameByLang=function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame;return null},e.prototype.updateSprite=function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),e&&(this.sprite.spriteFrame=e)}else cc.error("Failed to update localized sprite, sprite component is invalid! ===>>")},r([l([s.SpriteFrameSet])],e.prototype,"spriteFrameSet",void 0),r([c,u("i18n/LocalizedSprite"),h("packages://custom_component/inspector/localized-sprite.js"),p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./SpriteFrameSet":"SpriteFrameSet"}],LoginGameMrg:[function(t,e,o){"use strict";cc._RF.push(e,"3f40dCaxE9NF4Bqccy7+gkA","LoginGameMrg");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.LoginGameMrg=void 0;var n=t("../../../script/framework/log/log"),r=t("../config/GameConst"),s=t("../libs/Language"),a=t("../net/GameNet"),c=t("../net/GameNetEvent"),l=t("../net/Result"),p=t("../net/logger"),h=t("../player/myplayer"),u=t("../tools/GlobalGame"),d=t("./LoginUtil"),f=cc._decorator,m=f.ccclass,y=(f.property,function(){function t(){}var e;return e=t,t.getInstance=function(){return this.instance||(this.instance=new e),this.instance},t.prototype.onLogin=function(){var t=a.default.getInstance().getAllQueryVariables();if(u.GlobalGame.getInstance().gameid=t.gameid||r.Game_Const.Gmee_Type,u.GlobalGame.getInstance().order=t.order,p.default.purple("order:",u.GlobalGame.getInstance().order),s.Language.getInstance(),a.default.getInstance().init(),n.tcLog.log("init gameid",u.GlobalGame.getInstance().gameid),t.test&&(a.default.getInstance().bDebug=!0),t.hall&&(a.default.getInstance().bHall=!0),h.myplayer.getInstance(),u.GlobalGame.getInstance().init(),a.default.getInstance().on_ui("login",c.default.loginOK,this.onLoginOK,this),a.default.getInstance().on_ui("login",c.default.loginFail,this.onLoginFail,this),a.default.getInstance().isDebug()){var e=localStorage.getItem("unionid")||d.default.newUUID(),o=localStorage.getItem("nickname")||"playeruser",i=localStorage.getItem("user_id")||d.default.generateUserID();return e&&o?(localStorage.setItem("unionid",e),localStorage.setItem("nickname",o),localStorage.setItem("user_id",i),void a.default.getInstance().doLoginByUnionid(Number.parseInt(i),e,o)):void a.default.getInstance().gotoBack("Login not unionid or nickname")}var l=t.homeURL;l&&(a.default.getInstance().homeURL=l);var f=t.sessionid,m=t.uid;f&&m?a.default.getInstance().doLoginBySession(f,m):a.default.getInstance().gotoBack("Login not sessionid or uid")},t.prototype.onLoginFail=function(t){a.default.getInstance().gotoBack("Login Fail!! code:"+t.result)},t.prototype.onLoginOK=function(t){a.default.getInstance().log("onLoginOK:",JSON.stringify(t)),cc.systemEvent.emit(e.loginStart),e.getInstance().LoginOKjoinGame()},t.prototype.LoginOKjoinGame=function(){var t=this;if(u.GlobalGame.getInstance().clear(),a.default.getInstance().log("gamecfg:",u.GlobalGame.getInstance().gamecfg),u.GlobalGame.getInstance().gamecfg){var e=r.Game_Const.Gmee_Type;u.GlobalGame.getInstance().gameid=e,this.JoinGameOrNewRoom()}else u.GlobalGame.getInstance().GameCfg(function(){t.JoinGameOrNewRoom()})},t.prototype.JoinGameOrNewRoom=function(){var t=this;a.default.getInstance().log("JoinGameOrNewRoom myplayer tableid:",h.myplayer.getInstance().getInfo().tableid," GlobalGame tableid:",u.GlobalGame.getInstance().tableid),h.myplayer.getInstance().getInfo().tableid&&h.myplayer.getInstance().getInfo().tableid>0&&!u.GlobalGame.getInstance().tableid?u.GlobalGame.getInstance().JoinGame(h.myplayer.getInstance().getInfo().tableid,function(o){if(o.result==l.Result.Success){if(a.default.getInstance().log(" order:",u.GlobalGame.getInstance().order,"   rtn order:",o.tableData.tData.order),u.GlobalGame.getInstance().order&&o.tableData&&o.tableData.tData&&o.tableData.tData.order&&u.GlobalGame.getInstance().order!=o.tableData.tData.order)return void u.GlobalGame.getInstance().EndRoom(function(){t.tryNewRoom()});u.GlobalGame.getInstance().GameResult?cc.systemEvent.emit(e.loginOver,o.tableData):u.GlobalGame.getInstance().EndRoom(function(){t.tryNewRoom()})}else a.default.getInstance().sendEvent(c.default.GetGatewayConfirm)}):this.tryNewRoom()},t.prototype.tryNewRoom=function(){var t=this;n.tcLog.log(" tryNeRoo...  ");var e=u.GlobalGame.getInstance().playerlist[0].roomid,o=u.GlobalGame.getInstance(),i={betIndex:0,mode:o.mode};o.NewRoom(o.gameid,e,i,function(e){e.result==l.Result.Success?t.NewRoomtryJoinGame():(o.clear(),console.warn("NewRoom error"))})},t.prototype.NewRoomtryJoinGame=function(){n.tcLog.log("JoinGam... tableid",u.GlobalGame.getInstance().tableid,u.GlobalGame.getInstance().tableData,u.GlobalGame.getInstance()),u.GlobalGame.getInstance().tableid>0&&!u.GlobalGame.getInstance().tableData?this.tryJoiGame(u.GlobalGame.getInstance().tableid):this.tryNewRoom()},t.prototype.tryJoiGame=function(t){var o=this;p.default.log("tryJoinGame :",t),u.GlobalGame.getInstance().JoinGame(t,function(t){if(t.result==l.Result.Success){if(a.default.getInstance().log(" order:",u.GlobalGame.getInstance().order,"   rtn order:",t.tableData.tData.order),u.GlobalGame.getInstance().order&&t.tableData&&t.tableData.tData&&t.tableData.tData.order&&u.GlobalGame.getInstance().order!=t.tableData.tData.order)return void u.GlobalGame.getInstance().EndRoom(function(){o.tryNewRoom()});p.default.log("emit: LoginGameMrg.loginOver"),t.tableData?cc.systemEvent.emit(e.loginOver,t.tableData):a.default.getInstance().sendEvent(c.default.GetGatewayConfirm)}else p.default.log("GetGatewayConfirm"),a.default.getInstance().sendEvent(c.default.GetGatewayConfirm)})},t.loginStart="loginStart",t.loginOver="loginOver",e=i([m],t)}());o.LoginGameMrg=y,cc._RF.pop()},{"../../../script/framework/log/log":"log","../config/GameConst":"GameConst","../libs/Language":"Language","../net/GameNet":"GameNet","../net/GameNetEvent":"GameNetEvent","../net/Result":"Result","../net/logger":"logger","../player/myplayer":"myplayer","../tools/GlobalGame":"GlobalGame","./LoginUtil":"LoginUtil"}],LoginUtil:[function(t,e,o){"use strict";cc._RF.push(e,"3430aBUxjNHao/KHMEU1nch","LoginUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.generateUserID=function(){for(var t="",e=0;e<6;e++)t+="0123456789".charAt(Math.floor(Math.random()*"0123456789".length));return t},t}();o.default=i,cc._RF.pop()},{}],MathUtil:[function(t,e,o){"use strict";cc._RF.push(e,"cfc12KcMY9P4ZhrP4J1DDLl","MathUtil");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MathUtil=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="MathUtil",this.Log("Init")},e.prototype.multiply=function(t,e){var o=(t*e).toFixed(2);return app.ScoreUtil().coinFixed2(parseFloat(o))},e.prototype.rand=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.prototype.angle=function(t,e){var o=e.sub(t);return 0==o.x?0:180*Math.atan(o.y/o.x)/Math.PI},e}(t("../Base/Singleton").Singleton);o.MathUtil=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],MsgIDDefine:[function(t,e,o){"use strict";cc._RF.push(e,"451c1doCYJICqhBcYawW5Jq","MsgIDDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.MsgIDDefine=void 0;var i=function(){function t(){}return t.Code_500="Code_500",t.System_44="UI.System_44",t.System_42="UI.System_42",t}();o.MsgIDDefine=i,cc._RF.pop()},{}],NodeEx:[function(t,e,o){"use strict";cc._RF.push(e,"4ab36Jsa/1J8ZB761S/+MCk","NodeEx");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.NodeEx=void 0;var n=cc._decorator,r=n.ccclass,s=(n.property,function(){function t(){}return t.addClick=function(t,e){t.on(cc.Node.EventType.TOUCH_START,function(){t._pressed=!0},t),t.on(cc.Node.EventType.TOUCH_END,function(o){var i=t._pressed;if(t._pressed=!1,i){var n=o.touch.getStartLocation(),r=o.touch.getLocation();Math.abs(r.x-n.x)+Math.abs(r.y-n.y)<10&&e&&e(o)}},t),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){t._pressed=!1},t)},t.getWorldPosition=function(t,e){var o=t;return e?o.convertToWorldSpaceAR(e):o.convertToWorldSpaceAR(cc.Vec3.ZERO)},t.getLocalPosition=function(t,e){return t.convertToNodeSpaceAR(e)},t.getSize=function(t){return t.getContentSize().clone()},t.setSize=function(t,e,o){var i=t;null!=e?null!=o?i.setContentSize(e,o):i.width=e:i.height=o},t.getAnchorPoint=function(t){return t.getContentSize().clone()},t.setPosition=function(t,e,o){var i=t.position;t.position=null!=e?null!=o?new cc.Vec3(e,o,i.z):new cc.Vec3(e,i.y,i.z):new cc.Vec3(i.x,o,i.z)},t.setOpacity=function(t,e){var o=t,i=o.color;o.color=new cc.Color(i.r,i.g,i.b,e)},t.recursionColor=function(t,e){var o=this;if(0!=t.children.length){var i=null;t.children.forEach(function(t){if(null!=(i=t)){if(i.__default_color)return i.color=e,void o.recursionColor(t,e);if(!i.__first_change){var n=i.color.equals(cc.Color.WHITE);if(i.__default_color=n,n||(i.__original_color=i.color.clone()),i.__first_change=!0,i.__default_color)return i.color=e,void o.recursionColor(t,e)}var r=i.__original_color,s=e.r/255*r.r,a=e.g/255*r.g,c=e.b/255*r.b,l=e.a/255*r.a;i.color=new cc.Color(s,a,c,l)}o.recursionColor(t,e)})}},t.setColor=function(t,e){t&&(t.color=e)},i([r],t)}());o.NodeEx=s,cc._RF.pop()},{}],OxBigWinView:[function(t,e,o){"use strict";cc._RF.push(e,"bb178aGFltN0ZoKcWeC4lwU","OxBigWinView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../audio/WebAudioEngine"),a=t("../../common_game/SlotGame/SlotLangSprite"),c=t("../../common_game/SlotGame/SlotNumberChangeDisplay"),l=t("./BigWinEmitter"),p=t("./Game1810Define"),h=cc._decorator,u=h.ccclass,d=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graybg=null,e.centerBgSpr=null,e.centerBgSFList=[],e.titleLangSpr=null,e.numberDisplay=null,e.numberLight1=null,e.numberLight2=null,e.bgLightAnim=null,e.starParticle=null,e.roleSkeleton=null,e.yanHuaAnimList=[],e.bgm=null,e.finishAudio=null,e.coinEmitter=null,e.suiZhiAnimList=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.roleSkeleton.setCompleteListener(function(e){"rsg_spawn"!=e.animation.name||"rsg_spawn"!=t.roleSkeleton.animation?"rsg_win_exit2"!=e.animation.name||"rsg_win_exit2"!=t.roleSkeleton.animation||t.roleSkeleton.setAnimation(0,"rs_idle2",!0):t.roleSkeleton.setAnimation(0,"rsg_win_idle2",!0)}),this.yanHuaAnimList.forEach(function(e){e.on(cc.Animation.EventType.FINISHED,function(){e.node.active=!1,0!=--t.yanHuaCount||t.schdeulePlayYanHuaAnim()})}),this.suiZhiAnimList.forEach(function(e){e.on(cc.Animation.EventType.FINISHED,function(){e.node.active=!1,0!=--t.suiZhiCount||t.schdeulePlaySuiZhiAnim()})})},e.prototype.show=function(t,e,o,i){this.node.active=!0,this.amount=t,this.betAmount=e,this.onShowFinalAmount=o,this.onCloseView=i,this.isPlayPopupAnim=!1,this.isPlayNumberChange=!1,this.isShowingFinalAmount=!1,this.isPlayCloseAnim=!1,this.yanHuaCount=0,this.yanHuaAnimList.forEach(function(t){return t.node.active=!1}),this.suiZhiCount=0,this.suiZhiAnimList.forEach(function(t){return t.node.active=!1});var n=this.amount.div(this.betAmount);n.gte(p.Game1810Constant.SUPER_WIN_RATIO)?this.targetPhase=2:n.gte(p.Game1810Constant.MEGA_WIN_RATIO)?this.targetPhase=1:this.targetPhase=0,this.bgmId=s.default.play(this.bgm),this.showBigWin(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onClickView,this)},e.prototype.showBigWin=function(){var t=this;this.curPhase=0;var e,o=Big(0);e=this.amount.div(this.betAmount).gte(p.Game1810Constant.MEGA_WIN_RATIO)?this.betAmount.times(p.Game1810Constant.MEGA_WIN_RATIO):this.amount,this.isPlayPopupAnim=!0,this.isPlayNumberChange=!0;var i=0;this.centerBgSpr.spriteFrame=this.centerBgSFList[0],this.centerBgSpr.node.scale=.2,i++,cc.tween(this.centerBgSpr.node).to(.3,{scale:1.6}).call(function(){t.schdeulePlaySuiZhiAnim()}).to(.3,{scale:1.43}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.graybg.opacity=0,i++,cc.tween(this.graybg).delay(.2).to(.6,{opacity:160}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start();var n=this.numberDisplay.node;n.opacity=0,i++,cc.tween(n).delay(.2).parallel(cc.tween(n).set({opacity:100}).to(.4,{opacity:255}),cc.tween(n).set({scale:.9}).to(.1,{scale:1.4}).to(.3,{scale:1.2})).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.titleLangSpr.updateSFName("GRANDE");var r=this.titleLangSpr.node;r.opacity=0,i++,cc.tween(r).delay(.2).parallel(cc.tween(r).set({opacity:100}).to(.4,{opacity:255}),cc.tween(r).set({scale:.9}).to(.1,{scale:1.5}).to(.3,{scale:1.43})).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.numberLight1.opacity=0,i++,cc.tween(this.numberLight1).delay(.2).set({opacity:30,scale:.5}).to(.4,{opacity:255,scale:1}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.numberLight2.opacity=0,i++,cc.tween(this.numberLight2).delay(.2+.1).set({opacity:30,scale:.8}).to(.3,{opacity:255,scale:1.45}).call(function(){0==--i&&(t.isPlayPopupAnim=!1),t.rotateNumberLight()}).start(),this.bgLightAnim.node.active=!1,this.starParticle.emissionRate=0,i++,cc.tween(this.bgLightAnim.node).delay(.2+.1).call(function(){t.bgLightAnim.node.active=!0,t.bgLightAnim.node.opacity=0,t.bgLightAnim.sample("bw_bg_spark"),t.bgLightAnim.play("bw_bg_spark"),t.starParticle.emissionRate=1e3}).to(.5,{opacity:255}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.roleSkeleton.setAnimation(0,"rsg_spawn",!1),this.numberDisplay.changeNumberFromOriginalToTargetOfTypeBig(o,e,7,"",this.onAmountChangeFinish.bind(this))},e.prototype.onAmountChangeFinish=function(){if(this.isPlayNumberChange=!1,this.curPhase==this.targetPhase)return this.showFinalAmount(),void this.roleSkeleton.setAnimation(0,"rsg_win_exit2",!1);0==this.curPhase?this.showMegaWin():this.showSuperMegaWin()},e.prototype.rotateNumberLight=function(){cc.tween(this.numberLight2).by(30,{angle:-360}).repeatForever().start()},e.prototype.showMegaWin=function(){var t=this;this.curPhase=1;var e,o=this.betAmount.times(p.Game1810Constant.MEGA_WIN_RATIO);if((e=this.amount.div(this.betAmount).gte(p.Game1810Constant.SUPER_WIN_RATIO)?this.betAmount.times(p.Game1810Constant.SUPER_WIN_RATIO):this.amount).minus(o).lte(1.5))this.skipAnim();else{this.isPlayPopupAnim=!0,this.isPlayNumberChange=!0;var i=0,n=this.centerBgSpr.node;i++,cc.tween(n).to(.15,{scale:.6}).call(function(){t.centerBgSpr.spriteFrame=t.centerBgSFList[1]}).to(.15,{scale:1.6}).to(.3,{scale:1.43}).call(function(){t.schdeulePlayYanHuaAnim(),0==--i&&(t.isPlayPopupAnim=!1)}).start(),i++,cc.tween(this.numberLight1).to(.15,{opacity:150}).to(.15,{scale:.5,opacity:30}).to(.3,{scale:1,opacity:255}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),i++,cc.tween(this.numberLight2).to(.15,{opacity:150}).to(.15,{scale:.8,opacity:30}).to(.3,{scale:1.45,opacity:255}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.titleLangSpr.updateSFName("MEGA");var r=this.titleLangSpr.node;r.opacity=0,i++,cc.tween(r).delay(.2).parallel(cc.tween(r).to(.4,{opacity:255}),cc.tween(r).set({scale:.9}).to(.1,{scale:1.5}).to(.3,{scale:1.43})).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start();var s=this.numberDisplay.node.position,a=s.add(cc.v3(0,50,0));this.numberDisplay.node.position=a;var c=s.sub(cc.v3(0,10,0));i++,cc.tween(this.numberDisplay.node).to(.3,{position:c}).to(.3,{position:s}).call(function(){0==--i&&(t.isPlayPopupAnim=!1)}).start(),this.numberDisplay.changeNumberFromCurNumToTargetOfTypeBig(e,7,"",this.onAmountChangeFinish.bind(this))}},e.prototype.schdeulePlayYanHuaAnim=function(){var t=.5*Math.random()+.2;this.scheduleOnce(this.playYanHuaAnim,t)},e.prototype.playYanHuaAnim=function(){var t=Math.random()<.5?1:2;this.yanHuaCount+=t;for(var e=this.yanHuaAnimList.map(function(t){return t}),o=0;o<t;o++){var i=Math.floor(Math.random()*e.length);e[i].node.active=!0,e[i].play("big_win_yanhua"),e.splice(i,1)}},e.prototype.schdeulePlaySuiZhiAnim=function(){var t=.5*Math.random()+.2;this.scheduleOnce(this.playSuiZhiAnim,t)},e.prototype.playSuiZhiAnim=function(){var t=Math.random()<.5?1:2;this.suiZhiCount+=t;for(var e=this.suiZhiAnimList.map(function(t){return t}),o=0;o<t;o++){var i=Math.floor(Math.random()*e.length);e[i].node.active=!0,e[i].play("bigwin_suizhi"),e.splice(i,1)}},e.prototype.showSuperMegaWin=function(){var t=this;this.curPhase=2;var e=this.betAmount.times(p.Game1810Constant.SUPER_WIN_RATIO);if(this.amount.minus(e).lte(1.5))this.skipAnim();else{this.isPlayPopupAnim=!0,this.isPlayNumberChange=!0;var o=0,i=this.centerBgSpr.node;o++,cc.tween(i).to(.15,{scale:.6}).call(function(){t.centerBgSpr.spriteFrame=t.centerBgSFList[2],t.coinEmitter.play()}).to(.15,{scale:1.6}).to(.3,{scale:1.43}).call(function(){0==--o&&(t.isPlayPopupAnim=!1)}).start(),o++,cc.tween(this.numberLight1).to(.15,{opacity:150}).to(.15,{scale:.5,opacity:30}).to(.3,{scale:1,opacity:255}).call(function(){0==--o&&(t.isPlayPopupAnim=!1)}).start(),o++,cc.tween(this.numberLight2).to(.15,{opacity:150}).to(.15,{scale:.8,opacity:30}).to(.3,{scale:1.45,opacity:255}).call(function(){0==--o&&(t.isPlayPopupAnim=!1)}).start(),this.titleLangSpr.updateSFName("SUPERMEGA");var n=this.titleLangSpr.node;n.opacity=0,o++,cc.tween(n).delay(.2).parallel(cc.tween(n).to(.4,{opacity:255}),cc.tween(n).set({scale:.9}).to(.1,{scale:1.5}).to(.3,{scale:1.43})).call(function(){0==--o&&(t.isPlayPopupAnim=!1)}).start();var r=this.numberDisplay.node.position,s=r.add(cc.v3(0,50,0));this.numberDisplay.node.position=s;var a=r.sub(cc.v3(0,10,0));o++,cc.tween(this.numberDisplay.node).to(.3,{position:a}).to(.3,{position:r}).call(function(){0==--o&&(t.isPlayPopupAnim=!1)}).start(),this.numberDisplay.changeNumberFromCurNumToTargetOfTypeBig(this.amount,7,"",this.onAmountChangeFinish.bind(this))}},e.prototype.skipAnim=function(){this.centerBgSpr.spriteFrame=this.centerBgSFList[this.targetPhase],0==this.targetPhase?(this.titleLangSpr.updateSFName("GRANDE"),this.roleSkeleton.setAnimation(0,"rs_idle2",!0)):(1==this.targetPhase?this.titleLangSpr.updateSFName("MEGA"):(this.titleLangSpr.updateSFName("SUPERMEGA"),this.coinEmitter.play()),this.roleSkeleton.setAnimation(0,"rsg_win_exit2",!1),this.curPhase<2&&this.schdeulePlayYanHuaAnim()),this.showFinalAmount()},e.prototype.invokeOnShowFinalAmount=function(){this.onShowFinalAmount&&(this.onShowFinalAmount(),this.onShowFinalAmount=null)},e.prototype.showFinalAmount=function(){var t=this;this.isPlayNumberChange=!1,this.isShowingFinalAmount=!0,this.numberDisplay.setNumberOfTypeBig(this.amount),this.playFinishAudio(),this.invokeOnShowFinalAmount(),cc.tween(this.numberDisplay.node).to(.2,{scale:1.5}).to(.2,{scale:1.2}).delay(2).call(function(){t.isShowingFinalAmount=!1,t.scheduleOnce(t.closeView,3)}).start()},e.prototype.playFinishAudio=function(){s.default.stop(this.bgmId),s.default.play(this.finishAudio)},e.prototype.onClickView=function(){this.isPlayPopupAnim||this.isPlayCloseAnim||this.isShowingFinalAmount||(this.isPlayNumberChange?this.skipAnim():this.closeView())},e.prototype.invokeOnCloseView=function(){this.onCloseView&&(this.onCloseView(),this.onCloseView=null)},e.prototype.closeView=function(){var t=this;this.unschedule(this.closeView),this.isPlayCloseAnim=!0,cc.tween(this.node).to(.5,{opacity:0}).call(function(){t.isPlayCloseAnim=!1,t.node.opacity=255,t.unschedule(t.playYanHuaAnim),t.unschedule(t.playSuiZhiAnim),t.coinEmitter.stop(!0),cc.Tween.stopAllByTarget(t.numberLight2),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,t.onClickView,t),t.invokeOnCloseView(),t.hide()}).start()},e.prototype.hide=function(){this.node.active=!1},r([d(cc.Node)],e.prototype,"graybg",void 0),r([d(cc.Sprite)],e.prototype,"centerBgSpr",void 0),r([d([cc.SpriteFrame])],e.prototype,"centerBgSFList",void 0),r([d(a.default)],e.prototype,"titleLangSpr",void 0),r([d(c.default)],e.prototype,"numberDisplay",void 0),r([d(cc.Node)],e.prototype,"numberLight1",void 0),r([d(cc.Node)],e.prototype,"numberLight2",void 0),r([d(cc.Animation)],e.prototype,"bgLightAnim",void 0),r([d(cc.ParticleSystem)],e.prototype,"starParticle",void 0),r([d(sp.Skeleton)],e.prototype,"roleSkeleton",void 0),r([d([cc.Animation])],e.prototype,"yanHuaAnimList",void 0),r([d(cc.AudioClip)],e.prototype,"bgm",void 0),r([d(cc.AudioClip)],e.prototype,"finishAudio",void 0),r([d(l.default)],e.prototype,"coinEmitter",void 0),r([d([cc.Animation])],e.prototype,"suiZhiAnimList",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../audio/WebAudioEngine":"WebAudioEngine","../../common_game/SlotGame/SlotLangSprite":"SlotLangSprite","../../common_game/SlotGame/SlotNumberChangeDisplay":"SlotNumberChangeDisplay","./BigWinEmitter":"BigWinEmitter","./Game1810Define":"Game1810Define"}],OxLoadingView:[function(t,e,o){"use strict";cc._RF.push(e,"1ef84pLS4JO6ZB+DbsTmbCh","OxLoadingView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Define/LanguageDefine"),a=t("./Game1810Define"),c=t("./Game1810Mgr"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){cc.game.setFrameRate(60),cc.assetManager.downloader.maxConcurrency=15,cc.assetManager.downloader.maxRequestsPerFrame=15,this.updateProgress(0),window.fadeInOut&&window.fadeInOut(),this.reqInitData()},e.prototype.onEnable=function(){cc.systemEvent.on(a.Game1810HttpAPI.InitData,this.onInitData,this),cc.systemEvent.on(a.Game1810Event.game1810ReqInitRoomFail,this.onInitDataFail,this),cc.systemEvent.on(a.Game1810Event.game1810ServerError,this.onServerError,this)},e.prototype.onDisable=function(){cc.systemEvent.off(a.Game1810HttpAPI.InitData,this.onInitData,this),cc.systemEvent.off(a.Game1810Event.game1810ReqInitRoomFail,this.onInitDataFail,this),cc.systemEvent.off(a.Game1810Event.game1810ServerError,this.onServerError,this)},e.prototype.onServerError=function(){},e.prototype.onInitDataFail=function(){this.scheduleOnce(this.reqInitData,.5)},e.prototype.onInitData=function(){this.updateProgress(.1),this.loadI18nText()},e.prototype.reqInitData=function(){c.Game1810Mgr.instance.reqInitData()},e.prototype.loadAssets=function(){var t=this,e=[];cc.resources.getDirWithPath("Game1810/9Grid").map(function(t){return e.push(t.path)}),cc.resources.getDirWithPath("Game1810/atlas").map(function(t){return e.push(t.path)}),cc.resources.getDirWithPath("Game1810/atlasbig").map(function(t){return e.push(t.path)}),cc.resources.getDirWithPath("Game1810/effect").map(function(t){return e.push(t.path)}),cc.resources.getDirWithPath("Game1810/font").map(function(t){return e.push(t.path)}),cc.resources.getDirWithPath("Game1810/sounds").map(function(t){return e.push(t.path)});for(var o=0,i=0;i<e.length;i++)this.loadAsset(e[i],cc.Asset,function(){var i;i=.2+.4*(i=++o>=e.length?1:o/e.length),t.updateProgress(i),o>=e.length&&t.loadAnimation()})},e.prototype.loadAnimation=function(){var t=this,e=[];cc.resources.getDirWithPath("Game1810/animation").map(function(t){return e.push(t.path)});for(var o=0,i=0;i<e.length;i++)this.loadAsset(e[i],cc.Asset,function(){var i;i=.6+.1*(i=++o>=e.length?1:o/e.length),t.updateProgress(i),o>=e.length&&t.loadPrefab()})},e.prototype.loadPrefab=function(){var t=this,e=[];cc.resources.getDirWithPath("Game1810/prefab").map(function(t){return e.push(t.path)});for(var o=0,i=0;i<e.length;i++)this.loadAsset(e[i],cc.Asset,function(){var i;i=.7+.1*(i=++o>=e.length?1:o/e.length),t.updateProgress(i),o>=e.length&&t.loadI18nImage()})},e.prototype.loadAsset=function(t,e,o){var i=this;cc.resources.load(t,e,function(n,r){n?i.scheduleOnce(function(){i.loadAsset(t,e,o)},.5):o(r)})},e.prototype.loadI18nText=function(){var t=this;app.i18n.loadConfig(function(e,o){var i=0==o?1:e/o;i=.1+.1*i,t.updateProgress(i)},function(){var e=new URL(window.location.href),o=new URLSearchParams(e.search).get("language");s.default.hasValue(o)?app.i18n.selectLang(s.default[o]):app.i18n.selectLang(s.default.pt),t.loadAssets()})},e.prototype.updateProgress=function(t){window.updateProgress&&window.updateProgress(t)},e.prototype.loadI18nImage=function(){var t=this,e=[];cc.resources.getDirWithPath("Game1810/language/"+app.i18n.getCurLang(),cc.SpriteFrame).map(function(t){return e.push(t.path)}),c.Game1810Mgr.instance.langSFMap=new Map;for(var o=0,i=0;i<e.length;i++)this.loadAsset(e[i],cc.SpriteFrame,function(i){var n;c.Game1810Mgr.instance.langSFMap.set(i.name,i),n=.8+.1*(n=++o>=e.length?1:o/e.length),t.updateProgress(n),o>=e.length&&t.runGameScene()})},e.prototype.runGameScene=function(){var t=this;cc.director.loadScene("OxGame",function(){t.updateProgress(1)})},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../../Common/Define/LanguageDefine":"LanguageDefine","./Game1810Define":"Game1810Define","./Game1810Mgr":"Game1810Mgr"}],PayView:[function(t,e,o){"use strict";cc._RF.push(e,"48c0cJqjyBAhqsj8qUxDgq5","PayView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollViewNode=null,e.closeBtnNode=null,e.loadNode=null,e.contentNode=null,e}return n(e,t),e.prototype.onLoad=function(){this.playShowAnim()},e.prototype.playShowAnim=function(){var t=this;this.scrollViewNode.active=!1,this.closeBtnNode.active=!1,this.loadNode.active=!0;var e=this.contentNode.getComponent(cc.Widget);e.updateAlignment(),e.enabled=!1,this.contentNode.position=cc.v3(0,-this.contentNode.parent.height/2-this.contentNode.height/2),cc.tween(this.contentNode).to(.3,{position:cc.Vec3.ZERO}).call(function(){cc.tween(t.loadNode).to(.2,{opacity:0}).call(function(){e.enabled=!0,t.scrollViewNode.active=!0,t.closeBtnNode.active=!0,t.loadNode.active=!1}).start()}).start()},e.prototype.onClickCloseBtn=function(){this.isPlayHideAnim||this.playHideAnim()},e.prototype.playHideAnim=function(){var t=this;this.isPlayHideAnim=!0,this.contentNode.getComponent(cc.Widget).enabled=!1;var e=cc.v3(0,-this.contentNode.parent.height/2-this.contentNode.height/2);cc.tween(this.contentNode).to(.3,{position:e}).call(function(){t.onCloseView&&t.onCloseView(),t.node.destroy()}).start()},r([c(cc.Node)],e.prototype,"scrollViewNode",void 0),r([c(cc.Node)],e.prototype,"closeBtnNode",void 0),r([c(cc.Node)],e.prototype,"loadNode",void 0),r([c(cc.Node)],e.prototype,"contentNode",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PgEvent:[function(t,e,o){"use strict";cc._RF.push(e,"a8d76c+/odOSIi22ueqvyjf","PgEvent"),Object.defineProperty(o,"__esModule",{value:!0}),o.pgGameEvent=void 0,function(t){t.updateBonus="pgGameEvent_updateBonus",t.updateCurBet="pgGameEvent_updateCurBet",t.updateCurWinCount="pgGameEvent_updateCurWinCount",t.goback="pgGameEvent_goback",t.clickSpin="pgGameEvent_clickSpin",t.subBet="pgGameEvent_subBet",t.addBet="pgGameEvent_addBet",t.quikStopAutoSpin="pgGameEvent_quikStopAutoSpin",t.betPanel="pgGameEvent_betPanel",t.startAutoSpin="pgGameEvent_startAutoSpin",t.openBetPanel="pgGameEvent_openBetPanel",t.ref_record_filter="ref_record_filter",t.ui_req_loading_complete="ui_req_loading_complete",t.open_history_view="open_history_view",t.close_history_view="close_history_view",t.ui_show_hisdetail_tip="ui_show_hisdetail_tip",t.ui_close_hisdetail_tip="ui_close_hisdetail_tip",t.open_history_detail="open_history_detail",t.close_history_detail="close_history_detail",t.open_his_selectdate_view="open_his_selectdate_view",t.close_his_selectdate_view="close_his_selectdate_view",t.open_his_dateSelect_view="open_his_dateSelect_view",t.close_his_dateSelect_view="close_his_dateSelect_view"}(o.pgGameEvent||(o.pgGameEvent={})),cc._RF.pop()},{}],ResultText:[function(t,e,o){"use strict";cc._RF.push(e,"ee842yWXAhOxoLH4/Ren4Pz","ResultText"),Object.defineProperty(o,"__esModule",{value:!0}),o.ResultText=void 0,o.ResultText={notMoney:"Insufficient cash, please recharge"},cc._RF.pop()},{}],Result:[function(t,e,o){"use strict";cc._RF.push(e,"1037f0XyWlMGLwSeWyKReiA","Result"),Object.defineProperty(o,"__esModule",{value:!0}),o.Result=void 0,o.Result={Success:0,Fail:1,verifyPlayerFail:2,emailUsed:3,emailValid:4,invalidMail:5,playerNotFound:6,guestCanNotRecommend:7,canNotLogin:8,alreadyInGame:9,keepInGame:10,ban:11,hadGetReward:12,UnknownGame:13,canNotCreateGame:14,sqlError:30,lessMoney:31,lessCoin:32,clientRestart:33,clientUpdate:34,bindError:35,joinRoomOK:36,cfgVersionChange:37,alreadyInRoom:38,roomFull:39,slotNotFound:40,roomNotFound:41,minVersion:42,daikaiRoomFull:43,fzbTooClose:44,zjhCfgChange:50,zjhDateEnd:51,zjhCfgStop:52,roomInPlay:53,playerNotWaitStart:54,cd:55,joinActOK:60,canNotJoinActInPlay:61,joinWrongAct:62,alreadyInAct:63,actClosed:64,invalidActPos:65,invalidActRoom:66,actEnd:67,invalidReward:68,lessCount:69,notEnoughCondition:70,actNotStart:71,canNotAddSelf:80,isMemberAlready:81,memberNotFound:82,addMemberOK:83,removeMemberOK:84,membersNumLimit:85,memberofNumLimit:86,authAddPlayerExist:87,rpcErr:100,loginToMuch:101,errorState:102,serverFull:103,noRedis:120,redisError:121,noClub:122,clubsLimit:123,clubIn:124,applyLimit:125,notInClub:126,ownerCanntExitClub:127,noCreatePara:128,clubMemberLimit:129,SetFrequently:130,limitMemberInClub:131,RoomServerIsLevelUp:150,noRound:151,PhoneError:170,PhoneVerCd:171,PhoneVerError:172,VerCodeError:173,verCodeLimit:174,PhoneBeBinded:175,OldPasswdWrong:176,passError:178,needChangePwd:179,matchNotExist:200,matchStopped:201,inMatch:202,notInMatch:203,Exchanging:204,UnkownCmd:250,invalidParam:251,Frequent:252,Chwxing:261,ChwxLimit:262,ChwxOtherNotFound:263,ChwxCheckError:264,ChwxIdRandError:265,WxNotBound:266,NoIcOrIi:267,ChwxNotToSelf:268,hallClosed:400,hallNoServer:401,hallSignError:402,hallTimeOut:403,hallLoginError:404,hallCfgErr:405,hallNoGame:406,hallCoinLimit:407,hallMatching:408,hallInGame:409,hallRelieved:410,hallOverRelieve:411,hallLessMoney:412,hallSessionKeyInvalid:413,hallNotInvite:414,idLoginError:414,OSFail:420,OSDBFail:421,DBFail:999,AccountIsNull:1001,PasswdIsNull:1002,AccountNotExists:1003,PasswdFail:1004,AccountAlreadyExists:1005,gameNotStart:2e3,notMoney:2001},cc._RF.pop()},{}],RuleView:[function(t,e,o){"use strict";cc._RF.push(e,"9b78ffGLs1DIZ636oKCKTk4","RuleView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common_game/SlotGame/SlotUtility"),a=t("./Game1810Mgr"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollViewNode=null,e.closeBtnNode=null,e.loadNode=null,e.contentNode=null,e.currencyLab=null,e.betSizeLab=null,e}return n(e,t),e.prototype.onLoad=function(){var t=a.Game1810Mgr.instance.getGameResult();this.currencyLab.string=app.i18n.t("Game1810_96",{S1:t.currency}),this.betSizeLab.string=app.i18n.t("Game1810_95",{S1:s.default.formatNumber(t.config_money[0]),S2:s.default.formatNumber(t.config_money[t.config_money.length-1])}),this.playShowAnim()},e.prototype.playShowAnim=function(){var t=this;this.scrollViewNode.active=!1,this.closeBtnNode.active=!1,this.loadNode.active=!0;var e=this.contentNode.getComponent(cc.Widget);e.updateAlignment(),e.enabled=!1,this.contentNode.position=cc.v3(0,-this.contentNode.parent.height/2-this.contentNode.height/2),cc.tween(this.contentNode).to(.3,{position:cc.Vec3.ZERO}).call(function(){cc.tween(t.loadNode).to(.2,{opacity:0}).call(function(){e.enabled=!0,t.scrollViewNode.active=!0,t.closeBtnNode.active=!0,t.loadNode.active=!1}).start()}).start()},e.prototype.onClickCloseBtn=function(){this.isPlayHideAnim||this.playHideAnim()},e.prototype.playHideAnim=function(){var t=this;this.isPlayHideAnim=!0,this.contentNode.getComponent(cc.Widget).enabled=!1;var e=cc.v3(0,-this.contentNode.parent.height/2-this.contentNode.height/2);cc.tween(this.contentNode).to(.3,{position:e}).call(function(){t.onCloseView&&t.onCloseView(),t.node.destroy()}).start()},r([p(cc.Node)],e.prototype,"scrollViewNode",void 0),r([p(cc.Node)],e.prototype,"closeBtnNode",void 0),r([p(cc.Node)],e.prototype,"loadNode",void 0),r([p(cc.Node)],e.prototype,"contentNode",void 0),r([p(cc.Label)],e.prototype,"currencyLab",void 0),r([p(cc.Label)],e.prototype,"betSizeLab",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../common_game/SlotGame/SlotUtility":"SlotUtility","./Game1810Mgr":"Game1810Mgr"}],ScaleToFullSreenComponent:[function(t,e,o){"use strict";cc._RF.push(e,"687b1jKLU1Jh5B7TxvagmBN","ScaleToFullSreenComponent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.executionOrder,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){cc.view.on("canvas-resize",this.updateBgNodeScale,this),this.updateBgNodeScale()},e.prototype.updateBgNodeScale=function(){var t=cc.winSize.width/cc.winSize.height;this.node.width/this.node.height<t?this.node.scale=cc.winSize.width/this.node.width:this.node.scale=cc.winSize.height/this.node.height;for(var e=this.node.parent;e;)this.node.scale/=e.scale,e=e.parent},e.prototype.onDisable=function(){cc.view.off("canvas-resize",this.updateBgNodeScale,this)},r([a,c(2)],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScoreUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b8026NkjrRDpobI2P14/QXz","ScoreUtil");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ScoreUtil=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="ScoreUtil",this.Log("Init")},e.prototype.FormatK=function(t){return t<1e3?""+t:Big(t).div(1e3).toString()+"k"},e.prototype.coinFormatter=function(t,e){var o,i=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(o=i.length-1;o>0&&!(t>=i[o].value);o--);return(t/i[o].value).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i[o].symbol},e.prototype.fix_number=function(t,e){return(""+t).length<e?(new Array(e+1).join("0")+t).slice(-e):""+t},e.prototype.coinFixed2=function(t){return parseInt(t)===t?t.toFixed(2):("string"==typeof t&&(t=parseFloat(t)),t>0&&(t=Math.floor(100*t)/100),t.toFixed(2))},e.prototype.toFixed=function(t,e){void 0===e&&(e=2);var o=Math.pow(10,e),i=t*o+.5;return(i=parseInt(i.toString(),10)/o)+""},e.prototype.toFixedString=function(t){var e=t.toString();return e.indexOf(".")>=0&&e.split(".")[1].length>2?this.toFixed(t,2):t+""},e.prototype.formatScore=function(t,e,o){if(void 0===e&&(e=2),void 0===o&&(o=!1),o)return this.toFixed(Number(t),e);var i=""+t,n=i.indexOf(".");return n>-1&&(i=i.substring(0,n+e+1)),i},e.prototype.formatNumber=function(t,e,o){return void 0===e&&(e=2),void 0===o&&(o=!1),Number(this.formatScore(t,e,o))},e.prototype.formatNumberWithCommas=function(t){var e=(""+Number(t)).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},e.prototype.TwoDecimalPlacesWithCommas=function(t){return t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},e}(t("../Base/Singleton").Singleton);o.ScoreUtil=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],ScrollViewExtend:[function(t,e,o){"use strict";cc._RF.push(e,"41329AxiLxHxZOtbdN7jLtv","ScrollViewExtend");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ScrollDir=void 0;var s,a=cc._decorator,c=a.ccclass;a.property,function(t){t.VERTICAL="VERTICAL",t.HORIZONTAL="HORIZONTAL",t.ALL="ALL",t.NOT="NOT"}(s=o.ScrollDir||(o.ScrollDir={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isScene=!1,e._activeCellMap={},e._activeCellList=[],e._cacheCellList=[],e._cacheStyleCellMap={},e._defaultCellSize=!1,e._paddingTop=0,e._paddingBottom=0,e._spacing=0,e._cellCount=0,e._gruop=1,e._cellDefaultSize=0,e._middleSyn=!1,e._isFillFull=!1,e._recycling=!0,e._scrollViewHeight=0,e._scrollViewWidth=0,e._isCreated=!1,e._isUpdate=!1,e._cellPerfab=null,e._needCraeteArray=[],e._needCraeteIndex=0,e._updateTimer=0,e._updateInterval=2,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){this._scrollView=this.node.getComponent(cc.ScrollView),this._content=this._scrollView.content,this._scrollViewHeight=this._scrollView.node.height,this._scrollViewWidth=this._scrollView.node.width,this._direction=o.getScrollDir(this._scrollView)},e.prototype.setDelegate=function(t){this.cleanCache(),this._delegate=t,this._paddingTop=this._delegate.paddingTop||0,this._paddingBottom=this._delegate.paddingBottom||0,this._spacing=this._delegate.spacing||0,this._defaultCellSize=this._delegate.defaultCellSize||!1,this._gruop=this._delegate.gruop||1,this._cellPerfabName=this._delegate.cellPerfabName||null,this._preCreateCount=this._delegate.preCreateCount||null,this._cellPerfabName&&(this._cellPerfab=null,"string"==typeof this._cellPerfabName||(this._cellPerfab=cc.instantiate(this._cellPerfabName))),!0===this._delegate.middleSyn?this._middleSyn=!0:this._middleSyn=!1,!1===this._delegate.recycling?this._recycling=!1:this._recycling=!0,this._delegate.defaultCellSize&&(this._cellDefaultSize=this._delegate.sizeOfCell(0)),this.checkDelegate()},e.prototype.setDelegateNoClean=function(t){this._delegate=t,this._paddingTop=this._delegate.paddingTop||0,this._paddingBottom=this._delegate.paddingBottom||0,this._spacing=this._delegate.spacing||0,this._defaultCellSize=this._delegate.defaultCellSize||!1,this._gruop=this._delegate.gruop||1,this._cellPerfabName=this._delegate.cellPerfabName||null,this._preCreateCount=this._delegate.preCreateCount||null,this._cellPerfabName&&(this._cellPerfab=null,"string"==typeof this._cellPerfabName||(this._cellPerfab=cc.instantiate(this._cellPerfabName))),!0===this._delegate.middleSyn?this._middleSyn=!0:this._middleSyn=!1,!1===this._delegate.recycling?this._recycling=!1:this._recycling=!0,this._delegate.defaultCellSize&&(this._cellDefaultSize=this._delegate.sizeOfCell(0)),this.checkDelegate()},e.prototype.checkDelegate=function(){if(this._middleSyn&&this._gruop>1&&!this._defaultCellSize)throw new Error("ScrollViewExtend: middleSyn is no apply beacause gruop > 1 or defaultCellSize is false");if(this._direction!==s.VERTICAL&&this._direction!==s.HORIZONTAL)throw new Error("ScrollViewExtend: ScrollView direction shoule be only horizontal or only vertical")},e.prototype.scrollEvent=function(){},e.prototype.forcScrollEvent=function(){this.updateCell()},e.prototype.update=function(){if(this._cellPerfabName)if(this._isCreated){if(this._updateTimer+=1,this._updateTimer<this._updateInterval)return;this._updateTimer=0,this.updateCell()}else{if(!this._cellPerfab)return;this.createItem(),this.createItem()}else{if(this._updateTimer+=1,this._updateTimer<this._updateInterval)return;this._updateTimer=0,this.updateCell()}},e.prototype.reload=function(t){this._cellCount=this._delegate.cellCount(),this.updateContentSize(),this.updateCell(t,!0)},e.prototype.createItem=function(){if(this._needCraeteIndex>=this._needCraeteArray.length)this._isCreated=!0;else{var t=cc.instantiate(this._cellPerfab);this._content.addChild(t);var e,o=this._needCraeteArray[this._needCraeteIndex],i=this.getPosByIndex(o),n=i[0],r=i[1];t.setPosition(n,r),this._activeCellMap[o]&&this._activeCellMap[o]instanceof cc.Component&&(this._activeCellMap[o].node.removeFromParent(),this._activeCellMap[o]=null),e="string"==typeof this._cellPerfabName?t.addComponent(this._cellPerfabName):t._components[0],this._activeCellMap[o]=e,this._delegate.updateCell(e,o),this._needCraeteIndex++,this._needCraeteIndex>=this._needCraeteArray.length&&(this._isCreated=!0,this._needCraeteIndex=0,this._needCraeteArray=[])}},e.prototype.updateContentSize=function(){if(this._scrollViewHeight=this._scrollView.node.height,this._scrollViewWidth=this._scrollView.node.width,this._isFillFull=!0,this._defaultCellSize)this._direction===s.VERTICAL?(this._content.height=Math.ceil(this._cellCount/this._gruop)*(this._cellDefaultSize+this._spacing)+this._paddingTop+this._paddingBottom,this._content.height<this._scrollViewHeight&&(this._content.height=this._scrollViewHeight,this._isFillFull=!1)):(this._content.width=Math.ceil(this._cellCount/this._gruop)*(this._cellDefaultSize+this._spacing)+this._paddingTop+this._paddingBottom,this._content.width<this._scrollViewWidth&&(this._content.width=this._scrollViewWidth,this._isFillFull=!1));else if(this._direction===s.VERTICAL){for(var t=0,e=0;e<this._cellCount;e++)t+=this._delegate.sizeOfCell(e)+this._spacing;this._content.height=t,this._content.height<this._scrollViewHeight&&(this._content.height=this._scrollViewHeight,this._isFillFull=!1)}else{var o=0;for(e=0;e<this._cellCount;e++)o+=this._delegate.sizeOfCell(e)+this._spacing;this._content.width=o,this._content.width<this._scrollViewWidth&&(this._content.width=this._scrollViewWidth,this._isFillFull=!1)}},e.prototype.updateCell=function(t,e){var o=this,i=this.getActiveIndex();!0===t?(this.hideUselessCell(this._activeCellList),this.showActiveCell(i),this._activeCellList=i):(JSON.stringify(i)!==JSON.stringify(this._activeCellList)&&(this.hideUselessCell(this._activeCellList.filter(function(t){return-1===i.indexOf(t)})),this.showActiveCell(i.filter(function(t){return-1===o._activeCellList.indexOf(t)})),this._activeCellList=i),!0===e&&this.refreshActiveCell(i.filter(function(t){return-1!==o._activeCellList.indexOf(t)})))},e.prototype.updateSingle=function(t){this._activeCellMap[t]&&this._activeCellMap[t]instanceof cc.Component&&this._delegate.updateCell(this._activeCellMap[t],t)},e.prototype.hideUselessCell=function(t){var e=this,o=this;t.forEach(function(t){o._activeCellMap[t]&&(o._activeCellMap[t].node.setPosition(6666,6666),o._cellPerfabName?o._cacheCellList.push(e._activeCellMap[t]):o.addStyleCellCache(e._activeCellMap[t]),delete o._activeCellMap[t])})},e.prototype.refreshActiveCell=function(t){var e=this;this._cellPerfabName?t.forEach(function(t){if(e._activeCellMap[t]){e._delegate.updateCell(e._activeCellMap[t],t);var o=e.getPosByIndex(t),i=o[0],n=o[1];e._activeCellMap[t].node.setPosition(i,n)}}):t.forEach(function(t){e._delegate.updateCell(e,t)})},e.prototype.showActiveCell=function(t){var e=this;if(this._cellPerfabName){var o=[];t.forEach(function(t){var i=e._cacheCellList.pop();if(i){var n=e.getPosByIndex(t),r=n[0],s=n[1];i.node.setPosition(r,s),e._delegate.updateCell(i,t),e._activeCellMap[t]=i}else o.push(t)}),o.length>0?(this._needCraeteIndex=0,this._needCraeteArray=o,this._isCreated=!1):this._isCreated=!0}else t.forEach(function(t){e._delegate.updateCell(e,t)})},e.prototype.getStyleCell=function(t,e){var o=null;if(this._activeCellMap[e]){if((o=this._activeCellMap[e]).styleName===t){var i=this.getPosByIndex(e),n=i[0],r=i[1];return o.node.setPosition(n,r),o}return this._activeCellMap[e].node.setPosition(6666,6666),this.addStyleCellCache(this._activeCellMap[e]),this._activeCellMap[e]=null,null}if(this._cacheStyleCellMap[t]&&(o=this._cacheStyleCellMap[t].pop())){var s=this.getPosByIndex(e);n=s[0],r=s[1],o.node.setPosition(n,r),this._activeCellMap[e]=o}return o},e.prototype.updateStyleCell=function(t,e,o){var i=o||"defalutStyle";t.styleName=i,this._activeCellMap[e]&&this._activeCellMap[e]instanceof cc.Component&&(this._activeCellMap[e].node.setPosition(6666,6666),this.addStyleCellCache(this._activeCellMap[e]),this._activeCellMap[e]=null),this._activeCellMap[e]=t;var n=this.getPosByIndex(e),r=n[0],s=n[1];t.node.setPosition(r,s),this._content.addChild(t.node)},e.prototype.addStyleCellCache=function(t){var e=t.styleName||"defalutStyle";this._cacheStyleCellMap[e]||(this._cacheStyleCellMap[e]=[]),this._cacheStyleCellMap[e].push(t)},e.prototype.getPosByIndex=function(t){var e=0,o=0;if(this._defaultCellSize)if(this._direction===s.VERTICAL)e=(t%this._gruop+.5)*(this._scrollViewWidth/this._gruop)-this._scrollViewWidth/2,o=-1*((Math.floor(t/this._gruop)+.5)*(this._cellDefaultSize+this._spacing)+this._paddingTop),!this._isFillFull&&this._middleSyn&&(o=(t+1)*this._scrollViewWidth/(this._cellCount+1)*-1);else{var i=this._scrollViewHeight/this._gruop;o=(this._gruop-1-t%this._gruop+.5)*i-this._scrollViewHeight/2,e=(Math.floor(t/this._gruop)+.5)*(this._cellDefaultSize+this._spacing)+this._paddingTop,!this._isFillFull&&this._middleSyn&&(e=(t+1)*this._scrollViewWidth/(this._cellCount+1))}else if(this._direction===s.VERTICAL){e=0;for(var n=0;n<=t;n++){var r=this._spacing;0===n&&(r=0),o+=this._delegate.sizeOfCell(n)+r,n===t&&(o-=this._delegate.sizeOfCell(n)/2)}o*=-1}else{for(o=0,n=0;n<=t;n++)r=this._spacing,0===n&&(r=0),e+=this._delegate.sizeOfCell(n)+r,n===t&&(e-=this._delegate.sizeOfCell(n)/2);e*=-1}return[e,o]},e.prototype.getActiveIndex=function(){if(!1===this._recycling){for(var t=[],e=0;e<this._cellCount;e++)t.push(e);return t}var o,i,n,r;if(this._direction===s.VERTICAL?((o=this._scrollView.getScrollOffset().y-this._paddingTop)<0&&(o=0),o+this._scrollViewHeight-this._paddingTop>this._content.height&&(o=this._content.height-this._scrollViewHeight+this._paddingTop),i=o+this._scrollViewHeight-this._paddingTop):((o=-1*this._scrollView.getScrollOffset().x-this._paddingTop)<0&&(o=0),(i=o+this._scrollViewWidth-this._paddingTop)>this._content.width&&(i=this._content.width)),this._defaultCellSize){var a=this._cellDefaultSize+this._spacing;n=Math.floor(o/a)*this._gruop-this._gruop,r=Math.ceil(i/a)*this._gruop+this._gruop+1}else n=this.getIndexByOffset(o)-this._gruop,r=this.getIndexByOffset(i)+this._gruop+1;o<=0&&(r+=2*this._gruop),n<0&&(n=0),this._preCreateCount&&(r=n+this._preCreateCount-1),r>this._cellCount-1&&(r=this._cellCount-1);var c=[];for(e=n;e<=r;e++)c.push(e);return c},e.prototype.getIndexByOffset=function(t){for(var e=0,o=0;o<this._cellCount;o++)if((o+1)%this._gruop==0&&(e+=this._delegate.sizeOfCell(o)+this._spacing),e>t)return o;return this._cellCount},e.prototype.cleanCache=function(){this._activeCellMap={},this._activeCellList=[],this._cacheCellList=[],this._cacheStyleCellMap={},this._content.removeAllChildren(),this._scrollView.scrollToTop()},e.prototype.addCellToCache=function(){for(var t in this._activeCellMap)this._cellPerfabName?this._cacheCellList.push(this._activeCellMap[t]):this.addStyleCellCache(this._activeCellMap[t])},e.prototype.cleanContent=function(){this.addCellToCache();for(var t=0;t<=this._content.children.length-1;t++)this._content.children[t].setPosition(6666,6666);this._activeCellMap={},this._activeCellList=[],this._scrollView.stopAutoScroll(),this._cellCount=0,this._scrollView.scrollToTop()},e.getScrollDir=function(t){return t.horizontal&&t.vertical?s.ALL:t.horizontal?s.HORIZONTAL:t.vertical?s.VERTICAL:s.NOT},e.prototype.getCacheCellList=function(){return this._cacheCellList},e.prototype.getActiveCellMap=function(){return this._activeCellMap},o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ScrollViewHack:[function(t,e,o){"use strict";cc._RF.push(e,"875de3wAaNO0q67RpHoO2M7","ScrollViewHack");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mul=10,e}return n(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.MOUSE_WHEEL,this._onMouseWheel,this,!0)},e.prototype._onMouseWheel=function(t){t.setScrollData(t.getScrollX(),t.getScrollY()*this.mul)},r([c({tooltip:"\u6539\u53d8\u6eda\u8f6e\u79fb\u52a8\u8ddd\u79bb\u7684\u500d\u6570"})],e.prototype,"mul",void 0),r([a,l("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ScrollViewHack")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],SelectGameMrg:[function(t,e,o){"use strict";cc._RF.push(e,"1e8bbHAVUNHxJuF3PeUYaDm","SelectGameMrg");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectGameMrg=void 0;var n=t("../net/GameNet"),r=cc._decorator,s=r.ccclass,a=(r.property,function(){function t(){this.preDoTime=(new Date).getTime()}var e;return e=t,t.getInstance=function(){return this.instance||(this.instance=new e),this.instance},t.prototype.spin=function(t,e,o){var i={betIndex:t,mutipleIndex:e};n.default.getInstance().requestToTableMsg("spin",i,function(t){o&&o(t)})},t.prototype.history=function(t){return new Promise(function(e){t.cmd="history",n.default.getInstance().request(n.default.cmdCall,t,function(t){e(t)})})},t.prototype.historyDetail=function(t){return new Promise(function(e){t.cmd="historyDetail",n.default.getInstance().request(n.default.cmdCall,t,function(t){e(t)})})},e=i([s],t)}());o.SelectGameMrg=a,cc._RF.pop()},{"../net/GameNet":"GameNet"}],ShareDefine:[function(t,e,o){"use strict";cc._RF.push(e,"76b220JVVhEJJA+elZyY0yr","ShareDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.RetryType=o.GameBetDataConfig=o.GameCommonEventType=o.ScrollEventType=o.Development=void 0;var i=function(){function t(){}return t.IsDevelopment=function(){return this._IsDevelopment},t.SetDevelopment=function(t){this._IsDevelopment=t},t._IsDevelopment=!1,t}();o.Development=i,function(t){t[t.SCROLL_START=0]="SCROLL_START",t[t.SCROLL_ING=1]="SCROLL_ING",t[t.SCROLL_END=2]="SCROLL_END"}(o.ScrollEventType||(o.ScrollEventType={}));var n=function(){function t(){}return t.GetRound="GameCommonEventType_GetRound",t}();o.GameCommonEventType=n;o.GameBetDataConfig=function(){},function(t){t[t.Normal=0]="Normal",t[t.ResetHost=1]="ResetHost",t[t.State40=2]="State40"}(o.RetryType||(o.RetryType={})),cc._RF.pop()},{}],ShowAllFit:[function(t,e,o){"use strict";cc._RF.push(e,"42f3896FPRNH4u0WvdTqFyY","ShowAllFit");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ShowAllFit=void 0;var s=cc._decorator.ccclass,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){cc.view.on("canvas-resize",this.showAllFit,this),this.showAllFit()},e.prototype.onDisable=function(){cc.view.off("canvas-resize",this.showAllFit,this)},e.prototype.showAllFit=function(){var t=cc.view.getDesignResolutionSize(),e=t.width/t.height,o=cc.winSize.width/cc.winSize.height;cc.view.setResolutionPolicy(e<o?cc.ResolutionPolicy.FIXED_HEIGHT:cc.ResolutionPolicy.FIXED_WIDTH)},r([s],e)}(cc.Component);o.ShowAllFit=a,cc._RF.pop()},{}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"b0ee6KwgjBE3pXSdfiSoyik","Singleton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Singleton=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.GetInstance=function(){return this._instance||(this._instance=new this),this._instance},e}(t("./BaseClass").BaseClass);o.Singleton=r,cc._RF.pop()},{"./BaseClass":"BaseClass"}],SlotBetAmountData:[function(t,e,o){"use strict";cc._RF.push(e,"78a89eV9ghNh6Xtoz/gLQX0","SlotBetAmountData"),Object.defineProperty(o,"__esModule",{value:!0}),o.SlotBetAmountOption=void 0;var i=function(){function t(t,e,o){this.betSize=t,this.betLevel=e,this.baseBet=o,this.betAmount=t.times(e).times(o)}return t.prototype.getBetSize=function(){return this.betSize},t.prototype.getBetLevel=function(){return this.betLevel},t.prototype.getBaseBet=function(){return this.baseBet},t.prototype.getBetAmount=function(){return this.betAmount},t}();o.SlotBetAmountOption=i;var n=function(){function t(t,e,o){this.betSizeList=t,this.betLevelList=e,this.baseBetList=o,this.betAmountOptionList=[];for(var n=0;n<this.betSizeList.length;n++)for(var r=0;r<this.betLevelList.length;r++)for(var s=0;s<this.baseBetList.length;s++){var a=new i(Big(this.betSizeList[n]),Big(this.betLevelList[r]),Big(this.baseBetList[s]));this.betAmountOptionList.push(a)}this.betAmountOptionList.sort(function(t,e){for(var o=[t.getBetAmount(),t.getBetSize(),t.getBetLevel(),t.getBaseBet()],i=[e.getBetAmount(),e.getBetSize(),e.getBetLevel(),e.getBaseBet()],n=0;n<o.length&&o[n].eq(i[n]);)n++;return n<o.length?o[n].gt(i[n])?1:-1:0})}return t.prototype.getBetSizeList=function(){return this.betSizeList},t.prototype.getBetLevelList=function(){return this.betLevelList},t.prototype.getBaseBetList=function(){return this.baseBetList},t.prototype.getBetAmountOptionList=function(){return this.betAmountOptionList},t.prototype.getBetAmountOption=function(t){return this.betAmountOptionList[t]},t.prototype.getBetAmountList=function(){for(var t=this.betAmountOptionList[0].getBetAmount(),e=[t],o=1;o<this.betAmountOptionList.length;o++){var i=this.betAmountOptionList[o].getBetAmount();i.eq(t)||(t=i,e.push(t))}return e.map(function(t){return t.toNumber()})},t.prototype.indexOf=function(t,e,o){for(var i=0;i<this.betAmountOptionList.length;i++){var n=this.betAmountOptionList[i];if(t.eq(n.getBetSize())&&e.eq(n.getBetLevel())&&o.eq(n.getBaseBet()))return i}return-1},t.prototype.lteIndexOf=function(t){for(var e=this.betAmountOptionList.length-1;e>=0;e--)if(this.betAmountOptionList[e].getBetAmount().lte(t))return e;return-1},t}();o.default=n,cc._RF.pop()},{}],SlotBetAmountDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"d4f31xUhFFNCZgxZksNXOIP","SlotBetAmountDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betAmountLab=null,e}return n(e,t),e.prototype.udpateBetAmount=function(t){this.betAmountLab.string=t},e.prototype.updateBetAmountAndPlayAnim=function(t,e){this.udpateBetAmount(t),cc.Tween.stopAllByTarget(this.betAmountLab.node);var o=1+e;cc.tween(this.betAmountLab.node).to(.1,{scale:o},{easing:cc.easing.cubicIn}).to(.1,{scale:.8}).to(.1,{scale:1}).to(.1,{scale:.9}).to(.1,{scale:1}).start()},r([c(cc.Label)],e.prototype,"betAmountLab",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SlotButton:[function(t,e,o){"use strict";cc._RF.push(e,"cfef3tKkUZKh6tKGTdjmjnG","SlotButton");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Button"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return n(e,t),e.prototype.onLoad=function(){this.btn=this.node.getComponent(s.default),this.btn.onPress=this.onPress.bind(this),this.btn.onLoosen=this._onLoosen.bind(this),this.btn.onClick=this._onClick.bind(this)},e.prototype._onClick=function(){this.onClick&&this.onClick()},e.prototype._onLoosen=function(){this.onLoosen?this.onLoosen():this.target.opacity=255},e.prototype.onPress=function(){this.target.opacity=100},Object.defineProperty(e.prototype,"interactable",{set:function(t){this.btn.interactable=t},enumerable:!1,configurable:!0}),r([l(cc.Node)],e.prototype,"target",void 0),r([c,p(s.default)],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Button":"Button"}],SlotHoverLightEffect:[function(t,e,o){"use strict";cc._RF.push(e,"7c2ca+rStBHbpc5ahL/lInm","SlotHoverLightEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e}return n(e,t),e.prototype.onEnable=function(){this.anim.stop(),this.anim.node.active=!1,this.isMouseHover=!1,cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onDisable=function(){cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.node.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this))},e.prototype.onMouseEnter=function(){this.isMouseHover=!0,this.isEnable&&(this.anim.node.active=!0,this.anim.play())},e.prototype.onMouseLeave=function(){this.isMouseHover=!1,this.isEnable&&(this.anim.stop(),this.anim.node.active=!1)},e.prototype.setEnable=function(t){cc.sys.platform==cc.sys.DESKTOP_BROWSER&&(this.isEnable=t,t?this.isMouseHover&&(this.anim.node.active=!0,this.anim.play(),this.anim.sample(this.anim.defaultClip.name)):(this.anim.stop(),this.anim.node.active=!1))},r([l(cc.Animation)],e.prototype,"anim",void 0),r([c],e)}(s.default);o.default=p,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],SlotLangSprite:[function(t,e,o){"use strict";cc._RF.push(e,"79a2clBa6dNJKmI+1os0Ot5","SlotLangSprite");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=t("../../Game1810/script/Game1810Mgr"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sfName="",e}return n(e,t),e.prototype.OnLoad=function(){this.updateSprite()},e.prototype.updateSprite=function(){var t=this.node.getComponent(cc.Sprite),e=a.Game1810Mgr.instance.langSFMap;t.spriteFrame=e.get(this.sfName)},e.prototype.updateSFName=function(t){this.sfName=t,this.updateSprite()},r([p(cc.String)],e.prototype,"sfName",void 0),r([l,h(cc.Sprite)],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","../../Game1810/script/Game1810Mgr":"Game1810Mgr"}],SlotMsgTipDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"c9270e57HBFBYId3PkUl6bE","SlotMsgTipDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onIconNode=null,e.offIconNode=null,e.msgLab=null,e.layout=null,e.bg=null,e}return n(e,t),e.prototype.show=function(t){var e=this;0!=t&&1!=t&&2!=t&&3!=t||(this.node.active=!0,cc.Tween.stopAllByTarget(this.node),0!=t&&1!=t||(this.onIconNode.active=!1,this.offIconNode.active=!1),0==t?this.msgLab.string=app.i18n.t("Game1810_42"):1==t?this.msgLab.string=app.i18n.t("Game1810_43"):2==t?(this.msgLab.string=app.i18n.t("Game1810_45"),this.onIconNode.active=!0,this.onIconNode.opacity=0,this.offIconNode.active=!1):3==t&&(this.msgLab.string=app.i18n.t("Game1810_44"),this.offIconNode.active=!0,this.offIconNode.opacity=0,this.onIconNode.active=!1),this.msgLab._forceUpdateRenderData(),this.layout.updateLayout(),this.bg.width=this.layout.node.width+70,this.node.scale=1,cc.tween(this.node).to(.1,{scale:1.2}).to(.1,{scale:1}).call(function(){2==t?e.onIconNode.opacity=255:3==t&&(e.offIconNode.opacity=255)}).delay(1).call(function(){return e.node.active=!1}).start())},e.prototype.hide=function(){cc.Tween.stopAllByTarget(this.node),this.node.active=!1},r([c(cc.Node)],e.prototype,"onIconNode",void 0),r([c(cc.Node)],e.prototype,"offIconNode",void 0),r([c(cc.Label)],e.prototype,"msgLab",void 0),r([c(cc.Layout)],e.prototype,"layout",void 0),r([c(cc.Node)],e.prototype,"bg",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],SlotNumberChangeDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"83637JFRKVK5IBfgxFHwAyS","SlotNumberChangeDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=t("./SlotUtility"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textLab=null,e}return n(e,t),e.prototype.getNumber=function(){return this.curNum.toNumber()},e.prototype.updateNumberText=function(){this.textLab.string=""+this.prefix+a.default.formatBig(this.curNum)},e.prototype.changeNumberFromOriginalToTargetOfTypeBig=function(t,e,o,i,n){if(void 0===i&&(i=""),o<=0)return this.setNumberOfTypeBig(e,i),void(n&&n());this.originalNum=t,this.targetNum=e,this.duration=o,this.prefix=i,this.onFinish=n,this.elapsed=0,this.needChangeNumber=!0},e.prototype.changeNumberFromOriginalToTarget=function(t,e,o,i,n){void 0===i&&(i=""),this.changeNumberFromOriginalToTargetOfTypeBig(Big(t),Big(e),o,i,n)},e.prototype.changeNumberFromCurNumToTargetOfTypeBig=function(t,e,o,i){void 0===o&&(o=""),this.changeNumberFromOriginalToTargetOfTypeBig(this.curNum,t,e,o,i)},e.prototype.changeNumberFromCurNumToTarget=function(t,e,o,i){void 0===o&&(o=""),this.changeNumberFromOriginalToTargetOfTypeBig(this.curNum,Big(t),e,o,i)},e.prototype.setNumber=function(t,e){void 0===e&&(e=""),this.setNumberOfTypeBig(Big(t),e)},e.prototype.setNumberOfTypeBig=function(t,e){void 0===e&&(e=""),this.needChangeNumber=!1,this.curNum=t,this.prefix=e,this.updateNumberText()},e.prototype.update=function(t){if(this.needChangeNumber){this.elapsed+=t;var e=this.elapsed/this.duration;e>=1?(this.needChangeNumber=!1,this.elapsed=0,this.curNum=this.targetNum,this.onFinish&&this.onFinish()):this.curNum=this.originalNum.plus(this.targetNum.minus(this.originalNum).times(e)),this.updateNumberText()}},r([p(cc.Label)],e.prototype,"textLab",void 0),r([l],e)}(s.default);o.default=h,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent","./SlotUtility":"SlotUtility"}],SlotScroll:[function(t,e,o){"use strict";cc._RF.push(e,"b0fa5OGjmRD2rrJcUH4q7HM","SlotScroll");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=function(t){this.data=t},c=function(){function t(){this.head=new a(null),this.tail=new a(null),this.head.prev=null,this.head.next=this.tail,this.tail.prev=this.head,this.tail.next=null,this.size=0,this.nodePool=[]}return t.prototype.count=function(){return this.size},t.prototype.empty=function(){return 0==this.size},t.prototype.first=function(){return this.head.next},t.prototype.last=function(){return this.tail.prev},t.prototype.isHead=function(t){return t==this.head},t.prototype.isTail=function(t){return t==this.tail},t.prototype.getListNode=function(t){if(this.nodePool.length>0){var e=this.nodePool.pop();return e.data=t,e}return new a(t)},t.prototype.insertBefore=function(t,e){var o=this.getListNode(t);return o.prev=e.prev,o.next=e,e.prev.next=o,e.prev=o,++this.size,o},t.prototype.insertAfter=function(t,e){var o=this.getListNode(t);return o.prev=e,o.next=e.next,e.next.prev=o,e.next=o,++this.size,o},t.prototype.insertAsLast=function(t){return this.insertBefore(t,this.tail)},t.prototype.insertAsFirst=function(t){return this.insertAfter(t,this.head)},t.prototype.recycleListNode=function(t){t.prev=null,t.next=null,t.data=null,this.nodePool.push(t)},t.prototype.remove=function(t){t.prev.next=t.next,t.next.prev=t.prev,this.recycleListNode(t),--this.size},t.prototype.removeFirst=function(){this.remove(this.first())},t.prototype.removeLast=function(){this.remove(this.last())},t}(),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolPrefab=null,e}return n(e,t),e.prototype.init=function(t){this.colNum=t,this.nodePool=new cc.NodePool,this.symbolList=[],this.scrollTotalTimeList=[],this.scrollTimeList=[],this.scrollTotalDistanceList=[],this.scrollDistanceList=[],this.needScrollList=[],this.needScrollForeverList=[],this.scrollForeverSpeedList=[];for(var e=0;e<this.colNum;e++)this.symbolList.push(new c),this.scrollTimeList.push(0),this.scrollTotalTimeList.push(0),this.scrollDistanceList.push(0),this.scrollTotalDistanceList.push(0),this.needScrollList.push(!1),this.needScrollForeverList.push(!1),this.scrollForeverSpeedList.push(0);this.curFrameScrollFinishColList=[]},e.prototype.getSymbolNode=function(){var t=this.nodePool.get();return t||(t=cc.instantiate(this.symbolPrefab)),t},e.prototype.putSymbolNode=function(t){t.active=!0,this.nodePool.put(t)},e.prototype.updateColSymbols=function(t,e){if(void 0===e&&(e=0),e<0)throw new Error("downwardOffset must be nonnegative:"+e);for(var o=0,i=this.colPosX(t),n=-this.node.height/2-e,r=this.node.height/2,s=this.symbolList[t],a=s.first();!s.isTail(a)&&n<r;){var c=a.data;this.onUpdateSymbol(t,o,c),c.position=cc.v3(i,n+c.height/2,0),n+=c.height,a=a.next,o++}if(s.isTail(a))for(;n<r;)c=this.getSymbolNode(),this.onUpdateSymbol(t,o,c),c.position=cc.v3(i,n+c.height/2,0),n+=c.height,c.parent=this.node,s.insertAsLast(c),o++;else for(;!s.isTail(a);){this.putSymbolNode(a.data);var l=a.next;s.remove(a),a=l}},e.prototype.scroll=function(t,e,o){if(e<0)throw new Error("time must be nonnegative:"+e);this.stopForeverScroll(t),this.scrollTimeList[t]=0,this.scrollTotalTimeList[t]=e,this.scrollDistanceList[t]=0,this.scrollTotalDistanceList[t]=o,this.needScrollList[t]=!0},e.prototype.stopScroll=function(t){this.needScrollList[t]=!1,this.scrollTimeList[t]=0,this.scrollTotalTimeList[t]=0,this.scrollDistanceList[t]=0,this.scrollTotalDistanceList[t]=0},e.prototype.scrollForever=function(t,e){this.stopScroll(t),this.needScrollForeverList[t]=!0,this.scrollForeverSpeedList[t]=e},e.prototype.stopForeverScroll=function(t){this.needScrollForeverList[t]=!1,this.scrollForeverSpeedList[t]=0},e.prototype.createSymbol=function(){var t=this.nodePool.get();return t||(t=cc.instantiate(this.symbolPrefab)),t},e.prototype.colPosX=function(t){return-this.node.width/2+(t+.5)*this.symbolPrefab.data.width},e.prototype.cyclicScroll=function(t){for(var e=this.symbolList[t],o=-this.node.height/2,i=this.colPosX(t);;){var n=e.first().data;if((l=n.y-n.height/2)<=o)break;var r=this.createSymbol();this.onSymbolAppear(t,r),r.position=cc.v3(i,l-r.height/2,0),r.parent=this.node,e.insertAsFirst(r)}for(var s=this.node.height/2;;){var a=e.last().data;if((c=a.y+a.height/2)>=s)break;r=this.createSymbol(),this.onSymbolAppear(t,r),r.position=cc.v3(i,c+r.height/2,0),r.parent=this.node,e.insertAsLast(r)}for(;!e.empty();){var c;if((c=(r=e.first().data).y+r.height/2)>=o)break;e.removeFirst(),this.onSymbolRecycle(r),this.putSymbolNode(r)}for(;!e.empty();){var l;if((l=(r=e.last().data).y-r.height/2)<=s)break;e.removeLast(),this.onSymbolRecycle(r),this.putSymbolNode(r)}},e.prototype.update=function(t){for(var e=0;e<this.colNum;e++)if(this.needScrollList[e]){this.scrollTimeList[e]+=t;var o=Math.min(this.scrollTimeList[e]/this.scrollTotalTimeList[e],1),i=this.scrollTotalDistanceList[e]*o,n=i-this.scrollDistanceList[e];this.scrollDistanceList[e]=i;for(var r=(s=this.symbolList[e]).first();!s.isTail(r);)(a=r.data).position=a.position.add(cc.v3(0,n,0)),r=r.next;1==o&&(this.stopScroll(e),this.curFrameScrollFinishColList.push(e)),this.cyclicScroll(e)}else if(this.needScrollForeverList[e]){var s;for(n=this.scrollForeverSpeedList[e]*t,r=(s=this.symbolList[e]).first();!s.isTail(r);){var a;(a=r.data).position=a.position.add(cc.v3(0,n,0)),r=r.next}this.cyclicScroll(e)}for(e=0;e<this.curFrameScrollFinishColList.length;e++)this.onColScrollFinish(this.curFrameScrollFinishColList[e]);this.curFrameScrollFinishColList.Clear()},e.prototype.lastSymbolUpperBoundOffset=function(t){var e=this.symbolList[t].last().data,o=this.node.height/2,i=e.y+e.height/2-o;return i<0&&this.ErrLog("column "+t+" last symbol upper bound offset is negative:"+i+", something is wrong"),i},e.prototype.hideSymbols=function(t){this.stopScroll(t),this.stopForeverScroll(t);for(var e=this.symbolList[t],o=e.first();!e.isTail(o);)o.data.active=!1,o=o.next},e.prototype.showColSymbols=function(t){for(var e=this.symbolList[t],o=e.first();!e.isTail(o);)o.data.active=!0,o=o.next},e.prototype.traversalColSymbols=function(t,e){for(var o=this.symbolList[t],i=o.first();!o.isTail(i);)e(i.data),i=i.next},r([h(cc.Prefab)],e.prototype,"symbolPrefab",void 0),r([p],e)}(s.default);o.default=u,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],SlotSymbolDescDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"d6e77XQ1oVMM4IyB8iNw5ha","SlotSymbolDescDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Base/BaseComponent"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.symbolDescLeftNode=null,e.symbolDescRightNode=null,e}return n(e,t),e.prototype.playShowLeft=function(){this.node.active=!0,this.symbolDescLeftNode.active=!0,this.symbolDescRightNode.active=!1,this.playShowAnim(this.symbolDescLeftNode)},e.prototype.playShowRight=function(){this.node.active=!0,this.symbolDescLeftNode.active=!1,this.symbolDescRightNode.active=!0,this.playShowAnim(this.symbolDescRightNode)},e.prototype.playShowAnim=function(t){this.bgNode.active=!0,cc.Tween.stopAllByTarget(this.bgNode),cc.tween(this.bgNode).to(.2,{opacity:255}).start(),cc.Tween.stopAllByTarget(t),t.opacity=0,cc.tween(t).to(.2,{opacity:255}).start()},e.prototype.playHide=function(){var t=this;cc.Tween.stopAllByTarget(this.bgNode),cc.tween(this.bgNode).to(.2,{opacity:0}).call(function(){t.hide()}).start(),cc.Tween.stopAllByTarget(this.symbolDescLeftNode),cc.Tween.stopAllByTarget(this.symbolDescRightNode),this.symbolDescLeftNode.active=!1,this.symbolDescRightNode.active=!1},e.prototype.hide=function(){this.bgNode.opacity=0,this.bgNode.active=!1,this.node.active=!1},r([l(cc.Node)],e.prototype,"bgNode",void 0),r([l(cc.Node)],e.prototype,"symbolDescLeftNode",void 0),r([l(cc.Node)],e.prototype,"symbolDescRightNode",void 0),r([c],e)}(s.default);o.default=p,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],SlotTipDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"e63064aF+RKLqJhhsCdygEE","SlotTipDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../../../Common/Base/BaseComponent");(function(t){t[t.IDLE=0]="IDLE",t[t.LOOP_PLAY_RANDOM=1]="LOOP_PLAY_RANDOM"})(s||(s={}));var c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipNodeList=[],e.moveSpeed=150,e}return n(e,t),e.prototype.init=function(){this.state=s.IDLE,this.tipNodeIdx=-1,this.tipNodeIdxList=[],this.tipNodeList.forEach(function(t){return t.active=!1})},e.prototype.loopPlayRandomTip=function(t){this.state!=s.LOOP_PLAY_RANDOM&&(this.state=s.LOOP_PLAY_RANDOM,this.tipNodeIdxList=t,this.node.active=!0,this.loopPlayTip())},e.prototype.loopPlayTip=function(){this.playTip(this.loopPlayTip.bind(this))},e.prototype.playTip=function(t){if(-1!=this.tipNodeIdx){var e=this.tipNodeList[this.tipNodeIdx];cc.Tween.stopAllByTarget(e),e.active=!1}var o=Math.floor(Math.random()*this.tipNodeIdxList.length),i=this.tipNodeIdxList[o];i==this.tipNodeIdx?(o=++o%this.tipNodeIdxList.length,this.tipNodeIdx=this.tipNodeIdxList[o]):this.tipNodeIdx=i;var n=this.tipNodeList[this.tipNodeIdx];n.active=!0,cc.Tween.stopAllByTarget(n);var r=this.node.width;if(n.width>r){var s=(n.width-r)/2,a=-(n.width+r)/2,c=(s-a)/this.moveSpeed;return n.position=cc.v3(s,n.y,n.z),void cc.tween(n).delay(1).to(c,{position:cc.v3(a,n.y,n.z)}).delay(.5).call(function(){t&&t()}).start()}n.position=cc.v3(0,n.y,n.z),cc.tween(n).delay(3).call(function(){t&&t()}).start()},e.prototype.hide=function(){if(this.state==s.LOOP_PLAY_RANDOM){this.state=s.IDLE;var t=this.tipNodeList[this.tipNodeIdx];cc.Tween.stopAllByTarget(t),t.active=!1,this.tipNodeIdx=-1}this.node.active=!1},r([p([cc.Node])],e.prototype,"tipNodeList",void 0),r([p(cc.Float)],e.prototype,"moveSpeed",void 0),r([l],e)}(a.default);o.default=h,cc._RF.pop()},{"../../../Common/Base/BaseComponent":"BaseComponent"}],SlotUtility:[function(t,e,o){"use strict";cc._RF.push(e,"e9b2dYQpvVMYICntbaXpZAn","SlotUtility"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../../Common/Define/LanguageDefine"),n=function(){function t(){}return t.formatBig=function(e){return t.formatNumber(e.toNumber())},t.formatNumber=function(t){var e;return e=app.i18n.getCurLang()==i.default.pt?"de-DE":"en-US",t.toLocaleString(e,{minimumFractionDigits:2,maximumFractionDigits:2})},t.getTimeZoneGMT=function(){var t=-(new Date).getTimezoneOffset()/60;return"(GMT"+(t>=0?"+"+t:t.toString())+":00)"},t}();o.default=n,cc._RF.pop()},{"../../../Common/Define/LanguageDefine":"LanguageDefine"}],SpriteFrameSet:[function(t,e,o){"use strict";cc._RF.push(e,"15396UoMaVCc5lUzZWkewM2","SpriteFrameSet");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SpriteFrameSet=void 0;var n=cc._decorator,r=n.ccclass,s=n.property,a=function(){function t(){this.language="",this.spriteFrame=null}return i([s(cc.String)],t.prototype,"language",void 0),i([s(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),i([r("SpriteFrameSet")],t)}();o.SpriteFrameSet=a,cc._RF.pop()},{}],TableDefine:[function(t,e,o){"use strict";cc._RF.push(e,"b3588x5N7FGSpy9RDgobxEh","TableDefine"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],TimeDisplay:[function(t,e,o){"use strict";cc._RF.push(e,"b6eaau6PpZA3JNVumPsBupL","TimeDisplay");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=(s.property,s.requireComponent),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.timeLab=this.getComponent(cc.Label)},e.prototype.update=function(){var t=new Date,e=t.getHours(),o=e<10?"0"+e:e.toString(),i=t.getMinutes(),n=i<10?"0"+i:i.toString(),r=t.getSeconds(),s=r<10?"0"+r:r.toString();this.timeLab.string=o+":"+n+":"+s},r([a,c(cc.Label)],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],TimeUtil:[function(t,e,o){"use strict";cc._RF.push(e,"fa9d1COcl5BOIjm5Nu/w8B/","TimeUtil");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.TimeUtil=void 0;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.Init=function(){this.JS_Name="TimeUtil",this.Log("Init")},e.prototype.formatDate=function(t){t=10===t.toString().length?1e3*t:t;var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+(e.getDate()<10?"0"+e.getDate():e.getDate())+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},e.prototype.IsSameDay=function(t){return new Date(t).getDay()===(new Date).getDay()},e.prototype.timeStr=function(t){var e=new Date(t);return e.getFullYear(),(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"+e.getDate()+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},e.prototype.CheckDateEventTimeIn=function(t,e,o){var i=o-Math.round(Date.now()/1e3);i||(i=0);var n=Math.round(Date.now()/1e3)+i;return!(!t||!e||n>e||n<t)},e}(t("../Base/Singleton").Singleton);o.TimeUtil=r,cc._RF.pop()},{"../Base/Singleton":"Singleton"}],TipView:[function(t,e,o){"use strict";cc._RF.push(e,"bf963tJSZxM763UQ/igHvVe","TipView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLab=null,e.descLab=null,e.errIdLab=null,e.box=null,e.centerBtnNode=null,e.centerBtnLab=null,e.leftBtnLab=null,e.rightBtnLab=null,e.leftBtnParent=null,e}return n(e,t),e.prototype.show=function(t){var e=this;1==t?(this.titleLab.string=app.i18n.t("Game1810_68"),this.descLab.string=app.i18n.t("Game1810_82"),this.errIdLab.node.active=!0,this.errIdLab.string=app.i18n.t("Game1810_83"),this.leftBtnParent.active=!1,this.centerBtnNode.active=!0,this.centerBtnLab.string=app.i18n.t("Game1810_84")):2==t?(this.titleLab.string=app.i18n.t("Game1810_68"),this.descLab.string=app.i18n.t("Game1810_69"),this.errIdLab.node.active=!0,this.errIdLab.string=app.i18n.t("Game1810_70"),this.leftBtnParent.active=!0,this.leftBtnLab.string=app.i18n.t("Game1810_55"),this.rightBtnLab.string=app.i18n.t("Game1810_39"),this.centerBtnNode.active=!1):3==t?(this.titleLab.string=app.i18n.t("Game1810_85"),this.descLab.string=app.i18n.t("Game1810_86"),this.errIdLab.node.active=!1,this.leftBtnParent.active=!0,this.leftBtnLab.string=app.i18n.t("Game1810_87"),this.rightBtnLab.string=app.i18n.t("Game1810_39"),this.centerBtnNode.active=!1):4==t&&(this.titleLab.string=app.i18n.t("Game1810_68"),this.descLab.string=app.i18n.t("Game1810_88"),this.errIdLab.node.active=!0,this.errIdLab.string=app.i18n.t("Game1810_89"),this.leftBtnParent.active=!1,this.centerBtnNode.active=!0,this.centerBtnLab.string=app.i18n.t("Game1810_39")),this.isPlayShowAnim=!0,this.node.opacity=0,cc.tween(this.node).to(.1,{opacity:255}).call(function(){cc.tween(e.box).to(.1,{scale:1.2}).to(.1,{scale:1}).call(function(){e.isPlayShowAnim=!1}).start()}).start()},e.prototype.playCloseViewAnim=function(){var t=this;this.isPlayCloseAnim=!0,this.box.active=!1,cc.tween(this.node).to(.2,{opacity:0}).call(function(){t.onCloseView&&(t.onCloseView(),t.onCloseView=null),t.node.destroy()}).start()},e.prototype.onClickLeftBtn=function(){this.isPlayShowAnim||this.isPlayCloseAnim||(this.clickLeftBtnCallback&&(this.clickLeftBtnCallback(),this.clickLeftBtnCallback=null),this.playCloseViewAnim())},e.prototype.onClickRightBtn=function(){this.isPlayShowAnim||this.isPlayCloseAnim||(this.clickRightBtnCallback&&(this.clickRightBtnCallback(),this.clickRightBtnCallback=null),this.playCloseViewAnim())},e.prototype.onClickCenterBtn=function(){this.isPlayShowAnim||this.isPlayCloseAnim||(this.clickCenterBtnCallback&&(this.clickCenterBtnCallback(),this.clickCenterBtnCallback=null),this.playCloseViewAnim())},r([c(cc.Label)],e.prototype,"titleLab",void 0),r([c(cc.Label)],e.prototype,"descLab",void 0),r([c(cc.Label)],e.prototype,"errIdLab",void 0),r([c(cc.Node)],e.prototype,"box",void 0),r([c(cc.Node)],e.prototype,"centerBtnNode",void 0),r([c(cc.Label)],e.prototype,"centerBtnLab",void 0),r([c(cc.Label)],e.prototype,"leftBtnLab",void 0),r([c(cc.Label)],e.prototype,"rightBtnLab",void 0),r([c(cc.Node)],e.prototype,"leftBtnParent",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Tools:[function(t,e,o){"use strict";cc._RF.push(e,"54d332Ta8tJ3pF0Y/P8zzc9","Tools");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Tools=void 0;var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.Format=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===String(RegExp.$1).length?o[i]:("00"+o[i]).slice(String(o[i]).length)));return e},r([a],e)}(cc.Component));o.Tools=c,cc._RF.pop()},{}],UIBalanceView:[function(t,e,o){"use strict";cc._RF.push(e,"f4bedjxiiZIsqZfXw7gvDZN","UIBalanceView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../common_game/SlotGame/SlotUtility"),a=t("./Game1810Mgr"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.contentNode=null,e.loadingNode=null,e.balanceLab=null,e}return n(e,t),e.prototype.show=function(t){var e,o=this;this.isPlayShowAnim=!0,this.isClosed=!1,this.balanceLab.string=a.Game1810Mgr.instance.getGameResult().currency+s.default.formatNumber(t),this.balanceLab.node.parent.active=!1,null===(e=this.node.getComponent(cc.Widget))||void 0===e||e.updateAlignment(),this.bgNode.opacity=0,cc.Tween.stopAllByTarget(this.bgNode),cc.tween(this.bgNode).to(.15,{opacity:153}).start(),this.contentNode.y=-this.node.height/2-this.contentNode.height,cc.Tween.stopAllByTarget(this.contentNode),cc.tween(this.contentNode).to(.25,{y:-this.node.height/2}).start(),this.loadingNode.active=!0,this.loadingNode.y=-this.node.height/2-this.loadingNode.height/2;var i=.5*Math.random();cc.Tween.stopAllByTarget(this.loadingNode),cc.tween(this.loadingNode).delay(.1).to(.2,{y:-this.node.height/2+this.contentNode.height/2}).call(function(){o.isPlayShowAnim=!1}).delay(i).call(function(){o.loadingNode.active=!1,o.balanceLab.node.parent.active=!0}).start()},e.prototype.onClickCloseBtn=function(){var t=this;this.isPlayShowAnim||this.isClosed||(this.isClosed=!0,cc.Tween.stopAllByTarget(this.loadingNode),this.loadingNode.active=!1,cc.Tween.stopAllByTarget(this.contentNode),cc.tween(this.contentNode).to(.2,{y:-this.node.height/2-this.contentNode.height}).call(function(){cc.Tween.stopAllByTarget(t.bgNode),cc.tween(t.bgNode).to(.15,{opacity:0}).call(function(){t.onCloseView&&t.onCloseView(),t.node.destroy()}).start()}).start())},r([p(cc.Node)],e.prototype,"bgNode",void 0),r([p(cc.Node)],e.prototype,"contentNode",void 0),r([p(cc.Node)],e.prototype,"loadingNode",void 0),r([p(cc.Label)],e.prototype,"balanceLab",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../common_game/SlotGame/SlotUtility":"SlotUtility","./Game1810Mgr":"Game1810Mgr"}],UIBaseComponent:[function(t,e,o){"use strict";cc._RF.push(e,"3acc4002z5L06g5/B9UidJz","UIBaseComponent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./BaseComponent"),a=t("./EventFunAdapter"),c=cc._decorator.ccclass,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._effectDict={},e.isInit=!1,e}return n(e,t),e.prototype.OnLoad=function(){this.EventFunAdapter||(this.EventFunAdapter=new a.EventFunAdapter(this)),this.isInit||(this.isInit=!0,this.OnLoadInit())},e.prototype.onEnable=function(){this.EventFunAdapter.RegisterEvent();try{this.OnEnable()}catch(t){this.ErrLog("err",t)}},e.prototype.onDisable=function(){this.EventFunAdapter.UnRegisterEvent(),this.OnDisable()},e.prototype.RegEvent=function(t,e){this.EventFunAdapter.RegEvent(t,e)},e.prototype.RegHttpEvent=function(t,e){this.EventFunAdapter.RegHttpEvent(t,e)},e.prototype.RegRoomEvent=function(t,e){this.EventFunAdapter.RegRoomEvent(t,e)},e.prototype.RegSystemEvent=function(t,e){this.EventFunAdapter.RegSystemEvent(t,e)},e.prototype.update=function(t){try{this.OnUpdate(t)}catch(e){this.ErrLog("update:%s",e.stack)}},e.prototype.OnLoadInit=function(){},e.prototype.OnUpdate=function(){},e.prototype.WaitForConfirm=function(t,e,o){app.ConfirmManager().ShowConfirm(t,e,o,this.OnConFirm,this.OnCancel,this)},e.prototype.OnConFirm=function(t,e){this.ErrLog("No OnConFirm(%s,%s,%s)",t,e)},e.prototype.OnCancel=function(t,e){this.WarnLog("No OnCancel(%s,%s,%s)",t,e)},e.prototype.OnEffectEnd=function(){},e.prototype.OnClick_Toggle=function(t,e){try{var o=t.node,i=o.name;o.getComponent("ButtonSound")||app.ComUtil().playBtnClick(),this.OnClick(i,t,e)}catch(n){this.ErrLog("OnClick_Toggle:%s",n.stack)}},e.prototype.OnClick_BtnWnd=function(t,e){try{var o=t.currentTarget,i=o.name;o.getComponent("ButtonSound")||app.ComUtil().playBtnClick();var n=o.getComponent("DependentClickEvent");if(n&&n.IsOutGamePop())return;this.OnClick(i,o,e)}catch(r){this.ErrLog("OnClick_BtnWnd:%s",r.stack)}},e.prototype.OnClick=function(){},e.prototype.OnEnable=function(){},e.prototype.OnDisable=function(){},r([c],e)}(s.default);o.default=l,cc._RF.pop()},{"./BaseComponent":"BaseComponent","./EventFunAdapter":"EventFunAdapter"}],UIDateSelect:[function(t,e,o){"use strict";cc._RF.push(e,"46b08SC/GBMRaHAOTLH0yq9","UIDateSelect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIDateSelect=void 0;var s=t("../script/PgEvent"),a=t("./shared_record"),c=t("./shared_record_custom_date"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.on(a.SharedRecordEvent.REQUEST_CUSTOM_DATE_RECORD,this.onSelectData,this);var t=this.getComponent(c.SharedRecordCustomDate);t&&t.setDate(this.node)},e.prototype.onSelectData=function(t,e){cc.systemEvent.emit(s.pgGameEvent.close_his_selectdate_view,new Date(t),new Date(e))},e.prototype.onDestroy=function(){cc.systemEvent.emit(s.pgGameEvent.close_his_dateSelect_view)},r([p],e)}(cc.Component));o.UIDateSelect=h,cc._RF.pop()},{"../script/PgEvent":"PgEvent","./shared_record":"shared_record","./shared_record_custom_date":"shared_record_custom_date"}],UIDetailTip:[function(t,e,o){"use strict";cc._RF.push(e,"20ff1+an9dIsaRQp/vTQM9f","UIDetailTip");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIDetailTip=void 0;var s=t("../../../../../script/common_game/SlotGame/SlotUtility"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.amountLab=null,e}return n(e,t),e.prototype.init=function(t,e,o,i){this.target=i;var n=s.default.formatNumber(t);this.amountLab.string=n+" x "+e+" x "+o},e.prototype.update=function(){this.updatePosition()},e.prototype.updatePosition=function(){if(this.target){var t=this.target.convertToWorldSpaceAR(cc.v3(0,this.target.height/2));t=this.node.parent.convertToNodeSpaceAR(t),this.node.position=t}},r([l(cc.Label)],e.prototype,"amountLab",void 0),r([c],e)}(cc.Component);o.UIDetailTip=p,cc._RF.pop()},{"../../../../../script/common_game/SlotGame/SlotUtility":"SlotUtility"}],UIGameBetCommon:[function(t,e,o){"use strict";cc._RF.push(e,"d70b6D1h7JDOKM0fqlQL2Ja","UIGameBetCommon");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Common/Define/ShareDefine"),a=t("../../script/Game1810/script/AutoTimesButton"),c=t("../../script/Game1810/script/Game1810Mgr"),l=t("../audio/WebAudioEngine"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.timesBtnList=[],e.startAutoBtn=null,e.btnAudio=null,e.goldNum=0,e.winNum=0,e.hasClosed=!1,e}return n(e,t),e.prototype.show=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=e[0],n=e[1],r=e[2];this.goldNum=n,this.winNum=r,this.UpdateAutoBetgoldAmount(i),this.curSelectTimesBtn=null,this.startAutoBtn.interactable=!1,this.startAutoBtn.node.opacity=66,this.timesBtnList.forEach(function(e){return e.onClick=t.onClickTimesBtn.bind(t)}),this.playShowAnim(cc.find("bet_auto",this.node))},e.prototype.onClickTimesBtn=function(t,e){l.default.play(this.btnAudio),t!==this.curSelectTimesBtn&&(this.Rounds=e,this.startAutoBtn.interactable=!0,this.startAutoBtn.node.opacity=255,this.curSelectTimesBtn&&(this.curSelectTimesBtn.getComponent(a.default).isSelect=!1),this.curSelectTimesBtn=t,this.curSelectTimesBtn.getComponent(a.default).isSelect=!0)},e.prototype.playShowAnim=function(t){this.node.getComponent(cc.Widget).updateAlignment(),cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,cc.tween(this.bgNode).to(.2,{opacity:153}).start(),cc.Tween.stopAllByTarget(t);var e=t.getChildByName("ContentNode");cc.Tween.stopAllByTarget(e),e.active=!1;var o=t.getComponent(cc.Widget);o.updateAlignment(),o.enabled=!1,t.position=cc.v3(0,-this.node.height/2-t.height,0),cc.tween(t).to(.2,{position:cc.v3(0,-this.node.height/2,0)}).call(function(){return o.enabled=!0}).delay(.1).call(function(){e.active=!0,e.opacity=0,cc.tween(e).to(.2,{opacity:255}).start()}).start()},e.prototype.addIntegerOfTypeBigSeparator=function(t,e,o,i){var n,r,s=t.toString(),a=s.indexOf("."),c=-1==a?s.length:a;if(o<c){var l=c%o;0==l&&(l=o),n=s.substring(0,l);for(var p=l;p<c;p+=o)n+=i+s.substring(p,p+o)}else n=s.substring(0,c);if(0==e)return n;if(n+=".",-1==a)r=e;else{p=a+1;for(var h=Math.min(s.length,p+e);p<h;p++)n+=s[p];r=(r=s.length-1-a)<e?e-r:0}return n+"0".repeat(r)},e.prototype.UpdateAutoBetgoldAmount=function(t){var e=null!=this.goldNum&&null!=this.goldNum;e&&(cc.find("bet_auto/ContentNode/win_gold/gold/label_gold",this.node).getComponent(cc.Label).string=c.Game1810Mgr.instance.getGameResult().currency+this.addIntegerOfTypeBigSeparator(this.goldNum,2,3,",")),cc.find("bet_auto/ContentNode/win_gold/gold/label_gold",this.node).parent.active=e;var o=null!=this.winNum&&null!=this.winNum;o&&(cc.find("bet_auto/ContentNode/win_gold/win/label_win",this.node).getComponent(cc.Label).string=c.Game1810Mgr.instance.getGameResult().currency+this.addIntegerOfTypeBigSeparator(this.winNum,2,3,",")),cc.find("bet_auto/ContentNode/win_gold/win/label_win",this.node).parent.active=o;var i=null!=t&&null!=t;i&&(cc.find("bet_auto/ContentNode/win_gold/coin/label_gold",this.node).getComponent(cc.Label).string=c.Game1810Mgr.instance.getGameResult().currency+this.addIntegerOfTypeBigSeparator(t,2,3,"")),cc.find("bet_auto/ContentNode/win_gold/coin/label_gold",this.node).parent.active=i},e.prototype.onClickBtn=function(t,e){this.OnClick(t.target.name,t.target,e)},e.prototype.closeView=function(){var t=this;this.hasClosed=!0;var e=cc.find("bet_auto",this.node);e.getComponent(cc.Widget).enabled=!1,cc.tween(e).to(.1,{position:cc.v3(0,-this.node.height/2-e.height,0)}).call(function(){cc.tween(t.bgNode).delay(.1).to(.2,{opacity:0}).call(function(){t.onCloseView&&(t.onCloseView(),t.onCloseView=null),t.node.destroy()}).start()}).start()},e.prototype.OnClick=function(t){if(!this.hasClosed){if("btn_close"==t)return l.default.play(this.btnAudio),void this.closeView();if("bg_mask"!=t)return"btn_confirm"==t?(cc.systemEvent.emit(s.GameCommonEventType.GetRound,this.Rounds),l.default.play(this.btnAudio),void this.closeView()):void 0;this.closeView()}},r([u(cc.Node)],e.prototype,"bgNode",void 0),r([u([a.default])],e.prototype,"timesBtnList",void 0),r([u(cc.Button)],e.prototype,"startAutoBtn",void 0),r([u(cc.AudioClip)],e.prototype,"btnAudio",void 0),r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Common/Define/ShareDefine":"ShareDefine","../../script/Game1810/script/AutoTimesButton":"AutoTimesButton","../../script/Game1810/script/Game1810Mgr":"Game1810Mgr","../audio/WebAudioEngine":"WebAudioEngine"}],UIHisDetail:[function(t,e,o){"use strict";cc._RF.push(e,"f5d7b2xFABLpqRKodlZYEid","UIHisDetail");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../../../script/common_game/SlotGame/SlotUtility"),a=t("../../../../../script/Game1810/script/Game1810Mgr"),c=t("../../../../../script/Game1810/script/VerifyBar"),l=t("./CompHisPage"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadTipNode=null,e.contentBg=null,e.content=null,e.detailPagePrefab=null,e.pageView=null,e.timeLab=null,e.prevPageBtnNode=null,e.nextPageBtnNode=null,e.respinViewNode=null,e.respinListContent=null,e.titleLab=null,e.respinIcon=null,e.verifyBar=null,e}return n(e,t),e.prototype.show=function(t){this.data=t,this.respinViewNode.active=!1,this.isShowRespinListView=!1,this.playLoadAnim()},e.prototype.playLoadAnim=function(){var t=this;this.isPlayLoadAnim=!0,this.content.active=!1,this.loadTipNode.active=!0;var e=0;this.contentBg.position=cc.v3(this.contentBg.parent.width/2+this.contentBg.width/2),e++,cc.tween(this.contentBg).delay(.05).to(.2,{position:cc.Vec3.ZERO},{easing:cc.easing.sineOut}).call(function(){0==--e&&t.onLoadAnimFinish()}).start(),this.loadTipNode.position=cc.v3(this.loadTipNode.parent.width/2+this.loadTipNode.width/2),e++,cc.tween(this.loadTipNode).to(.2,{position:cc.Vec3.ZERO},{easing:cc.easing.sineOut}).call(function(){0==--e&&t.onLoadAnimFinish()}).start()},e.prototype.onLoadAnimFinish=function(){this.isPlayLoadAnim=!1,this.loadTipNode.active=!1,this.content.active=!0,this.initView()},e.prototype.initView=function(){this.updateTime(),this.initRespinList(),this.initPages()},e.prototype.initRespinList=function(){if(this.respinIcon.active=2==this.data.type,1!=this.data.type)for(var t=this.data.result,e=a.Game1810Mgr.instance.getGameResult().currency,o=0;o<t.length;o++){var i=this.respinListContent.children[o];i||((i=cc.instantiate(this.respinListContent.children[0])).parent=this.respinListContent);var n=cc.find("lb_free_rmn",i).getComponent(cc.Label),r=cc.find("lb_free_gld",i).getComponent(cc.Label);if(0==o)n.string=app.i18n.t("Game1810_22"),r.string="-"+e+s.default.formatNumber(this.data.bet_gold);else{n.string=app.i18n.t("Game1810_80")+": "+o+"/"+(t.length-1);var c=Number(t[o].tw);r.string=e+s.default.formatNumber(c)}i.getComponent(cc.Button).clickEvents[0].customEventData=o.toString()}},e.prototype.onClickRespinListItem=function(t,e){this.isPlayRespinListViewAnim||(this.playHideRespinListViewAnim(),this.setCurrentPageIndex(parseInt(e)))},e.prototype.setCurrentPageIndex=function(t){this.curPage=t,this.pageView.scrollToPage(t,0),this.updateRespinItemColor(),this.updatePrevNextPageBtn(),this.updateTitle()},e.prototype.updateTitle=function(){this.titleLab.string=0==this.curPage?app.i18n.t("Game1810_22"):app.i18n.t("Game1810_80")+":"+this.curPage+"/"+(this.data.result.length-1)},e.prototype.updateRespinItemColor=function(){for(var t=this.respinListContent.children,e=cc.color(255,200,36),o=0;o<t.length;o++)cc.find("lb_free_rmn",t[o]).color=o==this.curPage?e:cc.Color.WHITE,cc.find("lb_free_gld",t[o]).color=o==this.curPage?e:cc.Color.WHITE},e.prototype.updateTime=function(){var t=new Date(1e3*this.data.time),e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),n=t.getHours(),r=t.getMinutes(),a=o<10?"0"+o:o.toString(),c=i<10?"0"+i:i.toString(),l=n<10?"0"+n:n.toString(),p=r<10?"0"+r:r.toString(),h=s.default.getTimeZoneGMT();this.timeLab.string=e+"/"+a+"/"+c+" "+l+":"+p+" "+h},e.prototype.initPages=function(){for(var t=this.data.result,e=0;e<t.length;e++){var o=cc.instantiate(this.detailPagePrefab);o.position=cc.Vec3.ZERO,this.pageView.addPage(o),o.getComponent(l.CompHisPage).updateView(this.data,e)}this.setCurrentPageIndex(0)},e.prototype.updatePrevNextPageBtn=function(){this.prevPageBtnNode.active=this.curPage>0,this.nextPageBtnNode.active=this.curPage<this.data.result.length-1},e.prototype.onClickBtnPrevPage=function(){this.curPage<=0||(this.curPage--,this.pageView.scrollToPage(this.curPage,.6),this.updatePrevNextPageBtn(),this.updateRespinItemColor(),this.updateTitle())},e.prototype.onClickBtnNextPage=function(){this.curPage>=this.data.result.length-1||(this.curPage++,this.pageView.scrollToPage(this.curPage,.6),this.updatePrevNextPageBtn(),this.updateRespinItemColor(),this.updateTitle())},e.prototype.onClickClsoeBtn=function(){var t=this;if(!this.isPlayCloseAnim){this.isPlayCloseAnim=!0;var e=cc.v3(this.node.parent.width/2+this.node.width/2);cc.tween(this.node).to(.2,{position:e}).call(function(){t.node.destroy()}).start()}},e.prototype.onClickTitleBtn=function(){this.isPlayRespinListViewAnim||1!=this.data.type&&(this.isShowRespinListView?this.playHideRespinListViewAnim():this.playShowRespinListViewAnim())},e.prototype.playShowRespinListViewAnim=function(){var t=this;this.isShowRespinListView=!0,this.isPlayRespinListViewAnim=!0,this.respinViewNode.active=!0;var e=this.respinViewNode.getComponent(cc.Widget);e.updateAlignment(),e.enabled=!1,this.respinViewNode.position=cc.v3(0,this.respinViewNode.parent.height/2+this.respinViewNode.height/2),cc.tween(this.respinViewNode).to(.2,{position:cc.Vec3.ZERO}).call(function(){e.enabled=!0,t.isPlayRespinListViewAnim=!1}).start(),this.respinIcon.angle=180},e.prototype.playHideRespinListViewAnim=function(){var t=this;this.isShowRespinListView=!1,this.isPlayRespinListViewAnim=!0,this.respinViewNode.getComponent(cc.Widget).enabled=!1;var e=cc.v3(0,this.respinViewNode.parent.height/2+this.respinViewNode.height/2);cc.tween(this.respinViewNode).to(.2,{position:e}).call(function(){t.respinViewNode.getComponent(cc.Widget).enabled=!0,t.respinViewNode.active=!1,t.isPlayRespinListViewAnim=!1}).start(),this.respinIcon.angle=0},r([u(cc.Node)],e.prototype,"loadTipNode",void 0),r([u(cc.Node)],e.prototype,"contentBg",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([u(cc.Prefab)],e.prototype,"detailPagePrefab",void 0),r([u(cc.PageView)],e.prototype,"pageView",void 0),r([u(cc.Label)],e.prototype,"timeLab",void 0),r([u(cc.Node)],e.prototype,"prevPageBtnNode",void 0),r([u(cc.Node)],e.prototype,"nextPageBtnNode",void 0),r([u(cc.Node)],e.prototype,"respinViewNode",void 0),r([u(cc.Node)],e.prototype,"respinListContent",void 0),r([u(cc.Label)],e.prototype,"titleLab",void 0),r([u(cc.Node)],e.prototype,"respinIcon",void 0),r([u(c.default)],e.prototype,"verifyBar",void 0),r([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../../../script/Game1810/script/Game1810Mgr":"Game1810Mgr","../../../../../script/Game1810/script/VerifyBar":"VerifyBar","../../../../../script/common_game/SlotGame/SlotUtility":"SlotUtility","./CompHisPage":"CompHisPage"}],UINameDefine:[function(t,e,o){"use strict";cc._RF.push(e,"00402xmfIBE7KYIR0MHW+2x","UINameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.UINameDefine=void 0;var i=function(){function t(){}return t.UIMessage="UIMessage",t.UIForcedKick="UIForcedKick",t.UIToast="UIToast",t.UILaunchNotice="UILaunchNotice",t.UIFreeWindow="UIFreeWindow",t.UIGameHintWindow="UIGameHintWindow",t.UIGameHelp="UIGameHelp",t.UIMiniGameHelp="UIMiniGameHelp",t.UIBG="UIBG",t.UIKeyBoard="UIKeyBoard",t.UILimit="UILimit",t.UIFail="UIFail",t.UILoadingFail="UILoadingFail",t.UIGameAutoSetting="UIGameAutoSetting",t.UIGameHistory="UIGameHistory",t}();o.UINameDefine=i,cc._RF.pop()},{}],UIRoot:[function(t,e,o){"use strict";cc._RF.push(e,"00f46WhlMNLYY63J8SZomWJ","UIRoot");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Base/BaseComponent"),a=t("./Define/GameEventDefine"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MoveStatus=!0,e}return n(e,t),e.prototype.OnLoad=function(){this.JS_Name="UIRoot",app.Client.RegEvent(a.GameEventDefine.UpdateMoveStatus,this.OnUpdateMoveStatus,this)},e.prototype.OnUpdateMoveStatus=function(t){this.MoveStatus=t},e.prototype.OnMouseDown=function(t){app.Client.OnEvent(a.GameEventDefine.OnMouseDown,t)},e.prototype.OnMouseUp=function(t){app.Client.OnEvent(a.GameEventDefine.OnMouseUp,t)},e.prototype.OnMouseMove=function(t){this.MoveStatus&&app.Client.OnEvent(a.GameEventDefine.OnMouseMove,t)},e.prototype.OnMouseWheel=function(t){app.Client.OnEvent(a.GameEventDefine.OnMouseWheel,t)},e.prototype.InitLayer=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnMouseDown,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this.OnMouseUp,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnMouseUp,this,!0),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this,!0)},r([l],e)}(s.default));o.default=p,cc._RF.pop()},{"./Base/BaseComponent":"BaseComponent","./Define/GameEventDefine":"GameEventDefine"}],UIScrollSelectX:[function(t,e,o){"use strict";cc._RF.push(e,"d626esPsNJBubaV7t6uvjbg","UIScrollSelectX");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIScrollSelectX=void 0;var s=t("../Define/GameEventDefine"),a=t("../Define/ShareDefine"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.circlePage=!0,e.leftBtn=null,e.rightBtn=null,e.deltaX=100,e.centerScale=1,e.minScale=.5,e.scrollSpeed=300,e.toMoveLeft=!0,e.selectEvents=[],e.childs=[],e.isTouching=!1,e.hasTouchMove=!1,e.isTest=!1,e._touchId=null,e.currentIndex=0,e._toMove=1,e._toMoveDir=-1,e.dPos=0,e.moveAim=0,e}return n(e,t),e.prototype.onLoad=function(){this.content.on(cc.Node.EventType.TOUCH_START,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_MOVE,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.content.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this._toMoveDir=this.toMoveLeft?-1:1},e.prototype.initChildren=function(t){this.childs=[];for(var e=0;e<this.content.children.length;e++)this.childs[e]=this.content.children[e],this.childs[e].name=""+e,this.childs[e].position=cc.v3(this.deltaX*(e-1),this.childs[e].position.y,0);this.isTouching=!1,this.hasTouchMove=!1,this.isTest=!1,this._touchId=null,this.scrollTo(t,!1)},e.prototype.scrollTo=function(t,e){if(void 0===e&&(e=!0),t<0&&t>=this.childs.length)return console.error(this.node.name+"->out");if(this.currentIndex=t,this.moveAim=t,e)cc.Component.EventHandler.emitEvents(this.selectEvents,{type:a.ScrollEventType.SCROLL_START,index:this.currentIndex});else for(var o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],(o-t)*this.deltaX)},e.prototype.checkScroll=function(){return this.content.children.length>1},e.prototype.scrollToLeft=function(){this.checkScroll()&&(this._toMove=1,this.scrollTo((this.currentIndex-1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},e.prototype.scrollToRight=function(){this.checkScroll()&&(this._toMove=-1,this.scrollTo((this.currentIndex+1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},e.prototype._setPageBtnsStatus=function(){var t=this.currentIndex>=this.childs.length-1;!this.circlePage&&t?this.rightBtn&&(this.rightBtn.interactable=!1):this.rightBtn&&(this.rightBtn.interactable=!0);var e=this.currentIndex<=0;!this.circlePage&&e?this.leftBtn&&(this.leftBtn.interactable=!1):this.leftBtn&&(this.leftBtn.interactable=!0)},e.prototype._checkChildX=function(t,e){this.circlePage&&(e>this.childs.length/2*this.deltaX?e-=this.childs.length*this.deltaX:e<-this.childs.length/2*this.deltaX&&(e+=this.childs.length*this.deltaX)),t.position=cc.v3(e,t.position.y,t.position.z),cc.log("child.position,"+t.position.x+"      name "+t.name);var o=(1-Math.min(Math.abs(e),this.deltaX)/this.deltaX)*(this.centerScale-this.minScale)+this.minScale;t.scale=o},e.prototype._onTouch=function(t){null!=this._touchId&&t.touch!=this._touchId||!this.checkScroll()||(app.Client.OnEvent(s.GameEventDefine.UPDATE_SCROLLVIEW_ENABLE,!1),this.TouchX(t))},e.prototype.TouchX=function(t){if(t.type!=cc.Node.EventType.TOUCH_START){this.hasTouchMove=!0;var e=t.getLocation().x-this.dPos;this._move(e),this.dPos=t.getLocation().x;var o={type:a.ScrollEventType.SCROLL_ING,dx:this.dPos};cc.Component.EventHandler.emitEvents(this.selectEvents,o)}else{this.isTouching=!0,this.hasTouchMove=!1,this.isTest=!1,this._touchId=t.touch,this.dPos=t.getLocation().x;var i={target:this,type:a.ScrollEventType.SCROLL_START,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,i)}},e.prototype._isMoveEdge=function(){return{left:this.childs[0].position.x>=0,right:this.childs[this.childs.length-1].position.x<=0}},e.prototype._onTouchEnd=function(t){if(app.Client.OnEvent(s.GameEventDefine.UPDATE_SCROLLVIEW_ENABLE,!0),(null==this._touchId||t.touch==this._touchId)&&this.checkScroll()){if(this.isTouching=!1,t.type!=cc.Node.EventType.TOUCH_END&&t.type!=cc.Node.EventType.TOUCH_CANCEL||(this._touchId=null),!this.circlePage){var e=this._isMoveEdge();if(e.right)return;if(e.left)return}var o=this.node.convertToNodeSpaceAR(t.getLocation());this.TouchEndX(o)}},e.prototype.TouchEndX=function(t){if(this.hasTouchMove){for(var e=this.deltaX,o=0,i=0;i<this.childs.length;i++)Math.abs(this.childs[i].position.x)<=e&&(e=Math.abs(this.childs[i].position.x),o=i);this.moveAim=o,this._toMove=this.childs[o].position.x>=0?-1:1,this.isTest=!0}else{var n=Math.ceil((t.x-this.deltaX/2)/this.deltaX);if(0===n){var r={type:a.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,r)}else this.moveAim=(this.currentIndex+n+this.childs.length)%this.childs.length,this._toMove=n>0?-1:1,this.isTest=!0}},e.prototype._move=function(t){if(0!==t){if(!this.circlePage){var e=this._isMoveEdge();if(t<0&&e.right)return;if(t>0&&e.left)return}for(var o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],this.childs[o].position.x+t)}},e.prototype.MovePlayAnim=function(){},e.prototype.update=function(t){if(!this.isTouching&&this.isTest){for(var e=this._toMove*t*this.scrollSpeed,o=this.childs[this.moveAim].position.x,i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.x+e);var n=this.childs[0].position.x,r=this.childs[this.moveAim].position.x;if(o*r<0&&Math.abs(r)<this.deltaX){this.isTest=!1;var s=Math.round(n/this.deltaX),c=this.deltaX*s;for(i=0;i<this.childs.length;i++)if(Math.abs(this.childs[i].position.x)<=Math.abs(e)){this.currentIndex=i;break}for(i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.x+c-n);var l={type:a.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,l)}}},r([p(cc.Node)],e.prototype,"content",void 0),r([p({tooltip:"\u662f\u5426\u65e0\u9650\u7ffb\u9875"})],e.prototype,"circlePage",void 0),r([p({type:cc.Button,tooltip:"\u5de6\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],e.prototype,"leftBtn",void 0),r([p({type:cc.Button,tooltip:"\u53f3\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],e.prototype,"rightBtn",void 0),r([p({tooltip:"\u5355\u4e2a\u63a7\u4ef6\u4e4b\u95f4x\u7684\u8ddd\u79bb"})],e.prototype,"deltaX",void 0),r([p({tooltip:"\u4e2d\u5fc3\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],e.prototype,"centerScale",void 0),r([p({tooltip:"\u8fb9\u7f18\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],e.prototype,"minScale",void 0),r([p({tooltip:"\u6eda\u52a8\u65f6\u7684\u901f\u5ea6"})],e.prototype,"scrollSpeed",void 0),r([p({tooltip:"\u52a8\u753b\u79fb\u52a8\u65b9\u5411\u9ed8\u8ba4\u5de6"})],e.prototype,"toMoveLeft",void 0),r([p({type:cc.Component.EventHandler,tooltip:"\u9009\u62e9\u540e\u7684\u56de\u8c03"})],e.prototype,"selectEvents",void 0),r([l,h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollSelectX")],e)}(cc.Component);o.UIScrollSelectX=u,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine","../Define/ShareDefine":"ShareDefine"}],UIScrollSelect:[function(t,e,o){"use strict";cc._RF.push(e,"522ac72ns1NSrzMmSgpESWl","UIScrollSelect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIScrollSelect=void 0;var s=t("../Define/ShareDefine"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.circlePage=!0,e.leftBtn=null,e.rightBtn=null,e.deltaY=90,e.centerScale=1,e.minScale=.5,e.scrollSpeed=300,e.selectEvents=[],e.childs=[],e.isTouching=!1,e.hasTouchMove=!1,e.isTest=!1,e._touchId=null,e.currentIndex=0,e._toMoveY=1,e.dy=0,e.moveAim=0,e}return n(e,t),e.prototype.onLoad=function(){this.content.on(cc.Node.EventType.TOUCH_START,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_MOVE,this._onTouch,this),this.content.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.content.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this)},e.prototype.initChildren=function(t){this.childs=[];for(var e=0;e<this.content.children.length;e++)this.childs[e]=this.content.children[e],this.childs[e].position=cc.v3(this.childs[e].position.x,this.deltaY*(e-1),0);this.isTouching=!1,this.hasTouchMove=!1,this.isTest=!1,this._touchId=null,this.scrollTo(t,!1)},e.prototype.scrollTo=function(t,e){if(void 0===e&&(e=!0),t<0&&t>=this.childs.length)return console.error(this.node.name+"->out");if(this.currentIndex=t,this.moveAim=t,e)this.isTest=!0,cc.Component.EventHandler.emitEvents(this.selectEvents,{type:s.ScrollEventType.SCROLL_START,index:this.currentIndex});else for(var o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],(o-t)*this.deltaY)},e.prototype.checkScroll=function(){return this.content.children.length>1},e.prototype.scrollToLeft=function(){this.checkScroll()&&(this._toMoveY=1,this.scrollTo((this.currentIndex-1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},e.prototype.scrollToRight=function(){this.checkScroll()&&(this._toMoveY=-1,this.scrollTo((this.currentIndex+1+this.childs.length)%this.childs.length),this._setPageBtnsStatus())},e.prototype._setPageBtnsStatus=function(){var t=this.currentIndex>=this.childs.length-1;!this.circlePage&&t?this.rightBtn&&(this.rightBtn.interactable=!1):this.rightBtn&&(this.rightBtn.interactable=!0);var e=this.currentIndex<=0;!this.circlePage&&e?this.leftBtn&&(this.leftBtn.interactable=!1):this.leftBtn&&(this.leftBtn.interactable=!0)},e.prototype._checkChildX=function(t,e){this.circlePage&&(e>this.childs.length/2*this.deltaY?e-=this.childs.length*this.deltaY:e<-this.childs.length/2*this.deltaY&&(e+=this.childs.length*this.deltaY)),t.position=cc.v3(t.position.x,e,t.position.z);var o=(1-Math.min(Math.abs(e),this.deltaY)/this.deltaY)*(this.centerScale-this.minScale)+this.minScale;t.scale=o},e.prototype._onTouch=function(t){if((null==this._touchId||t.touch==this._touchId)&&this.checkScroll())if(t.type!=cc.Node.EventType.TOUCH_START){this.hasTouchMove=!0;var e=t.getLocation().y-this.dy;this._move(e),this.dy=t.getLocation().y;var o={type:s.ScrollEventType.SCROLL_ING,dx:this.dy};cc.Component.EventHandler.emitEvents(this.selectEvents,o)}else{this.isTouching=!0,this.hasTouchMove=!1,this.isTest=!1,this._touchId=t.touch,this.dy=t.getLocation().y;var i={type:s.ScrollEventType.SCROLL_START,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,i)}},e.prototype._isMoveEdge=function(){return{left:this.childs[0].position.y>=0,right:this.childs[this.childs.length-1].position.y<=0}},e.prototype._onTouchEnd=function(t){if((null==this._touchId||t.touch==this._touchId)&&this.checkScroll()){if(this.isTouching=!1,t.type!=cc.Node.EventType.TOUCH_END&&t.type!=cc.Node.EventType.TOUCH_CANCEL||(this._touchId=null),!this.circlePage){var e=this._isMoveEdge();if(e.right)return;if(e.left)return}var o=this.node.convertToNodeSpaceAR(t.getLocation());if(this.hasTouchMove){for(var i=this.deltaY,n=0,r=0;r<this.childs.length;r++)Math.abs(this.childs[r].position.y)<=i&&(i=Math.abs(this.childs[r].position.y),n=r);this.moveAim=n,this._toMoveY=this.childs[n].position.y>=0?-1:1,this.isTest=!0}else{var a=Math.ceil((o.y-this.deltaY/2)/this.deltaY);if(0===a){var c={type:s.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,c)}else this.moveAim=(this.currentIndex+a+this.childs.length)%this.childs.length,this._toMoveY=a>0?-1:1,this.isTest=!0}}},e.prototype._move=function(t){if(0!==t){if(!this.circlePage){var e=this._isMoveEdge();if(t<0&&e.right)return;if(t>0&&e.left)return}for(var o=0;o<this.childs.length;o++)this._checkChildX(this.childs[o],this.childs[o].position.y+t)}},e.prototype.update=function(t){if(!this.isTouching&&this.isTest){for(var e=this._toMoveY*t*this.scrollSpeed,o=this.childs[this.moveAim].position.y,i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.y+e);var n=this.childs[0].position.y,r=Math.round(n/this.deltaY),a=this.deltaY*r,c=this.childs[this.moveAim].position.y;if(o*c<0&&Math.abs(c)<this.deltaY){for(this.isTest=!1,i=0;i<this.childs.length;i++)if(Math.abs(this.childs[i].position.y)<=Math.abs(e)){this.currentIndex=i;break}for(i=0;i<this.childs.length;i++)this._checkChildX(this.childs[i],this.childs[i].position.y+a-n);var l={type:s.ScrollEventType.SCROLL_END,index:this.currentIndex};cc.Component.EventHandler.emitEvents(this.selectEvents,l)}}},r([l(cc.Node)],e.prototype,"content",void 0),r([l({tooltip:"\u662f\u5426\u65e0\u9650\u7ffb\u9875"})],e.prototype,"circlePage",void 0),r([l({type:cc.Button,tooltip:"\u5de6\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],e.prototype,"leftBtn",void 0),r([l({type:cc.Button,tooltip:"\u53f3\u8fb9\u6309\u94ae",visible:function(){return!this.circlePage}})],e.prototype,"rightBtn",void 0),r([l({tooltip:"\u5355\u4e2a\u63a7\u4ef6\u4e4b\u95f4\u7684\u8ddd\u79bb"})],e.prototype,"deltaY",void 0),r([l({tooltip:"\u4e2d\u5fc3\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],e.prototype,"centerScale",void 0),r([l({tooltip:"\u8fb9\u7f18\u70b9\u7684\u7f29\u653e\u6bd4\u4f8b"})],e.prototype,"minScale",void 0),r([l({tooltip:"\u6eda\u52a8\u65f6\u7684\u901f\u5ea6"})],e.prototype,"scrollSpeed",void 0),r([l({type:cc.Component.EventHandler,tooltip:"\u9009\u62e9\u540e\u7684\u56de\u8c03"})],e.prototype,"selectEvents",void 0),r([c,p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollSelect")],e)}(cc.Component);o.UIScrollSelect=h,cc._RF.pop()},{"../Define/ShareDefine":"ShareDefine"}],UIScrollViewItem:[function(t,e,o){"use strict";cc._RF.push(e,"ff11cOG/q5JQJQqaciEDEZY","UIScrollViewItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Define/GameEventDefine"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.disallowMultiple,h=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Vertical_Angle=15,e.Horizontal_Angle=45,e.isNest=!0,e}return n(e,t),e.prototype.onLoad=function(){app.Client.RegEvent(s.GameEventDefine.SCROLLVIEW_DIRECTION,this._ScrollViewEnabled,this)},e.prototype._onTouchBegan=function(e,o){this.startPosition=e.touch.getLocation(),t.prototype._onTouchBegan.call(this,e,o)},e.prototype._onTouchMoved=function(e,o){var i=e.touch.getLocation(),n=this.horizontal?this.GetIsVertical(i):this.GetIsHorizontal(i);this._ScrollViewEnabled(!n),t.prototype._onTouchMoved.call(this,e,o)},e.prototype.GetIsVertical=function(t){var e=app.MathUtil().angle(this.startPosition,t);return 90-Math.abs(e)<=this.Vertical_Angle},e.prototype.GetIsHorizontal=function(t){var e=app.MathUtil().angle(this.startPosition,t);return Math.abs(e)<=this.Horizontal_Angle},e.prototype._ScrollViewEnabled=function(t){this.isNest&&(this.enabled=t)},r([l({tooltip:"\u6c34\u5e73\u6a21\u5f0f\u7684\u5782\u76f4\u6ed1\u52a8\u7684\u89d2\u5ea6\u8303\u56f4"})],e.prototype,"Vertical_Angle",void 0),r([l({tooltip:"\u5782\u76f4\u6a21\u5f0f\u7684\u6c34\u5e73\u6ed1\u52a8\u7684\u89d2\u5ea6\u8303\u56f4"})],e.prototype,"Horizontal_Angle",void 0),r([l({tooltip:"\u662f\u5426\u5d4c\u5957\u6a21\u5f0f,\u652f\u63014\u4e2a\u65b9\u5411\u6ed1\u52a8,\u9ed8\u8ba4\u5d4c\u5957"})],e.prototype,"isNest",void 0),r([c,p(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollViewItem")],e)}(cc.ScrollView);o.default=u,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine"}],UIScrollview:[function(t,e,o){"use strict";cc._RF.push(e,"d590b6t53JE7ZIVtheXBYMo","UIScrollview");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../Define/GameEventDefine"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.disallowMultiple,h=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollSpeed=1,e.scrollY=0,e.onceTag=!1,e.beginTime=0,e.down=!1,e._deltaMove=new cc.Vec2(0,0),e}return n(e,t),e.prototype._onTouchEnded=function(e,o){app.Client.OnEvent(s.GameEventDefine.SCROLLVIEW_DIRECTION,!0),t.prototype._onTouchEnded.call(this,e,o)},e.prototype._onTouchCancelled=function(e,o){app.Client.OnEvent(s.GameEventDefine.SCROLLVIEW_DIRECTION,!0),t.prototype._onTouchCancelled.call(this,e,o)},r([l(cc.Integer)],e.prototype,"scrollSpeed",void 0),r([c,p(),h("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/UIScrollView")],e)}(cc.ScrollView);o.default=u,cc._RF.pop()},{"../Define/GameEventDefine":"GameEventDefine"}],UIhistory:[function(t,e,o){"use strict";cc._RF.push(e,"54713LNUxxE94a4/8MxcMmz","UIhistory");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIhistory=void 0;var s=t("../../../bundles/games/common/PGGameRes/history/UIHisDetail"),a=t("../../../Common/Component/List"),c=t("../../common_game/SlotGame/SlotUtility"),l=t("./Game1810Define"),p=t("./Game1810HistoryItem"),h=t("./Game1810Mgr"),u=t("./UIselectdate"),d=t("./VerifyBar"),f=cc._decorator,m=f.ccclass,y=f.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grayBg=null,e.loadingTextNode=null,e.loadingSkeleton=null,e.contentBg=null,e.content=null,e.noDataTip=null,e.recordList=null,e.betAmountTitleLab=null,e.profitTitleLab=null,e.timeZoneLab=null,e.totalBetAmountLab=null,e.totalProfitLab=null,e.firstEnterTip=null,e.recordCountLab=null,e.reqNextPageTipNode=null,e.noMorePageTipNode=null,e.selectDateView=null,e.dateRangeLabList=[],e.historyDetailPrefab=null,e.detailViewParent=null,e.verifyBar=null,e.viewNodeMoveDuration=.2,e}return n(e,t),e.prototype.start=function(){cc.systemEvent.on(l.Game1810HttpAPI.History,this.onHistory,this),cc.systemEvent.on(l.Game1810Event.game1810ReqHistoryFail,this.onHistoryFail,this),cc.systemEvent.on(l.Game1810Event.game1810HistorySelectDate,this.onSelectDate,this),this.recordList.node.on("scroll-to-bottom",this.onScrollToBottom,this),this.curSelectType=0,this.isPlayCloseAnim=!1,this.isPlaySelectDateLoadAnim=!1,this.scrollView=this.recordList.getComponent(cc.ScrollView),this.viewNode=this.scrollView.content.parent,this.timeZoneLab.string=c.default.getTimeZoneGMT();var t=h.Game1810Mgr.instance.getGameResult().currency;this.betAmountTitleLab.string=app.i18n.t("Game1810_30")+"("+t+")",this.profitTitleLab.string=app.i18n.t("Game1810_51")+"("+t+")",this.playLoadAnim(),this.reqHistoryFirstPage()},e.prototype.setVerifyBarIsFolded=function(t){this.isVerifyBarFolded=t,this.verifyBar.setIsFoled(t)},e.prototype.onScrollToBottom=function(){var t=this;if(cc.log("onScrollToBottom"),!this.isPlayCloseAnim&&!this.isPlayLoadAnim&&!(this.isPlaySelectDateLoadAnim||this.isViewNodeMoveUp||this.isViewNodeMoveDown||this.isReqData)){this.scrollView.enabled=!1,this.recordList.enabled=!1,this.isViewNodeMoveUp=!0;var e=cc.tween(this.viewNode).by(this.viewNodeMoveDuration,{position:cc.v3(0,200)}).delay(.5).call(function(){t.isViewNodeMoveUp=!1});if(this.pageIdx>=this.data.pageCount)return cc.log("it's the last page"),this.noMorePageTipNode.active=!0,void e.call(function(){t.moveDownViewNode()}).start();this.reqNextPageTipNode.active=!0,e.call(function(){t.isReqData||(t.moveDownViewNode(),t.updateView())}).start(),this.reqHistoryNextPage()}},e.prototype.onDestroy=function(){cc.systemEvent.off(l.Game1810HttpAPI.History,this.onHistory,this),cc.systemEvent.off(l.Game1810Event.game1810ReqHistoryFail,this.onHistoryFail,this),cc.systemEvent.off(l.Game1810Event.game1810HistorySelectDate,this.onSelectDate,this)},e.prototype.reqHistoryFirstPage=function(){this.isReqData=!0,this.pageIdx=1,this.reqHistory()},e.prototype.reqHistoryNextPage=function(){this.isReqData=!0,this.pageIdx++,this.reqHistory()},e.prototype.reqHistory=function(){cc.log("request page "+this.pageIdx),h.Game1810Mgr.instance.reqDayHistory(this.pageIdx,this.curSelectType,this.startDate,this.endDate)},e.prototype.moveDownViewNode=function(){var t=this;this.isViewNodeMoveDown=!0,cc.tween(this.viewNode).to(this.viewNodeMoveDuration,{position:cc.v3(0,this.recordList.node.height/2)}).call(function(){t.isViewNodeMoveDown=!1,t.scrollView.enabled=!0,t.recordList.enabled=!0,t.noMorePageTipNode.active=!1,t.reqNextPageTipNode.active=!1}).start()},e.prototype.onHistory=function(t){var e=this;this.isPlayCloseAnim||cc.isValid(this.node,!0)&&cc.isValid(this,!0)&&(cc.log("request page "+this.pageIdx+" success"),this.isReqData=!1,1==this.pageIdx?this.data=t:t.list.forEach(function(t){e.data.list.push(t)}),this.isPlayLoadAnim||this.isPlaySelectDateLoadAnim||(this.pageIdx>1&&!this.isViewNodeMoveUp&&this.moveDownViewNode(),this.updateView()))},e.prototype.onHistoryFail=function(){cc.log("request page "+this.pageIdx+" fail"),this.isReqData=!1},e.prototype.playLoadAnim=function(){var t=this;this.isPlayLoadAnim=!0,this.content.active=!1;var e=0,o=this.contentBg.getComponent(cc.Widget);o.updateAlignment(),o.enabled=!1,this.contentBg.position=cc.v3(0,-this.contentBg.parent.height/2-this.contentBg.height/2),e++,cc.tween(this.contentBg).to(.3,{position:cc.Vec3.ZERO},{easing:cc.easing.sineOut}).call(function(){o.enabled=!0,0==--e&&t.onLoadAnimFinish()}).start();var i=this.loadingTextNode.parent;i.active=!0,i.position=cc.v3(0,-i.parent.height/2-i.height/2),this.loadingSkeleton.node.position=cc.v3(0,50),this.loadingTextNode.position=cc.v3(0,-80),e++,cc.tween(i).to(.4,{position:cc.Vec3.ZERO},{easing:cc.easing.sineOut}).call(function(){cc.tween(t.loadingTextNode).to(.05,{position:cc.v3(0,-50)}).call(function(){0==--e&&t.onLoadAnimFinish()}).start()}).start(),this.grayBg.opacity=0,e++,cc.tween(this.grayBg).to(.2,{opacity:160}).call(function(){0==--e&&t.onLoadAnimFinish()}).start()},e.prototype.checkFirstEnter=function(){h.Game1810Mgr.instance.firstEnterHistoryView&&(h.Game1810Mgr.instance.firstEnterHistoryView=!1,this.firstEnterTip.active=!0,cc.tween(this.firstEnterTip).delay(4).to(.3,{opacity:0}).start())},e.prototype.onLoadAnimFinish=function(){this.isPlayLoadAnim=!1,this.isPlaySelectDateLoadAnim=!1,this.checkFirstEnter(),this.isReqData||this.updateView()},e.prototype.updateView=function(){this.loadingTextNode.parent.active=!1,this.content.active=!0,this.noDataTip.active=0==this.data.list.length,this.recordList.numItems=this.data.list.length;var t,e=Number(this.data.statistics.total_bet_gold),o=Number(this.data.statistics.total_change_gold),i=h.Game1810Mgr.instance.getGameResult().currency,n=""+i+c.default.formatNumber(e),r=""+i+c.default.formatNumber(Math.abs(o));o<0&&(r="-"+r),this.totalBetAmountLab.string=n,this.totalProfitLab.string=r,this.recordCountLab.string=app.i18n.t("Game1810_59",{S1:this.data.pageTotal}),t=0==this.curSelectType?app.i18n.t("Game1810_57"):1==this.curSelectType?app.i18n.t("Game1810_58"):this.getYYYYMMDDStr(this.startDate)+"-"+this.getYYYYMMDDStr(this.endDate),this.dateRangeLabList.forEach(function(e){return e.string=t})},e.prototype.getYYYYMMDDStr=function(t){var e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return e+"/"+(o<10?"0"+o:o.toString())+"/"+(i<10?"0"+i:i.toString())},e.prototype.onUpdateItem=function(t,e){var o=t.getComponent(p.default);o.onClick=this.onClickHistoryItem.bind(this,e),o.init(this.data.list[e],e)},e.prototype.onClickHistoryItem=function(t){var e=cc.instantiate(this.historyDetailPrefab);e.position=cc.Vec3.ZERO,e.parent=this.detailViewParent,e.getComponent(s.default).show(this.data.list[t],!1)},e.prototype.destroyView=function(){this.onCloseView&&this.onCloseView(),this.node.destroy()},e.prototype.onClickCloseBtn=function(){var t=this;if(!this.isPlayLoadAnim&&!this.isPlaySelectDateLoadAnim&&!this.isPlayCloseAnim){this.isPlayCloseAnim=!0;var e=0,o=cc.v3(0,-this.contentBg.parent.height/2-this.contentBg.height/2);e++,cc.tween(this.contentBg).to(.3,{position:o},{easing:cc.easing.sineOut}).call(function(){0==--e&&t.destroyView()}).start(),e++,cc.tween(this.grayBg).to(.3,{opacity:0}).call(function(){0==--e&&t.destroyView()}).start()}},e.prototype.onClickSelectDateBtn=function(){this.isViewNodeMoveUp||this.isViewNodeMoveDown||this.isReqData||this.isPlayCloseAnim||this.isPlayLoadAnim||this.isPlaySelectDateLoadAnim||this.selectDateView.show(this.curSelectType)},e.prototype.onSelectDate=function(t,e,o){this.isViewNodeMoveUp||this.isViewNodeMoveDown||this.isReqData||this.isPlayCloseAnim||this.isPlayLoadAnim||this.isPlaySelectDateLoadAnim||(this.curSelectType=t,this.startDate=e,this.endDate=o,this.playSelectDateLoadAnim(),this.reqHistoryFirstPage())},e.prototype.playSelectDateLoadAnim=function(){var t=this;this.isPlaySelectDateLoadAnim=!0,this.content.active=!1,this.loadingTextNode.parent.active=!0,this.loadingTextNode.parent.opacity=0,cc.tween(this.loadingTextNode.parent).to(.3,{opacity:255}).call(function(){t.onLoadAnimFinish()}).start()},r([y(cc.Node)],e.prototype,"grayBg",void 0),r([y(cc.Node)],e.prototype,"loadingTextNode",void 0),r([y(sp.Skeleton)],e.prototype,"loadingSkeleton",void 0),r([y(cc.Node)],e.prototype,"contentBg",void 0),r([y(cc.Node)],e.prototype,"content",void 0),r([y(cc.Node)],e.prototype,"noDataTip",void 0),r([y(a.default)],e.prototype,"recordList",void 0),r([y(cc.Label)],e.prototype,"betAmountTitleLab",void 0),r([y(cc.Label)],e.prototype,"profitTitleLab",void 0),r([y(cc.Label)],e.prototype,"timeZoneLab",void 0),r([y(cc.Label)],e.prototype,"totalBetAmountLab",void 0),r([y(cc.Label)],e.prototype,"totalProfitLab",void 0),r([y(cc.Node)],e.prototype,"firstEnterTip",void 0),r([y(cc.Label)],e.prototype,"recordCountLab",void 0),r([y(cc.Node)],e.prototype,"reqNextPageTipNode",void 0),r([y(cc.Node)],e.prototype,"noMorePageTipNode",void 0),r([y(u.UISelectDate)],e.prototype,"selectDateView",void 0),r([y([cc.Label])],e.prototype,"dateRangeLabList",void 0),r([y(cc.Prefab)],e.prototype,"historyDetailPrefab",void 0),r([y(cc.Node)],e.prototype,"detailViewParent",void 0),r([y(d.default)],e.prototype,"verifyBar",void 0),r([m],e)}(cc.Component);o.UIhistory=g,cc._RF.pop()},{"../../../Common/Component/List":"List","../../../bundles/games/common/PGGameRes/history/UIHisDetail":"UIHisDetail","../../common_game/SlotGame/SlotUtility":"SlotUtility","./Game1810Define":"Game1810Define","./Game1810HistoryItem":"Game1810HistoryItem","./Game1810Mgr":"Game1810Mgr","./UIselectdate":"UIselectdate","./VerifyBar":"VerifyBar"}],UIselectdate:[function(t,e,o){"use strict";cc._RF.push(e,"343577xSFxN5Jmpt/Lca9ks","UIselectdate");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UISelectDate=void 0;var s=t("../../../bundles/games/common/PGGameRes/script/PgEvent"),a=t("./Game1810Define"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.todayBtnTextNode=null,e.sevenDayBtnTextNode=null,e.customBtnTextNode=null,e.selectCustomDateViewPrefab=null,e.selectCustomDateViewParent=null,e}return n(e,t),e.prototype.onEnable=function(){cc.systemEvent.on(s.pgGameEvent.close_his_selectdate_view,this.onSelectCustomDate,this)},e.prototype.onDisable=function(){cc.systemEvent.off(s.pgGameEvent.close_his_selectdate_view,this.onSelectCustomDate,this)},e.prototype.onSelectCustomDate=function(t,e){this.hide(),cc.systemEvent.emit(a.Game1810Event.game1810HistorySelectDate,2,t,e)},e.prototype.show=function(t){this.node.active=!0;var e=cc.color(255,200,36);this.todayBtnTextNode.color=0==t?e:cc.Color.WHITE,this.todayBtnTextNode.opacity=0==t?255:153,this.sevenDayBtnTextNode.color=1==t?e:cc.Color.WHITE,this.sevenDayBtnTextNode.opacity=1==t?255:153,this.customBtnTextNode.color=2==t?e:cc.Color.WHITE,this.customBtnTextNode.opacity=2==t?255:153},e.prototype.hide=function(){this.node.active=!1},e.prototype.onClickTodayBtn=function(){cc.systemEvent.emit(a.Game1810Event.game1810HistorySelectDate,0),this.hide()},e.prototype.onClickSevenDayBtn=function(){cc.systemEvent.emit(a.Game1810Event.game1810HistorySelectDate,1),this.hide()},e.prototype.onClickCustomBtn=function(){var t=cc.instantiate(this.selectCustomDateViewPrefab);t.position=cc.Vec3.ZERO,t.parent=this.selectCustomDateViewParent},e.prototype.onClickCloseBtn=function(){this.hide()},r([p(cc.Node)],e.prototype,"todayBtnTextNode",void 0),r([p(cc.Node)],e.prototype,"sevenDayBtnTextNode",void 0),r([p(cc.Node)],e.prototype,"customBtnTextNode",void 0),r([p(cc.Prefab)],e.prototype,"selectCustomDateViewPrefab",void 0),r([p(cc.Node)],e.prototype,"selectCustomDateViewParent",void 0),r([l],e)}(cc.Component);o.UISelectDate=h,cc._RF.pop()},{"../../../bundles/games/common/PGGameRes/script/PgEvent":"PgEvent","./Game1810Define":"Game1810Define"}],VerifyBar:[function(t,e,o){"use strict";cc._RF.push(e,"b6d9aiatJRHxKNMHZITQX2W","VerifyBar");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.orderIdLab=null,e.box=null,e.foldedIconSpr=null,e.foldedIconList=[],e.foldedHeight=250,e.unfoldedHeight=495,e}return n(e,t),e.prototype.onLoad=function(){this.setIsFoled(!0)},e.prototype.setOrderID=function(t){this.orderID=t,this.orderIdLab.string=t},e.prototype.setIsFoled=function(t){this.isFolded=t,this.box.height=t?250:495,this.updateFoldedIcon()},e.prototype.updateFoldedIcon=function(){this.foldedIconSpr.spriteFrame=this.foldedIconList[this.isFolded?0:1]},e.prototype.onClickBox=function(){cc.Tween.stopAllByTarget(this.box),this.isFolded=!this.isFolded,this.updateFoldedIcon(),cc.tween(this.box).to(.5,{height:this.isFolded?this.foldedHeight:this.unfoldedHeight}).start()},e.prototype.onClickVerifyBtn=function(){window.toVerifyByOrderNo&&window.toVerifyByOrderNo(this.orderID)},r([c(cc.Label)],e.prototype,"orderIdLab",void 0),r([c(cc.Node)],e.prototype,"box",void 0),r([c(cc.Sprite)],e.prototype,"foldedIconSpr",void 0),r([c([cc.SpriteFrame])],e.prototype,"foldedIconList",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],WebAudioEngine:[function(t,e,o){"use strict";cc._RF.push(e,"48112cIckdNbZuZwjtK5Gty","WebAudioEngine"),Object.defineProperty(o,"__esModule",{value:!0}),o.WebAudioEngine=void 0;var i=t("./WebAudio"),n=function(){function t(){this.audioId=0,this.id2Audio=new Map,this.id2FinishCallback=new Map,this.mute=!1}return t.prototype.play=function(t,e,o,n,r){if(t.loadMode==cc.AudioClip.LoadMode.WEB_AUDIO){var s=t._nativeAsset.duration;if(void 0===e&&(e=0),void 0===o&&(o=s),!(e>o)){void 0===n&&(n=!1),void 0===r&&(r=1);var a=new i;return this.id2Audio.set(this.audioId,a),a.setSrc(t,e,o),a.setLoop(n),a.setVolume(r),a.mute=this.mute,a.on("ended",this.onAudioFinish.bind(this,this.audioId)),a.play(),this.audioId++}}else cc.error("\u53ea\u80fd\u7528WebAudio")},t.prototype.onAudioFinish=function(t){var e=this.id2FinishCallback.get(t);e&&(e(),this.id2FinishCallback.delete(t)),this.id2Audio.delete(t)},t.prototype.setFinishCallback=function(t,e){this.id2Audio.get(t)&&this.id2FinishCallback.set(t,e)},t.prototype.stop=function(t){var e=this.id2Audio.get(t);e&&(e.stop(),this.id2Audio.delete(t),this.id2FinishCallback.delete(t))},t.prototype.pauseAll=function(){for(var t=this.id2Audio.entries(),e=t.next();!e.done;e=t.next())e.value[1].pause()},t.prototype.resumeAll=function(){for(var t=this.id2Audio.entries(),e=t.next();!e.done;e=t.next())e.value[1].resume()},t.prototype.setVolume=function(t,e){var o=this.id2Audio.get(t);o&&o.setVolume(e)},t.prototype.setAllVolume=function(t){for(var e=this.id2Audio.entries(),o=e.next();!o.done;o=e.next())o.value[1].setVolume(t)},t.prototype.linearRampToVolume=function(t,e,o){var i=this.id2Audio.get(t);i&&i.linearRampToVolume(e,o)},t.prototype.setMute=function(t){this.mute=t;for(var e=this.id2Audio.entries(),o=e.next();!o.done;o=e.next())o.value[1].mute=t},t.prototype.getMute=function(){return this.mute},t}();o.WebAudioEngine=n;var r=new n;o.default=r,cc._RF.pop()},{"./WebAudio":"WebAudio"}],WebAudio:[function(t,e){"use strict";cc._RF.push(e,"7500fwYeyJBGLPtlwRVsSly","WebAudio");var o,i,n=!1,r=[],s=function t(e){cc.EventTarget.call(this),this._shouldRecycleOnEnded=!1,this._src=e,this._element=null,this.id=0,this._state=t.State.INITIALZING;var o=this;this._onended=function(){o._state=t.State.STOPPED,o.emit("ended")},this._onendedSecond=function(){o._unbindEnded(o._onendedSecond),o._bindEnded()}};cc.js.extend(s,cc.EventTarget),s.State={ERROR:-1,INITIALZING:0,PLAYING:1,PAUSED:2,STOPPED:3},(o=s.prototype)._bindEnded=function(t){(t=t||this._onended)._binded||(t._binded=!0,this._element.onended=t)},o._unbindEnded=function(t){(t=t||this._onended)._binded&&(t._binded=!1,this._element.onended=null)},o._onLoaded=function(t,e){this._createElement(t,e),this._state=s.State.INITIALZING,this.setVolume(1),this.setLoop(!1)},o._createElement=function(t,e){var o=this._src._nativeAsset;this._element=new a(o,this,t,e)},o.play=function(){var t=this;this._src&&this._src._ensureLoaded(function(){t._state=s.State.PLAYING,t._bindEnded(),t._element.play(),t._touchToPlay()})},o._touchToPlay=function(){if(!n){n=!0;var t="ontouchend"in window?"touchend":"mousedown";cc.game.canvas.addEventListener(t,function(){for(var t;t=r.pop();)t.audio.play(t.offset)})}},o.destroy=function(){this._element=null},o.pause=function(){if(this.getState()===s.State.PLAYING){var t=this;this._src&&this._src._ensureLoaded(function(){t._unbindEnded(),t._element.pause(),t._state=s.State.PAUSED})}},o.resume=function(){if(this.getState()===s.State.PAUSED){var t=this;this._src&&this._src._ensureLoaded(function(){t._bindEnded(),t._element.play(),t._state=s.State.PLAYING})}},o.stop=function(){var t=this;this._src&&this._src._ensureLoaded(function(){t._element.pause(),t._element.currentTime=0;for(var e=0;e<r.length;e++)if(r[e].instance===t){r.splice(e,1);break}t._unbindEnded(),t.emit("stop"),t._state=s.State.STOPPED})},o.setLoop=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.loop=t})},o.getLoop=function(){return!!this._element&&this._element.loop},o.setVolume=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.volume=t})},o.linearRampToVolume=function(t,e){var o=this;this._src&&this._src._ensureLoaded(function(){o._element.linearRampToVolume(t,e)})},o.getVolume=function(){return this._element?this._element.volume:1},Object.defineProperty(o,"mute",{get:function(){return!!this._element&&this._element.mute},set:function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._element.mute=t})}}),o.setCurrentTime=function(t){var e=this;this._src&&this._src._ensureLoaded(function(){e._unbindEnded(),e._bindEnded(e._onendedSecond),e._element.currentTime=t})},o.getCurrentTime=function(){return this._element?this._element.currentTime:0},o.getDuration=function(){return this._src?this._src.duration:0},o.getState=function(t){return void 0===t&&(t=!0),t&&this._forceUpdatingState(),this._state},o._forceUpdatingState=function(){var t=this._element;t&&(s.State.PLAYING===this._state&&t.paused?this._state=s.State.STOPPED:s.State.STOPPED!==this._state||t.paused||(this._state=s.State.PLAYING))},o.setSrc=function(t,e,o){if(this._unbindEnded(),t){if(t!==this._src)if(this._src=t,t.loaded)this._onLoaded(e,o);else{var i=this;t.once("load",function(){t===i._src&&i._onLoaded(e,o)})}}else this._src=null,this._element=null,this._state=s.State.INITIALZING;return t},Object.defineProperty(o,"src",{get:function(){return this._src},enumerable:!0,configurable:!0}),Object.defineProperty(o,"paused",{get:function(){return!this._element||this._element.paused},enumerable:!0,configurable:!0}),i=cc.sys.browserType===cc.sys.BROWSER_TYPE_EDGE||cc.sys.browserType===cc.sys.BROWSER_TYPE_BAIDU||cc.sys.browserType===cc.sys.BROWSER_TYPE_UC?.01:0;var a=function(t,e,o,i){this._audio=e,this._context=cc.sys.__audioSupport.context,this._buffer=t,void 0===o?(this._begin=0,this._end=this._buffer.duration):(this._begin=o,this._begin<0?this._begin=0:this._begin>this._buffer.duration&&(this._begin=this._buffer.duration),this._end=void 0===i?this._buffer.duration:i,this._end<0?this._end=this._buffer.duration:this._end>this._buffer.duration&&(this._end=this._buffer.duration),this._begin>this._end&&(this._begin=0,this._end=this._buffer.duration)),this._gainObj=this._context.createGain(),this.volume=1,this._mute=!1,this._gainObj.connect(this._context.destination),this._loop=!1,this._startTime=-1,this._currentSource=null,this.playedLength=0,this._currentTimer=null,this._endCallback=function(){this.onended&&this.onended(this)}.bind(this)};(function(t){t.play=function(t){this._currentSource&&!this.paused&&(this._currentSource.onended=null,this._currentSource.stop(0),this.playedLength=0);var e=this._context.createBufferSource();e.buffer=this._buffer,e.connect(this._gainObj),e.loop=this._loop,this._startTime=this._context.currentTime,t=t||this.playedLength,(t+=this._begin)&&(this._startTime-=t);var o,i=t;if(this._loop?(e.loopStart=this._begin,e.loopEnd=this._end,e.start?e.start(0,i):e.notoGrainOn?e.noteGrainOn(0,i):e.noteOn(0,i)):(o=this._end-i,e.start?e.start(0,i,o):e.noteGrainOn?e.noteGrainOn(0,i,o):e.noteOn(0,i,o)),this._currentSource=e,e.onended=this._endCallback,(!e.context.state||"suspended"===e.context.state)&&0===this._context.currentTime){var n=this;clearTimeout(this._currentTimer),this._currentTimer=setTimeout(function(){0===n._context.currentTime&&r.push({instance:n._audio,offset:t,audio:n})},10)}var s=cc.sys;s.os===s.OS_IOS&&s.isBrowser&&s.isMobile&&("suspended"===e.context.state&&0!==this._context.currentTime||"interrupted"===e.context.state)&&e.context.resume()},t.pause=function(){if(clearTimeout(this._currentTimer),!this.paused){this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this.duration;var t=this._currentSource;t&&(t.onended&&(t.onended._binded=!1,t.onended=null),t.stop(0)),this._currentSource=null,this._startTime=-1}},Object.defineProperty(t,"paused",{get:function(){return(!this._currentSource||!this._currentSource.loop)&&(-1===this._startTime||this._context.currentTime-this._startTime>this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"loop",{get:function(){return this._loop},set:function(t){return this._currentSource&&(this._currentSource.loop=t),this._loop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"volume",{get:function(){return this._volume},set:function(t){if(this._volume=t,!this._mute){if(this._gainObj.gain.setTargetAtTime)try{this._gainObj.gain.setTargetAtTime(t,this._context.currentTime,i)}catch(e){this._gainObj.gain.setTargetAtTime(t,this._context.currentTime,.01)}else this._gainObj.gain.value=t;cc.sys.os===cc.sys.OS_IOS&&!this.paused&&this._currentSource&&(this._currentSource.onended=null,this.pause(),this.play())}},enumerable:!0,configurable:!0}),t.linearRampToVolume=function(t,e){this._volume=t,this._mute||(this._gainObj.gain.linearRampToValueAtTime(t,this._context.currentTime+e),cc.sys.os===cc.sys.OS_IOS&&!this.paused&&this._currentSource&&(this._currentSource.onended=null,this.pause(),this.play()))},Object.defineProperty(t,"mute",{get:function(){return this._mute},set:function(t){this._mute=t,this._gainObj.gain.value=t?0:this._volume}}),Object.defineProperty(t,"currentTime",{get:function(){return this.paused?this.playedLength:(this.playedLength=this._context.currentTime-this._startTime,this.playedLength%=this.duration,this.playedLength)},set:function(t){return this.paused?this.playedLength=this._begin+t:(this.pause(),this.playedLength=this._begin+t,this.play()),t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"duration",{get:function(){return this._end-this._begin},enumerable:!0,configurable:!0})})(a.prototype),e.exports=s,cc._RF.pop()},{}],"adapter-v2":[function(t,e,o){"use strict";cc._RF.push(e,"915030qQVFDpLz5Y/+3IbNg","adapter-v2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.AdapterV2=void 0;var s=t("../framework/log/log"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.designSize=cc.Size.ZERO,e.screenSize=cc.Size.ZERO,e.statusBarHeight=0,e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o),this.instance},e.prototype.onLoad=function(){this.canvas=this.node.getComponent(cc.Canvas),this.nodeScreen=cc.find("screen",this.node)},e.prototype.onEnable=function(){cc.systemEvent.on("switch-orientitaion",this.switchOrientation,this)},e.prototype.onDestroy=function(){cc.systemEvent.off("switch-orientitaion",this.switchOrientation,this)},e.prototype.updateAlignment=function(){var t,e,i,n,r,a,c,l,p=cc.winSize.height,h=cc.sys.getSafeAreaRect();this.statusBarHeight=p-h.y-h.height;var u=cc.view.getFrameSize(),d=u.height/u.width;d<1440/810?(cc.view.setDesignResolutionSize(810,1440,cc.ResolutionPolicy.FIXED_HEIGHT),this.canvas.designResolution=cc.size(810,1440),this.canvas.fitHeight=!0,null===(t=this.nodeScreen)||void 0===t||t.setContentSize(810,1440-this.statusBarHeight),null===(e=this.nodeScreen)||void 0===e||e.setPosition(0,this.statusBarHeight/2*-1)):(cc.view.setDesignResolutionSize(810,810*d,cc.ResolutionPolicy.FIXED_WIDTH),this.canvas.designResolution=cc.size(810,810*d),this.canvas.fitWidth=!0,null===(i=this.nodeScreen)||void 0===i||i.setContentSize(810,810*d-this.statusBarHeight),null===(n=this.nodeScreen)||void 0===n||n.setPosition(0,this.statusBarHeight/2*-1)),this.designSize.width=this.canvas.designResolution.width,this.designSize.height=this.canvas.designResolution.height,this.screenSize.width=null!==(a=null===(r=this.nodeScreen)||void 0===r?void 0:r.getContentSize().width)&&void 0!==a?a:0,this.screenSize.height=null!==(l=null===(c=this.nodeScreen)||void 0===c?void 0:c.getContentSize().height)&&void 0!==l?l:0,s.tcLog.log("size:",u,"   screenHeight:",p),o.getInstance().winSizeWidth=u.width,o.getInstance().winSizeHeight=u.height},e.prototype.switchOrientation=function(t){var e,i,n,r,a,c,l;2===t?(cc.view.setDesignResolutionSize(this.designSize.width,this.designSize.height,cc.ResolutionPolicy.FIXED_WIDTH),this.canvas.designResolution=cc.size(this.designSize.width,this.designSize.height),this.canvas.fitWidth=!0,cc.sys.isNative?(null===(e=this.nodeScreen)||void 0===e||e.setContentSize(this.screenSize.width,this.screenSize.height),null===(i=this.nodeScreen)||void 0===i||i.setPosition(0,this.statusBarHeight/2*-1)):(null===(n=this.nodeScreen)||void 0===n||n.setContentSize(this.screenSize.width,this.screenSize.height),o.getInstance().rootCanvasWidth=this.screenSize.width,o.getInstance().rootCanvasHeight=this.screenSize.height)):(cc.view.setDesignResolutionSize(this.designSize.height,this.designSize.width,cc.ResolutionPolicy.FIXED_HEIGHT),this.canvas.designResolution=cc.size(this.designSize.height,this.designSize.width),this.canvas.fitHeight=!0,null===(r=this.nodeScreen)||void 0===r||r.setContentSize(this.screenSize.height,this.screenSize.width),cc.sys.isNative?(null===(a=this.nodeScreen)||void 0===a||a.setContentSize(this.screenSize.height,this.screenSize.width),null===(c=this.nodeScreen)||void 0===c||c.setPosition(this.statusBarHeight/2,0)):(null===(l=this.nodeScreen)||void 0===l||l.setContentSize(this.screenSize.height,this.screenSize.width),o.getInstance().rootCanvasWidth=this.screenSize.height,o.getInstance().rootCanvasHeight=this.screenSize.width)),s.tcLog.log("viewWidth:",o.getInstance().rootCanvasWidth,"   viewHeight:",o.getInstance().rootCanvasHeight)},o=r([c],e)}(cc.Component));o.AdapterV2=l,cc._RF.pop()},{"../framework/log/log":"log"}],audio:[function(t,e,o){"use strict";cc._RF.push(e,"a8697RhISdAXYbJpJItUaRJ","audio"),Object.defineProperty(o,"__esModule",{value:!0}),o.uAudio=o.AudioClipName=void 0;var i=t("../../app/env");(function(t){t.CLAIMCOINS="claimCoins",t.CLICKBTN="clickBtn",t.BGM="bgm"})(o.AudioClipName||(o.AudioClipName={}));var n=function(){function t(){this.state=!0,this.nextBgm="",this.audioCache=new Map,this.audioIds=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.addClip=function(t,e){this.audioCache.set(t,e)},t.prototype.removeClip=function(t){this.audioCache.delete(t)},t.prototype.clear=function(){this.audioCache.clear()},t.prototype.playMusic=function(t,e){if(this.state){var o=this.audioCache.get(t);if(!o){if(!e)return;o=e,this.audioCache.set(t,o)}cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(o,!0)}else this.nextBgm=t},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.playEffect=function(t,e,o){var i=this;if(void 0===o&&(o=!1),this.state){var n=this.audioCache.get(t);if(!n){if(!e)return;n=e,this.audioCache.set(t,n)}var r=cc.audioEngine.playEffect(n,o),s=this.audioIds.get(t);if(s?(s.push(r),this.audioIds.set(t,s)):this.audioIds.set(t,[r]),!o){var a=n.duration;setTimeout(function(){i.stopEffect(t,r)},1e3*a)}}},t.prototype.stopEffect=function(t,e){var o=this.audioIds.get(t);null==o||o.forEach(function(t,i){e?t===e&&(o.splice(i,1),cc.audioEngine.stopEffect(t)):cc.audioEngine.stopEffect(t)}),this.audioIds.delete(t)},t.prototype.stopAllEffect=function(){cc.audioEngine.stopAllEffects(),this.audioIds.clear()},t.prototype.setMusicVolume=function(t){cc.audioEngine.setMusicVolume(null!=t?t:1)},t.prototype.getMusicVolume=function(){return cc.audioEngine.getMusicVolume()},t.prototype.setEffectVolume=function(t){i.env.application.soundVolume=null!=t?t:1,cc.audioEngine.setEffectsVolume(null!=t?t:1)},t.prototype.pauseAll=function(){this.state=!1,this.nextBgm="",cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){this.state=!0,cc.audioEngine.resumeAll(),""!==this.nextBgm&&this.playMusic(this.nextBgm)},t}();o.uAudio=n,cc._RF.pop()},{"../../app/env":"env"}],cmd:[function(t,e,o){"use strict";cc._RF.push(e,"2d218/Rj8xBeK2QHXdRgz3V","cmd"),Object.defineProperty(o,"__esModule",{value:!0}),o.cmd=void 0,function(t){t.SERVER_TYPE_INVALID=0,t.SERVER_TYPE_GATEWAY=1001,t.LOBBY_TYPE=5e3,t.SERVER_TYPE_BACCARAT=11001,t.SERVER_TYPE_BENZBMW=10002,t.SERVER_TYPE_DRAGONTIGER=11003,t.SERVER_TYPE_COLORDISH=11004,t.SERVER_TYPE_TIREPLATE=11005,t.SERVER_TYPE_REDBLACK=11006,t.SERVER_TYPE_FISHSHRIMP=11007,t.SERVER_TYPE_BRNN=11008,t.SERVER_TYPE_THREECARD=21001,t.SERVER_TYPE_BLACKJACK=21002,t.SERVER_TYPE_TRUCOPAULISTA=21003,t.SERVER_TYPE_TRUCOMINEIRO=21004,t.SERVER_TYPE_SLOTHALLOWEEN=31001,t.SERVER_TYPE_WILD_CASH=31002,t.SERVER_TYPE_MISSCHERRYFRUITS=31003,t.SERVER_TYPE_SLOTLUCKYDAMA=31004,t.SERVER_TYPE_SLOTSOCCERMANIA=31005,t.SERVER_TYPE_GIFT_RUSH=31006,t.SERVER_TYPE_FORTUNE_OX=31007,t.SERVER_TYPE_MECHANICAL_ORANGE=31008,t.SERVER_TYPE_FORTUNE_TIGER=31009,t.SERVER_TYPE_FORTUNE_MOUSE=31010,t.SERVER_TYPE_CRASH_FULL=50001,t.SERVER_TYPE_ROCKET_DICE=51014,t.SERVER_TYPE_FORTUNE_RABBIT=31011}(o.cmd||(o.cmd={})),cc._RF.pop()},{}],config:[function(t,e,o){"use strict";var i,n,r,s;cc._RF.push(e,"43523cv/ItLrbmv8PQMwCPS","config"),Object.defineProperty(o,"__esModule",{value:!0}),o.gameHelper=o.gameLoadingBtnOkPositon=o.gameConfig=o.config=o.LogLevel=void 0;var a,c=t("../app/env"),l=t("../framework/audio/audio"),p=t("../framework/log/log"),h=t("../framework/storage/storage"),u=t("./cmd");(function(t){t[t.Silent=0]="Silent",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug"})(a=o.LogLevel||(o.LogLevel={})),o.config={apiUrl:"",logLevel:a.Debug,gateways:[],uiNode:{},smsRequestInterval:12e4,devTest:!0},o.gameConfig={GAMEID_2_BUNDLE_NAMES:(i={},i[u.cmd.SERVER_TYPE_CRASH_FULL]="crash",i[u.cmd.SERVER_TYPE_SLOTHALLOWEEN]="halloween",i[u.cmd.SERVER_TYPE_MISSCHERRYFRUITS]="missCherryFruits",i[u.cmd.SERVER_TYPE_SLOTLUCKYDAMA]="luckyDama",i[u.cmd.SERVER_TYPE_WILD_CASH]="wildcash",i[u.cmd.SERVER_TYPE_SLOTSOCCERMANIA]="soccerMania",i[u.cmd.SERVER_TYPE_MECHANICAL_ORANGE]="mechanicalOrange",i[u.cmd.SERVER_TYPE_GIFT_RUSH]="giftRush",i[u.cmd.SERVER_TYPE_FORTUNE_TIGER]="fortuneTiger",i[u.cmd.SERVER_TYPE_FORTUNE_OX]="fortuneOx",i[u.cmd.SERVER_TYPE_ROCKET_DICE]="rocketDice",i[u.cmd.SERVER_TYPE_FORTUNE_RABBIT]="fortuneRabbit",i),GAMEID_2_GAME_NAME:{},GAMEID_GAME_ORIENTATION:(n={},n[u.cmd.SERVER_TYPE_FORTUNE_TIGER]=2,n[u.cmd.SERVER_TYPE_FORTUNE_OX]=2,n[u.cmd.SERVER_TYPE_FORTUNE_RABBIT]=2,n),GAMEID_GAME_BUNDLE:(r={},r[u.cmd.SERVER_TYPE_CRASH_FULL]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_SLOTHALLOWEEN]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_MISSCHERRYFRUITS]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_SLOTLUCKYDAMA]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_WILD_CASH]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_SLOTSOCCERMANIA]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_MECHANICAL_ORANGE]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_GIFT_RUSH]=["SlotGameRes","common-v2"],r[u.cmd.SERVER_TYPE_FORTUNE_TIGER]=["PGGameRes"],r[u.cmd.SERVER_TYPE_FORTUNE_OX]=["PGGameRes"],r[u.cmd.SERVER_TYPE_FORTUNE_RABBIT]=["gameCommon","PGGameRes"],r[u.cmd.SERVER_TYPE_ROCKET_DICE]=["SlotGameRes","common-v2"],r)},o.gameLoadingBtnOkPositon=((s={})[u.cmd.SERVER_TYPE_MECHANICAL_ORANGE]=[[7,-193],[7,-193]],s[u.cmd.SERVER_TYPE_SLOTLUCKYDAMA]=[[0,-570],[0,-300]],s[u.cmd.SERVER_TYPE_FORTUNE_TIGER]=[[0,-570],[0,-570]],s[u.cmd.SERVER_TYPE_FORTUNE_OX]=[[0,-570],[0,-570]],s[u.cmd.SERVER_TYPE_FORTUNE_RABBIT]=[[0,-570],[0,-570]],s),function(t){t.getBundleName=function(t){var e=o.gameConfig.GAMEID_2_BUNDLE_NAMES[t];return c.env.device.platform===c.env.PlatformType.Native?jsb.fileUtils.getWritablePath()+"remote-assets/assets/"+e:e},t.bPGGame=function(t){return t==u.cmd.SERVER_TYPE_FORTUNE_OX||t==u.cmd.SERVER_TYPE_FORTUNE_TIGER||t==u.cmd.SERVER_TYPE_FORTUNE_RABBIT||t==u.cmd.SERVER_TYPE_FORTUNE_MOUSE},t.stopAllEffects=function(){l.uAudio.getInstance().stopAllEffect()},t.changeSoundStatus=function(){var t,e="off"===(null!==(t=h.tcStorage.readAny(h.tcStorage.Keys.SoundSwitch))&&void 0!==t?t:"on"),o=e?1:0;return h.tcStorage.save(h.tcStorage.Keys.SoundSwitch,e?"on":"off"),l.uAudio.getInstance().setMusicVolume(o),localStorage.setItem(h.tcStorage.Keys.musicVolume,""+o),l.uAudio.getInstance().setEffectVolume(o),localStorage.setItem(h.tcStorage.Keys.effectVolume,""+o),e},t.bPortrait=function(){var t=cc.view.getFrameSize();return p.tcLog.info("-------gameHelper.bPortrait:viewResize",t),t.width<t.height}}(o.gameHelper||(o.gameHelper={})),cc._RF.pop()},{"../app/env":"env","../framework/audio/audio":"audio","../framework/log/log":"log","../framework/storage/storage":"storage","./cmd":"cmd"}],currency:[function(t,e,o){"use strict";cc._RF.push(e,"3ecaeyBTFNG5Zb6S5BKogUN","currency"),Object.defineProperty(o,"__esModule",{value:!0}),o.currency=void 0,function(t){var e=new Map([["BRL",{language:"pt-BR",symbol:"R$"}],["USD",{language:"en-US",symbol:"$"}],["AUD",{language:"en-US",symbol:"A$"}]]),o=e.get("BRL");function i(t,e,i,n){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===n&&(n=2);var r=t/100,s=r%100!=0,a=r/100,c=new Intl.NumberFormat(null==o?void 0:o.language,{style:"decimal",minimumFractionDigits:e?2:s?2:0,maximumFractionDigits:e?2:s?2:0}).format(a);return i?""+(null==o?void 0:o.symbol)+c:c}t.setSymbol=function(t){var i=e.get(t.toUpperCase());if(!i)return"$";o=i},t.getSymbol=function(){return null==o?void 0:o.symbol},t.format=i,t.formatWithSymbol=function(t,e,o){return void 0===e&&(e=!0),i(t,e,!0,o)},t.formatNoSymbol=function(t,e,o){return void 0===e&&(e=!0),i(t,e,!1,o)},t.accDiv=function(t,e){var o=0,i=0;try{o=t.toString().split(".")[1].length}catch(n){}try{i=e.toString().split(".")[1].length}catch(n){}return Number(t.toString().replace(".",""))/Number(e.toString().replace(".",""))*Math.pow(10,i-o)},t.accMul=function(t,e){var o=0,i=t.toString(),n=e.toString();try{o+=i.split(".")[1].length}catch(r){}try{o+=n.split(".")[1].length}catch(r){}return Number(i.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,o)}}(o.currency||(o.currency={})),cc._RF.pop()},{}],emitter:[function(t,e){"use strict";cc._RF.push(e,"0918bZF7YZFhKRWV9AlqXwu","emitter");var o=function(){function t(t){if(t)return i(t)}return t.prototype.on=function(t,e,o){return o||(o=this),this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push({target:o,cb:e}),this},t.prototype.once=function(t,e,o){var i=this;function n(){i.off(t,n),e.apply(o,arguments)}return this._callbacks=this._callbacks||{},o||(o=this),n.fn=e,this.on(t,n),this},t.prototype.off=function(t,e,o){if(this._callbacks=this._callbacks||{},0==arguments.length)return this;var i,n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<n.length;r++)if(!((i=n[r]).cb!==e&&i.cb.fn!==e||null!=o&&i.target!=o)){n.splice(r,1);break}return this},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this._callbacks=this._callbacks||{};var i=this._callbacks[t];if(!i)return this;for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].cb.apply(i[n].target,e);return this},t.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length},t}();function i(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}e.exports=o,cc._RF.pop()},{}],env:[function(t,e,o){"use strict";cc._RF.push(e,"641d3dqDrpJOrXxv4WYM09I","env"),Object.defineProperty(o,"__esModule",{value:!0}),o.env=void 0,function(t){var e,o;(function(t){t[t.Android=1]="Android",t[t.iOS=2]="iOS",t[t.Windows=3]="Windows",t[t.Unknown=99]="Unknown"})(e=t.OSType||(t.OSType={})),function(t){t[t.Native=1]="Native",t[t.H5=2]="H5",t[t.WebView=3]="WebView",t[t.Unknown=99]="Unknown"}(o=t.PlatformType||(t.PlatformType={})),t.device={deviceId:"",height:0,width:0,os:0,osName:function(){switch(this.os){case e.Android:return"Android";case e.iOS:return"iOS";case e.Windows:return"Windows";default:return"Unknown"}},platform:0,platformName:function(){switch(this.platform){case o.Native:return"Native";case o.H5:return"H5";case o.WebView:return"WebView";default:return"Unknown"}},googleAdsId:"",appsFlyerId:"",language:""},t.application={curLocaton:0,designWidth:0,designHeight:0,bundleId:"",version:"",resVersion:"",buildVersion:"",musicVolume:1,soundVolume:1,language:"",adId:"",facebookPixelId:"",showDailyView:!1,downloadUrl:"",needSmsCode:1,logoUrl:"",ServerError:!1},t.user={userId:0,authorization:"",balance:0,nickname:"",gender:"",avatarId:"",areaCode:"",telNumber:"",vip:0,smsTimeStamp:0,isShowCZTX:!1,isRisk:!1,telNumberStatus:0,cpf:""},t.avatarMap=new Map,t.service=new Map,t.nativeGameConfig={},t.curGameData={data:0,balance:0,betIndex:0,betSizeIndex:0},t.isAuthorizated=function(){return t.user.authorization.length>0},t.clearUserInfo=function(){t.user.areaCode="",t.user.authorization="",t.user.avatarId="",t.user.balance=0,t.user.cpf="",t.user.gender="",t.user.isRisk=!1,t.user.isShowCZTX=!1,t.user.nickname="",t.user.smsTimeStamp=0,t.user.telNumber="",t.user.telNumberStatus=0,t.user.areaCode=""}}(o.env||(o.env={})),cc._RF.pop()},{}],game_1810:[function(t,e,o){"use strict";cc._RF.push(e,"e6a4fmyewBGurk/WvdNNZ0e","game_1810");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../../../Common/Define/ShareDefine"),c=t("../../../script/common_game/LightningEffect"),l=t("../../../script/common_game/SlotGame/SlotBetAmountDisplay"),p=t("../../../script/common_game/SlotGame/SlotNumberChangeDisplay"),h=t("../../../script/common_game/SlotGame/SlotUtility"),u=t("./Game1810BottomBtn"),d=t("./Game1810Define"),f=t("./Game1810Mgr"),m=t("./Game1810SymbolArea"),y=t("./Game1810TipDisplay"),g=t("./Game1810WinAmountDisplay"),_=t("./Game1810SymbolDescDisplay"),v=t("../../../script/common_game/SlotGame/SlotHoverLightEffect"),S=t("../../../script/audio/WebAudioEngine"),b=t("./AudioConfig"),O=t("../../GameBetCommon/UIGameBetCommon"),E=t("../../GameBetCommon/pgGameBetSettingView"),A=t("./SlotButton"),L=t("./Button"),T=t("./OxBigWinView"),C=t("./TipView"),R=t("./RuleView"),w=t("./PayView"),I=t("./SlotMsgTipDisplay"),N=t("./UIBalanceView");(function(t){t[t.UNINIT=0]="UNINIT",t[t.IDLE=1]="IDLE",t[t.AUTO_IDLE=2]="AUTO_IDLE",t[t.SCROLL=3]="SCROLL",t[t.SHOW_WIN_RESULT=4]="SHOW_WIN_RESULT"})(s||(s={}));var M=cc._decorator,P=M.ccclass,B=M.property,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolArea=null,e.bottomBtn=null,e.betAmountDisplay=null,e.addBetAmountBtnNode=null,e.minusBetAmountBtnNode=null,e.switchSettingBtn=null,e.ruleBtn=null,e.payBtn=null,e.historyBtn=null,e.closeBtn=null,e.goldNumDisplay=null,e.fastScrollSwitch=null,e.winAmountDisplay=null,e.tipDislay=null,e.networkBusyTipLab=null,e.bigWinView=null,e.totalWinAmountDisplay=null,e.symbolDescDisplay=null,e.autoTimesBtnHoverLightEffect=null,e.generalAudio=null,e.closeSettingBtn=null,e.bottomBtnAudio=null,e.viewParent=null,e.msgTipDisplay=null,e.btnAudio=null,e.tooFrequencyRetryDelay=1,e.delayAutoStartGameTime=.5,e.maxRetryTimes=5,e}return n(e,t),e.prototype.onLoad=function(){this.msgTipDisplay.hide(),f.Game1810Mgr.instance.firstEnterHistoryView=!0,this.initAddBetAmountBtn(),this.initMinusBetAmountBtn(),this.initSwitchSettingBtn(),this.initCloseSettingBtn(),this.initRuleViewBtn(),this.initPayViewBtn(),this.initHistoryBtn(),this.initCloseBtn()},e.prototype.initCloseBtn=function(){this.closeBtn.onClick=this.onClickCloseBtn.bind(this)},e.prototype.initHistoryBtn=function(){this.historyBtn.onClick=this.onClickHistoryBtn.bind(this)},e.prototype.initPayViewBtn=function(){this.payBtn.onClick=this.onClickPayBtn.bind(this)},e.prototype.initRuleViewBtn=function(){this.ruleBtn.onClick=this.onClickRuleBtn.bind(this)},e.prototype.initCloseSettingBtn=function(){this.closeSettingBtn.onClick=this.onClickCloseSettingBtn.bind(this)},e.prototype.initSwitchSettingBtn=function(){this.switchSettingBtn.onClick=this.onClickSwitchSettingBtn.bind(this)},e.prototype.initAddBetAmountBtn=function(){var t=this.addBetAmountBtnNode.getComponent(L.default);t.onClick=this.onClickAddAmountBtn.bind(this),t.onPress=this.onPressAddBetAmountBtn.bind(this),t.onLoosen=this.onLoosenAddBetAmountBtn.bind(this)},e.prototype.onPressAddBetAmountBtn=function(){f.Game1810Mgr.instance.hasBiggerBetAmountOption()&&(this.addBetAmountBtnNode.opacity=100)},e.prototype.onLoosenAddBetAmountBtn=function(){f.Game1810Mgr.instance.hasBiggerBetAmountOption()&&this.updateAddMinusBtn()},e.prototype.initMinusBetAmountBtn=function(){var t=this.minusBetAmountBtnNode.getComponent(L.default);t.onClick=this.onClickMinusAmountBtn.bind(this),t.onPress=this.onPressMinusBetAmountBtn.bind(this),t.onLoosen=this.onLoosenMinusBetAmountBtn.bind(this)},e.prototype.onPressMinusBetAmountBtn=function(){f.Game1810Mgr.instance.hasSmallerBetAmountOption()&&(this.minusBetAmountBtnNode.opacity=100)},e.prototype.onLoosenMinusBetAmountBtn=function(){f.Game1810Mgr.instance.hasSmallerBetAmountOption()&&this.updateAddMinusBtn()},e.prototype.start=function(){this.fastScrollSwitch.listenEvent=this.onClickFastScrollSwitch.bind(this),this.symbolArea.onAllColStop=this.onAllColStop.bind(this),this.symbolArea.onGameOverCallback=this.onGameOver.bind(this),this.symbolArea.onClickSymbol=this.onClickSymbol.bind(this),this.symbolArea.onUpdateGoldNum=this.updateGoldNumOnWin.bind(this),this.symbolArea.init(),this.tipDislay.init(),this.bottomBtn.updateAddMinusBtn=this.updateAddMinusBtn.bind(this),f.Game1810Mgr.instance.canClickSkipScroll=!1,f.Game1810Mgr.instance.isSkipScroll=!1,this.isShowView=!1,this.symbolArea.hideAllColLight(),this.symbolArea.roleToIdle(),f.Game1810Mgr.instance.isAuto=!1,this.bottomBtn.showOperateBtns(),this.bottomBtn.hideAutoTimesBtn(),this.bottomBtn.updateMusicBtn(),this.fastScrollSwitch.switch(c.TurboState.FIRST_OFF),this.tipDislay.hide(),this.winAmountDisplay.hide(),this.bigWinView.hide(),this.networkBusyTipLab.node.parent.parent.active=!1,this.symbolDescDisplay.hide(),this.autoTimesBtnHoverLightEffect.setEnable(!0),this.state=s.IDLE;var t=f.Game1810Mgr.instance.getGameResult();this.goldNum=Big(t.end_gold),this.updateGoldNum(),this.symbolArea.updateToFinalResult(),this.bottomBtn.playStartBtnIdleAnim(),this.bottomBtn.enableOperateBtnExceptStartBtn(),this.symbolArea.setStartBtnHoverLightEnable(!0),this.symbolArea.enableLabel(),this.updateBetAmount(),this.onClickHTMLStartBtnCallback=this.onClickHTMLStartBtn.bind(this),window.addEventListener("customEventFromHTML",this.onClickHTMLStartBtnCallback),window.addEventListener("HistoryEventFromHTML",this.onHistoryEventFromHTML.bind(this))},e.prototype.onHistoryEventFromHTML=function(){this.showHistoryView(!1)},e.prototype.enterGame=function(){this.symbolArea.playBgm(0);var t=f.Game1810Mgr.instance.getGameResult(),e=f.Game1810Mgr.instance.getTotalWinAmount();this.totalWinAmountDisplay.setNumber(e,t.currency),e>0?this.winAmountDisplay.showWinAmount(e,f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount()):this.playTip(),t.props[t.props.length-1].tw>0&&this.symbolArea.playWinLineAnim(),this.setTrophiesIconShow(!1)},e.prototype.testBigWin=function(){var t=this;S.default.stop(this.symbolArea.bgmAudioId),this.symbolArea.bgmIdx=-1,this.bigWinView.show(Big(1e3),Big(.3),function(){t.symbolArea.playBgm(0)},function(){t.scheduleOnce(t.testBigWin,1)})},e.prototype.onClickHTMLStartBtn=function(){window.removeEventListener("customEventFromHTML",this.onClickHTMLStartBtnCallback),this.onClickHTMLStartBtnCallback=null,this.enterGame()},e.prototype.onEventHide=function(){S.default.pauseAll()},e.prototype.onEventShow=function(){S.default.resumeAll()},e.prototype.onEnable=function(){cc.systemEvent.on(a.GameCommonEventType.GetRound,this.onAutoStartGame,this),cc.systemEvent.on(d.Game1810HttpAPI.GameResult,this.onGameResult,this),cc.systemEvent.on(d.Game1810Event.game1810BalanceNotSufficient,this.onBalanceNotSufficient,this),cc.systemEvent.on(d.Game1810Event.game1810ReqGameResultFail,this.onReqGameResultFail,this),cc.systemEvent.on(d.Game1810Event.game1810ServerError,this.onServerError,this),cc.systemEvent.on(d.Game1810Event.game1810ReqGameResultTooFrequently,this.onReqGameResultTooFrequently,this),cc.systemEvent.on(d.Game1810Event.game1810GetInfoFail,this.onReqGetInfoFail,this),cc.systemEvent.on(d.Game1810Event.game1810ResultIsSame,this.onResultIsSame,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.game.on(cc.game.EVENT_HIDE,this.onEventHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onEventShow,this)},e.prototype.onDisable=function(){cc.systemEvent.off(a.GameCommonEventType.GetRound,this.onAutoStartGame,this),cc.systemEvent.off(d.Game1810HttpAPI.GameResult,this.onGameResult,this),cc.systemEvent.off(d.Game1810Event.game1810BalanceNotSufficient,this.onBalanceNotSufficient,this),cc.systemEvent.off(d.Game1810Event.game1810ReqGameResultFail,this.onReqGameResultFail,this),cc.systemEvent.off(d.Game1810Event.game1810ServerError,this.onServerError,this),cc.systemEvent.off(d.Game1810Event.game1810ReqGameResultTooFrequently,this.onReqGameResultTooFrequently,this),cc.systemEvent.off(d.Game1810Event.game1810GetInfoFail,this.onReqGetInfoFail,this),cc.systemEvent.off(d.Game1810Event.game1810ResultIsSame,this.onResultIsSame,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.game.off(cc.game.EVENT_HIDE,this.onEventHide,this),cc.game.off(cc.game.EVENT_SHOW,this.onEventShow,this)},e.prototype.updateGoldNumOnWin=function(){var t=f.Game1810Mgr.instance.getGameResult();this.goldNum=this.goldNum.plus(t.total_win),this.goldNumDisplay.changeNumberFromCurNumToTargetOfTypeBig(this.goldNum,.3,t.currency)},e.prototype.onKeyDown=function(t){t.keyCode==cc.macro.KEY.space&&(f.Game1810Mgr.instance.isPlayAmountChangeAnim?this.symbolArea.skipWinAmountChangeAnim():this.onClickStartBtn())},e.prototype.onGameOver=function(){if(this.autoTimes>0&&this.checkGold())return this.state=s.AUTO_IDLE,void this.scheduleOnce(this.autoStartGame,this.delayAutoStartGameTime);this.state=s.IDLE,this.bottomBtn.hideAutoTimesBtn(),this.bottomBtn.enableOperateBtnExceptStartBtn(),this.bottomBtn.playStartBtnIdleAnim(),this.symbolArea.enableLabel(),this.symbolArea.setStartBtnHoverLightEnable(!0),f.Game1810Mgr.instance.getGameResult().total_win>0&&this.symbolArea.playSingleWinLineAnim(0)},e.prototype.onBetAmountChange=function(t,e,o){Big(t).eq(f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount())||(f.Game1810Mgr.instance.updateBetAmountOption(o,e,Big(t).div(o).div(e).toNumber()),this.updateBetAmountAndPlayAnim(),this.updateAddMinusBtn())},e.prototype.autoStartGame=function(){this.autoTimes--,this.bottomBtn.updateAutoTimes(this.autoTimes),this.symbolDescDisplay.playHide(),this.playTip(),this.startScroll()},e.prototype.onAutoStartGame=function(t){this.state==s.IDLE&&(this.bottomBtn.isPlaySwitchBtnAnim()||this.checkGold()&&(this.state=s.AUTO_IDLE,this.autoTimes=t,f.Game1810Mgr.instance.isAuto=!0,this.bottomBtn.showAutoTimesBtn(this.autoTimes),this.bottomBtn.disableOperateBtnExceptStartBtn(),this.symbolArea.setStartBtnHoverLightEnable(!1),this.symbolArea.disableLabel(),this.scheduleOnce(this.autoStartGame,this.delayAutoStartGameTime)))},e.prototype.getBetAmountStr=function(){var t=f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount();return h.default.formatBig(t)},e.prototype.updateBetAmount=function(){var t=f.Game1810Mgr.instance.getGameResult();this.betAmountDisplay.udpateBetAmount(""+t.currency+this.getBetAmountStr())},e.prototype.updateAddMinusBtn=function(){f.Game1810Mgr.instance.hasBiggerBetAmountOption()?this.addBetAmountBtnNode.opacity=255:this.addBetAmountBtnNode.opacity=66,f.Game1810Mgr.instance.hasSmallerBetAmountOption()?this.minusBetAmountBtnNode.opacity=255:this.minusBetAmountBtnNode.opacity=66},e.prototype.updateGoldNum=function(){var t=f.Game1810Mgr.instance.getGameResult();this.goldNumDisplay.setNumberOfTypeBig(this.goldNum,t.currency)},e.prototype.exitGame=function(){cc.log("exit game"),document.referrer.length>0?window.history.back():location.reload()},e.prototype.retryGame=function(){cc.log("retry game"),this.retryTimes=0,this.reqGameResult()},e.prototype.showTipView=function(t){var e=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/TipView",cc.Prefab,function(o,i){if(o)return cc.error(o),void e.scheduleOnce(function(){e.showTipView(t)},1);var n=cc.instantiate(i);n.parent=e.viewParent,n.position=cc.Vec3.ZERO;var r=n.getComponent(C.default);r.onCloseView=function(){e.isShowView=!1,e.setTrophiesIconShow(!0)},1==t?r.clickCenterBtnCallback=e.onClickBalanceNotSufficientOkBtn.bind(e):2==t?(r.clickLeftBtnCallback=e.retryGame.bind(e),r.clickRightBtnCallback=e.exitGame.bind(e)):3==t?r.clickRightBtnCallback=e.exitGame.bind(e):4==t&&(r.clickCenterBtnCallback=e.exitGame.bind(e)),r.show(t)})},e.prototype.onClickBalanceNotSufficientOkBtn=function(){this.symbolArea.scrollToResult()},e.prototype.checkRetryTimes=function(){return this.retryTimes>=this.maxRetryTimes?(this.showTipView(2),!1):(this.retryTimes++,this.showNetworkBusyTip(),!0)},e.prototype.showNetworkBusyTip=function(){var t=this.retryTimes<=this.maxRetryTimes?this.retryTimes-1:this.maxRetryTimes-1,e=app.i18n.t(["Game1810_63","Game1810_64","Game1810_65","Game1810_66","Game1810_67"][t]);this.networkBusyTipLab.overflow=cc.Label.Overflow.NONE,this.networkBusyTipLab.string=app.i18n.t("Game1810_62")+"("+e+")",this.networkBusyTipLab._forceUpdateRenderData(),this.networkBusyTipLab.node.width>900&&(this.networkBusyTipLab.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.networkBusyTipLab.node.width=900,this.networkBusyTipLab._forceUpdateRenderData()),this.networkBusyTipLab.node.parent.width=this.networkBusyTipLab.node.width+50,this.networkBusyTipLab.node.parent.height=this.networkBusyTipLab.node.height+100;var o=this.networkBusyTipLab.node.parent.parent;o.active=!0,cc.Tween.stopAllByTarget(o),cc.tween(o).delay(2).to(.5,{opacity:0}).call(function(){o.opacity=255,o.active=!1}).start()},e.prototype.playTip=function(){this.winAmountDisplay.hide(),this.tipDislay.loopPlayRandomTip([0,1,2])},e.prototype.reqGameResult=function(){f.Game1810Mgr.instance.reqGameResult()},e.prototype.onGameResult=function(){this.retryTimes=0,this.goldNum=this.goldNum.minus(f.Game1810Mgr.instance.getBetGold()),this.updateGoldNum(),this.symbolArea.scrollToResult()},e.prototype.onBalanceNotSufficient=function(){this.showTipView(1)},e.prototype.reqGetInfo=function(){f.Game1810Mgr.instance.reqGetInfo()},e.prototype.showServerErrorTipView=function(){this.showTipView(4)},e.prototype.onServerError=function(){this.showServerErrorTipView()},e.prototype.onReqGameResultFail=function(){this.checkRetryTimes()&&this.retryReqGetInfo()},e.prototype.onReqGameResultTooFrequently=function(){this.scheduleOnce(this.reqGameResult,this.tooFrequencyRetryDelay)},e.prototype.retryReqGetInfo=function(){cc.log("retry request get info, retry times:"+this.retryTimes);var t=Math.pow(2,this.retryTimes);this.scheduleOnce(this.reqGetInfo,t)},e.prototype.onReqGetInfoFail=function(){this.checkRetryTimes()&&this.retryReqGetInfo()},e.prototype.retryReqGameResult=function(){cc.log("retry request game reuslt, retry times:"+this.retryTimes);var t=Math.pow(2,this.retryTimes);this.scheduleOnce(this.reqGameResult,t)},e.prototype.onResultIsSame=function(){this.checkRetryTimes()&&this.retryReqGameResult()},e.prototype.onAllColStop=function(){f.Game1810Mgr.instance.isAuto?0==this.autoTimes&&(f.Game1810Mgr.instance.isAuto=!1,this.bottomBtn.hideAutoTimesBtn(),this.bottomBtn.disableStartBtn()):this.bottomBtn.disableStartBtn(),this.symbolArea.setStartBtnHoverLightEnable(!1),this.state=s.SHOW_WIN_RESULT},e.prototype.startScroll=function(){this.state=s.SCROLL,this.fastScrollSwitch.State==c.TurboState.ON?f.Game1810Mgr.instance.canClickSkipScroll=!1:f.Game1810Mgr.instance.canClickSkipScroll=!0,this.symbolArea.startScroll(this.fastScrollSwitch.State==c.TurboState.ON),this.retryTimes=0,this.reqGameResult()},e.prototype.startGame=function(){this.playTip(),this.symbolDescDisplay.playHide(),this.startScroll(),S.default.play(this.generalAudio,b.default.startScroll[0],b.default.startScroll[1])},e.prototype.checkGold=function(){var t=f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount();return!this.goldNum.lt(t)},e.prototype.onClickStartBtn=function(){if(!this.isShowView){if(this.state==s.IDLE)return this.startGame(),void this.checkGold();if(this.state!=s.SCROLL);else{if(!f.Game1810Mgr.instance.canClickSkipScroll)return;this.symbolArea.skipScroll()}}},e.prototype.onClickCloseBtn=function(){this.isShowView||(S.default.play(this.btnAudio),this.showTipView(3))},e.prototype.updateBetAmountAndPlayAnim=function(){var t=f.Game1810Mgr.instance.getGameResult(),e=.2+(.36-.2)*(f.Game1810Mgr.instance.getBetAmountOptionIdx()/f.Game1810Mgr.instance.getBetAmountOptionMaxIdx());this.betAmountDisplay.updateBetAmountAndPlayAnim(""+t.currency+this.getBetAmountStr(),e)},e.prototype.updateAddMinusBtnOnClick=function(){f.Game1810Mgr.instance.hasBiggerBetAmountOption()?this.addBetAmountBtnNode.opacity=255:(this.addBetAmountBtnNode.opacity=50,this.msgTipDisplay.show(1)),f.Game1810Mgr.instance.hasSmallerBetAmountOption()?this.minusBetAmountBtnNode.opacity=255:(this.minusBetAmountBtnNode.opacity=50,this.msgTipDisplay.show(0))},e.prototype.onClickAddAmountBtn=function(){if(!this.isShowView&&this.state==s.IDLE&&!this.bottomBtn.isPlaySwitchBtnAnim()){var t=f.Game1810Mgr.instance.nextBiggerBetAmountOptionIdx();this.updateBetAmountAndPlayAnim(),-1!=t?this.updateAddMinusBtnOnClick():this.msgTipDisplay.show(1)}},e.prototype.onClickMinusAmountBtn=function(){if(!this.isShowView&&this.state==s.IDLE&&!this.bottomBtn.isPlaySwitchBtnAnim()){var t=f.Game1810Mgr.instance.prevSmallerBetAmountOptionIdx();this.updateBetAmountAndPlayAnim(),-1!=t?this.updateAddMinusBtnOnClick():this.msgTipDisplay.show(0)}},e.prototype.onClickFastScrollSwitch=function(){S.default.play(this.bottomBtnAudio),this.msgTipDisplay.show(this.fastScrollSwitch.State==c.TurboState.ON?2:3)},e.prototype.showSelectBetAmountView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/pgGameBetSetting",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO;var n=i.getComponent(E.default),r=f.Game1810Mgr.instance.getBetAmountConfig(),s=r.betSizeConfig.map(function(t){return t}),a=r.betLevelConfig.map(function(t){return t}),c=f.Game1810Mgr.instance.getBetAmountList(),l=f.Game1810Mgr.instance.getCurBetAmountOption(),p=l.getBetSize().toNumber(),h=l.getBetLevel().toNumber(),u=l.getBaseBet().toNumber();n.init(s,a,c,u,p,h),n.setBetCallback(t.onBetAmountChange.bind(t)),n.onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)};var d=f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount().toNumber(),m=f.Game1810Mgr.instance.getGameResult().total_win,y=t.goldNum.toNumber();n.show(d,m,y)})},e.prototype.showBalanceView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/UIBalance",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO;var n=i.getComponent(N.default);n.onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)},n.show(t.goldNum.toNumber())})},e.prototype.onClickBalanceBtn=function(){this.state==s.IDLE&&(this.isShowView||(this.showBalanceView(),S.default.play(this.bottomBtnAudio)))},e.prototype.onClickBetAmountBtn=function(){this.state==s.IDLE&&(this.isShowView||(this.showSelectBetAmountView(),S.default.play(this.bottomBtnAudio)))},e.prototype.onClickSwitchSettingBtn=function(){this.state==s.IDLE&&(this.bottomBtn.isPlaySwitchBtnAnim()||this.isShowView||(this.bottomBtn.playSettingShowAnim(),S.default.play(this.bottomBtnAudio)))},e.prototype.onClickCloseSettingBtn=function(){this.state==s.IDLE&&(this.bottomBtn.isPlaySwitchBtnAnim()||this.isShowView||(this.bottomBtn.playOperateShowAnim(),S.default.play(this.bottomBtnAudio)))},e.prototype.showSelectAutoTimesView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/UIGameBetCommon",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO;var n=i.getComponent(O.default);n.onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)};var r=f.Game1810Mgr.instance.getCurBetAmountOption().getBetAmount().toNumber();n.show(r,t.goldNum.toNumber(),t.totalWinAmountDisplay.getNumber())})},e.prototype.onClickAutoBtn=function(){this.state==s.IDLE&&(this.bottomBtn.isPlaySwitchBtnAnim()||this.isShowView||(this.showSelectAutoTimesView(),S.default.play(this.bottomBtnAudio)))},e.prototype.onClickAutoTimesBtn=function(){return this.unschedule(this.autoStartGame),this.autoTimes=0,f.Game1810Mgr.instance.isAuto=!1,this.bottomBtn.hideAutoTimesBtn(),this.state==s.AUTO_IDLE?(this.state=s.IDLE,this.bottomBtn.playStartBtnIdleAnim(),this.bottomBtn.enableOperateBtnExceptStartBtn(),void this.symbolArea.enableLabel()):this.state==s.SCROLL?(this.bottomBtn.scrollStartBtnCenterIcon(),void(f.Game1810Mgr.instance.canClickSkipScroll&&!f.Game1810Mgr.instance.isSkipScroll?this.bottomBtn.enableStartBtnOnScroll():this.bottomBtn.disableStartBtnOnScroll())):void(this.state!=s.SHOW_WIN_RESULT||this.bottomBtn.disableStartBtn())},e.prototype.setTrophiesIconShow=function(){window.changeTrophiesIconShow&&window.changeTrophiesIconShow(!1)},e.prototype.showHistoryView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/UIhistory",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO,i.getComponent("UIhistory").onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)}})},e.prototype.onClickHistoryBtn=function(){this.state==s.IDLE&&(this.isShowView||(this.showHistoryView(!1),S.default.play(this.bottomBtnAudio)))},e.prototype.onClickSymbol=function(t){if(this.state==s.IDLE){var e=t.node.convertToWorldSpaceAR(cc.Vec3.ZERO),o=t.getSymbolId(),i=f.Game1810Mgr.instance.getGameResult().prop_odds[o];t.getCol()<2?this.symbolDescDisplay.showLeft(o,e,i):this.symbolDescDisplay.showRight(o,e,i)}},e.prototype.showRuleView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/RuleView",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO,i.getComponent(R.default).onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)}})},e.prototype.onClickRuleBtn=function(){this.state==s.IDLE&&(this.isShowView||(this.showRuleView(),S.default.play(this.bottomBtnAudio)))},e.prototype.showPayView=function(){var t=this;this.isShowView=!0,this.setTrophiesIconShow(!1),cc.resources.load("Game1810/prefab/PayView",cc.Prefab,function(e,o){if(e)return cc.error(e),t.isShowView=!1,void t.setTrophiesIconShow(!0);var i=cc.instantiate(o);i.parent=t.viewParent,i.position=cc.Vec3.ZERO,i.getComponent(w.default).onCloseView=function(){t.isShowView=!1,t.setTrophiesIconShow(!0)}})},e.prototype.onClickPayBtn=function(){this.state==s.IDLE&&(this.isShowView||(this.showPayView(),S.default.play(this.bottomBtnAudio)))},r([B(m.default)],e.prototype,"symbolArea",void 0),r([B(u.default)],e.prototype,"bottomBtn",void 0),r([B(l.default)],e.prototype,"betAmountDisplay",void 0),r([B(cc.Node)],e.prototype,"addBetAmountBtnNode",void 0),r([B(cc.Node)],e.prototype,"minusBetAmountBtnNode",void 0),r([B(A.default)],e.prototype,"switchSettingBtn",void 0),r([B(A.default)],e.prototype,"ruleBtn",void 0),r([B(A.default)],e.prototype,"payBtn",void 0),r([B(A.default)],e.prototype,"historyBtn",void 0),r([B(A.default)],e.prototype,"closeBtn",void 0),r([B(p.default)],e.prototype,"goldNumDisplay",void 0),r([B(c.default)],e.prototype,"fastScrollSwitch",void 0),r([B(g.default)],e.prototype,"winAmountDisplay",void 0),r([B(y.default)],e.prototype,"tipDislay",void 0),r([B(cc.Label)],e.prototype,"networkBusyTipLab",void 0),r([B(T.default)],e.prototype,"bigWinView",void 0),r([B(p.default)],e.prototype,"totalWinAmountDisplay",void 0),r([B(_.default)],e.prototype,"symbolDescDisplay",void 0),r([B(v.default)],e.prototype,"autoTimesBtnHoverLightEffect",void 0),r([B(cc.AudioClip)],e.prototype,"generalAudio",void 0),r([B(A.default)],e.prototype,"closeSettingBtn",void 0),r([B(cc.AudioClip)],e.prototype,"bottomBtnAudio",void 0),r([B(cc.Node)],e.prototype,"viewParent",void 0),r([B(I.default)],e.prototype,"msgTipDisplay",void 0),r([B(cc.AudioClip)],e.prototype,"btnAudio",void 0),r([P],e)}(cc.Component);o.default=D,cc._RF.pop()},{"../../../Common/Define/ShareDefine":"ShareDefine","../../../script/audio/WebAudioEngine":"WebAudioEngine","../../../script/common_game/LightningEffect":"LightningEffect","../../../script/common_game/SlotGame/SlotBetAmountDisplay":"SlotBetAmountDisplay","../../../script/common_game/SlotGame/SlotHoverLightEffect":"SlotHoverLightEffect","../../../script/common_game/SlotGame/SlotNumberChangeDisplay":"SlotNumberChangeDisplay","../../../script/common_game/SlotGame/SlotUtility":"SlotUtility","../../GameBetCommon/UIGameBetCommon":"UIGameBetCommon","../../GameBetCommon/pgGameBetSettingView":"pgGameBetSettingView","./AudioConfig":"AudioConfig","./Button":"Button","./Game1810BottomBtn":"Game1810BottomBtn","./Game1810Define":"Game1810Define","./Game1810Mgr":"Game1810Mgr","./Game1810SymbolArea":"Game1810SymbolArea","./Game1810SymbolDescDisplay":"Game1810SymbolDescDisplay","./Game1810TipDisplay":"Game1810TipDisplay","./Game1810WinAmountDisplay":"Game1810WinAmountDisplay","./OxBigWinView":"OxBigWinView","./PayView":"PayView","./RuleView":"RuleView","./SlotButton":"SlotButton","./SlotMsgTipDisplay":"SlotMsgTipDisplay","./TipView":"TipView","./UIBalanceView":"UIBalanceView"}],global_config:[function(t,e){"use strict";cc._RF.push(e,"238595bxHpNoa2agj70d5x5","global_config");var o={hosts:["192.168.1.130:8090"],scheme:"http"};o.dev_webapi_url=o.scheme+"://"+o.hosts[0],o.webapi_url="",o.mainVer=1,o.subVer=4,o.buildVer="1006",o.openSubGame=!1,o.encryptPng=!1,o.oem="oye2indiadev",o.appName="TeenPDEV",o.packageName="com.teenpatti.oyegame",o.versionCode=1,o.versionName="1.0",o.packageUrl="",o.debug=!0,e.exports=o,cc._RF.pop()},{}],"i18n-label":[function(t,e,o){"use strict";cc._RF.push(e,"b779cxLK/9JAJ3v4q/SO7q+","i18n-label");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./i18n"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18nKey="",e.i18nParams=[],e}return n(e,t),e.prototype.onLoad=function(){this.label=this.getComponent(cc.Label),s.tcI18n.register(this),this.refresh()},e.prototype.onDestroy=function(){s.tcI18n.unregister(this)},e.prototype.updateParams=function(t){this.i18nParams=t,this.refresh()},e.prototype.refresh=function(){if(0!==this.i18nKey.length){var t=s.tcI18n.i18nLabel(this.i18nKey,this.i18nParams);this.label.string=t}},r([l],e.prototype,"i18nKey",void 0),r([l],e.prototype,"i18nParams",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./i18n":"i18n"}],i18n:[function(t,e,o){"use strict";cc._RF.push(e,"40878iLsn5BtbvGNYo5mO01","i18n");var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function s(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.tcI18n=void 0;var r=t("../log/log"),s=t("../res/res");(function(t){var e=["en","pt"];t.defaultLanguage="pt",t.isOfType=function(t){return e.includes(t)},t.switchLanguageEvent="switch-language";var o=[],a={};function c(){return i(this,void 0,void 0,function(){var e,o;return n(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,s.tcRes.load(t.curLanguage,cc.JsonAsset,"labels")];case 1:return e=i.sent(),a=e.json,[3,3];case 2:return o=i.sent(),r.tcLog.log("load i18n label res: "+o.message),[3,3];case 3:return[2]}})})}t.register=function(t){-1===o.indexOf(t)&&o.push(t)},t.unregister=function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1)},t.switchLanguage=function(e){return i(this,void 0,void 0,function(){return n(this,function(i){switch(i.label){case 0:return t.curLanguage===e?[2]:(t.curLanguage=e,[4,c()]);case 1:return i.sent(),o.forEach(function(t){return t.refresh()}),cc.systemEvent.emit(t.switchLanguageEvent,t.curLanguage),[2]}})})},t.i18nLabel=function(t,e){var o;if(!e||0==e.length)return null!==(o=a[t])&&void 0!==o?o:"";var i=a[t];if(!i||0===i.length)return"";for(var n=0;n<e.length;n++){var r=new RegExp("#"+n);i=i.replace(r,e[n])}return i},t.i18nSprite=function(e){return i(this,void 0,void 0,function(){return n(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,s.tcRes.load(t.curLanguage,cc.SpriteFrame,"artwork/"+e)];case 1:return[2,o.sent()];case 2:return o.sent(),r.tcLog.error("load i18n sprite res: "+t.curLanguage+" artwork/"+e),[3,3];case 3:return[2]}})})}})(o.tcI18n||(o.tcI18n={})),cc._RF.pop()},{"../log/log":"log","../res/res":"res"}],logger:[function(t,e,o){"use strict";cc._RF.push(e,"c66ebt3ayhIMbmXA4Si3lv3","logger");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,a=(r.property,/(%d)|(%s)/),c=/%s/,l=function(){function t(){}var e;return e=t,t._green=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: green;")}},t._blue=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: blue;")}},t._purple=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: purple;")}},t._red=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: red;")}},t._yellow=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: yellow;")}},t._pink=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: pink;")}},t._orange=function(t){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!(e.logLevel<2)){var r=this.formatStr.apply(this,n([t],o));e.log("%c"+e.timeFormat()+r,"color: orange;")}},t.green=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.blue=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.purple=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.red=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.yellow=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.pink=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.orange=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o]},t.enableLogger=function(){this.log=this.origin_console_log,this.warn=this.origin_console_warn,console.log=this.origin_console_log,console.warn=this.origin_console_warn,this.green=this._green,this.blue=this._blue,this.purple=this._purple,this.red=this._red,this.yellow=this._yellow,this.pink=this._pink,this.orange=this._orange},t.formatStr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=arguments.length;if(0===o)return"";var i=arguments[0];if(1===o)return""+i;var n="string"==typeof i&&a.test(i);if(n)for(var r=1;r<o;++r){var s=arguments[r],l="number"==typeof s?a:c;l.test(i)?i=i.replace(l,s):i+=" "+s}else for(r=1;r<o;++r)i+=" "+arguments[r];return i},t.timeFormat=function(){var t=new Date,e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),n=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds(),c=function(t,e){return(""+t).padStart(null!=e?e:2,"0")};return c(e)+"/"+c(o)+"/"+c(i)+" "+c(n)+":"+c(r)+":"+c(s)+"."+c(a,3)},t.logLevel=4,t.origin_console_log=console.log,t.origin_console_warn=console.warn,t.log=console.log,t.warn=console.warn,t.error=console.error,e=i([s],t)}();o.default=l,cc._RF.pop()},{}],log:[function(t,e,o){"use strict";cc._RF.push(e,"f1045pjZFpPgIf5T51wQcJd","log");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.tcLog=void 0,function(t){var e=4;function o(){var t=new Date,e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),n=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),a=t.getMilliseconds(),c=function(t,e){return(""+t).padStart(null!=e?e:2,"0")};return c(e)+"/"+c(o)+"/"+c(i)+" "+c(n)+":"+c(r)+":"+c(s)+"."+c(a,3)}t.setLevel=function(t){e=t},t.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e<4||console.log.apply(console,i([o()],t))},t.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e<3||console.log.apply(console,i([o()],t))},t.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e<3||console.log.apply(console,i([o()],t))},t.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e<2||console.warn.apply(console,i([o()],t))},t.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e<1||console.error.apply(console,i([o()],t))}}(o.tcLog||(o.tcLog={})),cc._RF.pop()},{}],myplayer:[function(t,e,o){"use strict";cc._RF.push(e,"3e69bq4PgNADI7+DnBe4Vaw","myplayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.myplayer=void 0;var s=t("../net/GameNet"),a=t("../net/GameNetEvent"),c=t("../net/Result"),l=t("../tools/GlobalEvents"),p=t("./player"),h=cc._decorator,u=h.ccclass,d=(h.property,function(t){function e(){var e=t.call(this)||this;return e.pl=new p.player,e}var o;return n(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o,this.instance.onLoad()),this.instance},e.getPlayer=function(){return this.getInstance().get()},e.prototype.onLoad=function(){var t=this;s.default.getInstance().on(a.default.loginOK,function(e){e.tableid&&(e.pinfo.tableid=e.tableid),t.pl.init(e.pinfo),cc.sys.localStorage.setItem("sessionid",t.pl.getInfo().sessionid),cc.sys.localStorage.setItem("uid",t.pl.getInfo().uid)})},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.get=function(){return this.pl},e.prototype.getUid=function(){return this.pl.getInfo().uid},e.prototype.getInfo=function(){return this.pl.getInfo()},e.prototype.updateInfo=function(t){this.pl.updateInfo(t)},e.prototype.requestUserInfo=function(t){l.GlobalEvents.getInstance().luck();var e=this;s.default.getInstance().request(s.default.cmdCall,{cmd:"Info"},function(o){s.default.getInstance().log(JSON.stringify(o)),o.result==c.Result.Success&&(e.updateInfo(o.pinfo),t&&t(o))})},e.instance=null,o=r([u],e)}(cc.Component));o.myplayer=d,cc._RF.pop()},{"../net/GameNet":"GameNet","../net/GameNetEvent":"GameNetEvent","../net/Result":"Result","../tools/GlobalEvents":"GlobalEvents","./player":"player"}],pgGameBetSettingView:[function(t,e,o){"use strict";cc._RF.push(e,"8eceapPnbNBLpfu+pJJZ+lH","pgGameBetSettingView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,n++)i[n]=r[s];return i};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common_game/SlotGame/SlotUtility"),c=t("../Game1810/script/Game1810Mgr"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.payTimes=0,e.betSizes=[],e.betTimes=[],e.betTotals=[],e.itemHight=0,e.curBetSizeIndex=0,e.curBetTimesIndex=0,e.curBetTotalIndex=0,e.isShowing=!1,e.isClosing=!1,e}return n(e,t),e.prototype.onLoad=function(){this.btnClose=cc.find("body/content/btnClose",this.node),this.body=cc.find("body",this.node),this.mask=cc.find("mask",this.node),this.content=cc.find("body/content",this.node),this.labelCurBonus=cc.find("body/content/New Node/nodeBonus/label",this.node).getComponent(cc.Label),this.labelCurBet=cc.find("body/content/New Node/nodeWin/label",this.node).getComponent(cc.Label),this.labelcurWin=cc.find("body/content/New Node/nodeBet/label",this.node).getComponent(cc.Label),this.labelPayTimes=cc.find("body/content/scrollView/curSelectNote/labelBetTimes",this.node).getComponent(cc.Label),this.scrollViewBetSize=cc.find("body/content/scrollView/betSize",this.node).getComponent(cc.ScrollView),this.scrollViewBetTimes=cc.find("body/content/scrollView/betTimes",this.node).getComponent(cc.ScrollView),this.scrollViewBetTotal=cc.find("body/content/scrollView/betTotal",this.node).getComponent(cc.ScrollView),this.nodeBetSizeItemConatiner=cc.find("body/content/scrollView/betSize/view/content",this.node),this.nodeBetTimesItemConatiner=cc.find("body/content/scrollView/betTimes/view/content",this.node),this.nodeBetTotalItemConatiner=cc.find("body/content/scrollView/betTotal/view/content",this.node),this.nodelItemOtherScroll=cc.find("body/content/scrollView/itemSelect",this.node),this.nodeItemTotalScroll=cc.find("body/content/scrollView/itemTotal",this.node),this.btnMaxBet=cc.find("body/content/BtnMaxBet",this.node),this.btnOk=cc.find("body/content/BtnOk",this.node),this.itemHight=this.nodelItemOtherScroll.getContentSize().height,this.bindClickEvent()},e.prototype.onClickBg=function(){this.isShowing||this.isClosing||this.moveOut()},e.prototype.bindClickEvent=function(){var t,e,o,i=this;null===(t=this.btnClose)||void 0===t||t.on("click",function(){i.isShowing||i.isClosing||i.moveOut()}),null===(e=this.btnMaxBet)||void 0===e||e.on("click",function(){i.isShowing||i.isClosing||(i.changeBetSize(i.betSizes.length-3,.2,!1),i.changeBetTimes(i.betTimes.length-3))}),null===(o=this.btnOk)||void 0===o||o.on("click",function(){i.isShowing||i.isClosing||(i.betChangeCallback&&setTimeout(function(){var t=i.betSizes[i.curBetSizeIndex],e=i.betTimes[i.curBetTimesIndex],o=i.betTotals[i.curBetTotalIndex];i.betChangeCallback(o,e,t)},300),i.moveOut())})},e.prototype.moveOut=function(){var t=this;this.isClosing=!0,cc.Tween.stopAllByTarget(this.body),cc.tween(this.body).to(.1,{position:cc.v3(0,-this.node.height/2-this.body.height,0)}).delay(.1).call(function(){cc.Tween.stopAllByTarget(t.mask),cc.tween(t.mask).to(.1,{opacity:0}).call(function(){t.isClosing=!1,t.onCloseView&&(t.onCloseView(),t.onCloseView=null),t.node.destroy()}).start()}).start()},e.prototype.init=function(t,e,o,i,n,r){var a,c,l,p,h,u;void 0===i&&(i=0),this.betSizes=t,this.betTimes=e,this.betTotals=new(Array.bind.apply(Array,s([void 0],o))),(a=this.betSizes).push.apply(a,[0,-1]),(c=this.betSizes).unshift.apply(c,[-1,0]),(l=this.betTimes).push.apply(l,[0,-1]),(p=this.betTimes).unshift.apply(p,[-1,0]),(h=this.betTotals).push.apply(h,[0,-1]),(u=this.betTotals).unshift.apply(u,[-1,0]),this.payTimes=i||10,this.labelPayTimes.string=this.payTimes.toString(),this.showBetSizeItems(n),this.showBetTimesItems(r),this.showBetTotalBetItems(),this.bindEvent()},e.prototype.setBetCallback=function(t){this.betChangeCallback=t},e.prototype.bindEvent=function(){var t,e,o,i,n,r;null===(t=this.scrollViewBetSize)||void 0===t||t.node.on("scroll-ended",this.onScorllViewBetSizeScrollEnd,this),null===(e=this.scrollViewBetTimes)||void 0===e||e.node.on("scroll-ended",this.onScorllViewBetTimesScrollEnd,this),null===(o=this.scrollViewBetTotal)||void 0===o||o.node.on("scroll-ended",this.onScorllViewBetTotalScrollEnd,this),null===(i=this.scrollViewBetSize)||void 0===i||i.node.on("scrolling",this.onSelecttingBetValue,this),null===(n=this.scrollViewBetTimes)||void 0===n||n.node.on("scrolling",this.onSelecttingBetValue,this),null===(r=this.scrollViewBetTotal)||void 0===r||r.node.on("scrolling",this.onSelecttingBetValue,this)},e.prototype.show=function(t,e,o){var i=this;this.node.active=!0,this.node.getComponent(cc.Widget).updateAlignment(),this.isShowing=!0,this.body.position=cc.v3(0,-this.node.height/2-this.body.height,0),this.content.active=!1,cc.Tween.stopAllByTarget(this.body),cc.tween(this.body).to(.2,{position:cc.v3(0,-this.node.height/2,0)}).delay(.1).call(function(){i.content.active=!0,i.content.opacity=0,cc.Tween.stopAllByTarget(i.content),cc.tween(i.content).to(.2,{opacity:255}).call(function(){return i.isShowing=!1}).start()}).start(),this.mask.opacity=0,cc.Tween.stopAllByTarget(this.mask),cc.tween(this.mask).to(.2,{opacity:153}).start(),this.initScrollViews(t),this.labelCurBonus.string=c.Game1810Mgr.instance.getGameResult().currency+a.default.formatNumber(o),this.labelCurBet.string=c.Game1810Mgr.instance.getGameResult().currency+a.default.formatNumber(t),this.labelcurWin.string=c.Game1810Mgr.instance.getGameResult().currency+a.default.formatNumber(e)},e.prototype.showBetSizeItems=function(t){var e=this;this.betSizes.forEach(function(t,o){var i=cc.instantiate(e.nodelItemOtherScroll);i.active=!0,i.setParent(e.nodeBetSizeItemConatiner),i.getComponent(cc.Label).string=t<0?"  ":0==t?"-":c.Game1810Mgr.instance.getGameResult().currency+a.default.formatNumber(t),i.on("click",function(){o>1&&o<e.betSizes.length-2&&(e.checkStopBtnBetMaskStatus(!0),e.onClickToChangeBetSize(o))},e)});var o=this.betSizes.indexOf(t);this.changeBetSize(o)},e.prototype.showBetTimesItems=function(t){var e=this;this.betTimes.forEach(function(t,o){var i=cc.instantiate(e.nodelItemOtherScroll);i.active=!0,i.setParent(e.nodeBetTimesItemConatiner),i.getComponent(cc.Label).string=t<0?"  ":0==t?"-":t.toString(),i.on("click",function(){o>1&&o<e.betTimes.length-2&&(e.checkStopBtnBetMaskStatus(!0),e.onClickToChangeBetTimes(o))},e)});var o=this.betTimes.indexOf(t);this.changeBetTimes(o)},e.prototype.showBetTotalBetItems=function(){var t=this;this.betTotals.forEach(function(e,o){var i=cc.instantiate(t.nodeItemTotalScroll);i.active=!0,i.setParent(t.nodeBetTotalItemConatiner),i.getComponent(cc.Label).string=e<0?" ":0==e?"-":c.Game1810Mgr.instance.getGameResult().currency+a.default.formatNumber(e),i.on("click",function(){o>1&&o<t.betTotals.length-2&&(t.checkStopBtnBetMaskStatus(!0),t.onClickToChangeBetTotal(o))},t)})},e.prototype.onClickToChangeBetSize=function(t,e){void 0===e&&(e=.15),this.changeBetSize(t)},e.prototype.changeBetSize=function(t,e,o,i){var n=this;void 0===e&&(e=.15),void 0===o&&(o=!0),void 0===i&&(i=.2),this.curBetSizeIndex=t,this.nodeBetSizeItemConatiner.stopAllActions(),cc.tween(this.nodeBetSizeItemConatiner).delay(i).to(e,{position:cc.v3(0,(t-2)*this.itemHight,0)}).call(function(){o?n.upateBetTotalByBetSizeAndTimes():n.checkStopBtnBetMaskStatus(!1)}).start()},e.prototype.onClickToChangeBetTimes=function(t,e){void 0===e&&(e=.15),this.changeBetTimes(t)},e.prototype.changeBetTimes=function(t,e,o,i){var n=this;void 0===e&&(e=.15),void 0===o&&(o=!0),void 0===i&&(i=.2),this.curBetTimesIndex=t,this.nodeBetTimesItemConatiner.stopAllActions(),cc.tween(this.nodeBetTimesItemConatiner).delay(i).to(e,{position:cc.v3(0,(t-2)*this.itemHight,0)}).call(function(){o?n.upateBetTotalByBetSizeAndTimes():n.checkStopBtnBetMaskStatus(!1)}).start()},e.prototype.onClickToChangeBetTotal=function(t,e){void 0===e&&(e=.15),this.changeBetTotal(t,e)},e.prototype.changeBetTotal=function(t,e,o,i){var n=this;void 0===e&&(e=.15),void 0===o&&(o=!0),void 0===i&&(i=.2),this.curBetTotalIndex=t,cc.tween(this.nodeBetTotalItemConatiner).delay(i).to(e,{position:cc.v3(0,(t-2)*this.itemHight,0)}).call(function(){o?n.changeBetSizeAndTimesScrollView(t):n.checkStopBtnBetMaskStatus(!1)}).start()},e.prototype.upateBetTotalByBetSizeAndTimes=function(t){void 0===t&&(t=.15);var e=this.betSizes[this.curBetSizeIndex]*this.betTimes[this.curBetTimesIndex]*this.payTimes,o=Number.parseFloat(e.toFixed(2)),i=this.betTotals.indexOf(o);i!=this.curBetTotalIndex&&this.changeBetTotal(i,t,!1)},e.prototype.onScorllViewBetSizeScrollEnd=function(){var t,e=(null===(t=this.scrollViewBetSize)||void 0===t?void 0:t.getContentPosition())||cc.v2(0,0),o=Math.floor(e.y/this.itemHight)+2;o=Math.max(2,o),o=Math.min(this.betSizes.length-2,o),this.checkStopBtnBetMaskStatus(this.curBetSizeIndex!=o),this.changeBetSize(o)},e.prototype.onScorllViewBetTimesScrollEnd=function(){var t,e=(null===(t=this.scrollViewBetTimes)||void 0===t?void 0:t.getContentPosition())||cc.v2(0,0),o=Math.floor(e.y/this.itemHight)+2;o=Math.max(2,o),o=Math.min(this.betTimes.length-2,o),this.checkStopBtnBetMaskStatus(this.curBetTimesIndex!=o),this.changeBetTimes(o)},e.prototype.onScorllViewBetTotalScrollEnd=function(){var t,e=(null===(t=this.scrollViewBetTotal)||void 0===t?void 0:t.getContentPosition())||cc.v2(0,0),o=Math.floor(e.y/this.itemHight)+2;o=Math.max(2,o),o=Math.min(this.betTotals.length-2,o),this.checkStopBtnBetMaskStatus(this.curBetTotalIndex!=o),this.changeBetTotal(o)},e.prototype.changeBetSizeAndTimesScrollView=function(t){for(var e=-1,o=-1,i=2;i<this.betSizes.length-2;++i)for(var n=2;n<this.betTimes.length-2;++n)if(Big(this.betSizes[i]).times(this.betTimes[n]).times(this.payTimes).toNumber()==this.betTotals[t]){e=i,o=n;break}this.curBetSizeIndex!=e&&e>-1&&this.changeBetSize(e,.2,!1),this.curBetTimesIndex!=o&&o>-1&&this.changeBetTimes(o,.2,!1)},e.prototype.initScrollViews=function(t){for(var e=2;e<this.betSizes.length-2;++e)for(var o=2;o<this.betTimes.length-2;++o)if(Big(this.betSizes[e]).times(this.betTimes[o]).times(this.payTimes).toNumber()==t){this.curBetSizeIndex=e,this.curBetTimesIndex=o;break}this.curBetSizeIndex<2&&(this.curBetSizeIndex=2),this.curBetTimesIndex<2&&(this.curBetTimesIndex=2),this.changeBetSize(this.curBetSizeIndex,0,!1,0),this.changeBetTimes(this.curBetTimesIndex,0,!1,0),this.upateBetTotalByBetSizeAndTimes(0)},e.prototype.onSelecttingBetValue=function(){this.checkStopBtnBetMaskStatus(!0)},e.prototype.checkStopBtnBetMaskStatus=function(t){t?(this.btnMaxBet.getComponent(cc.Button).interactable=!1,this.btnMaxBet.opacity=66,this.btnOk.getComponent(cc.Button).interactable=!1,this.btnOk.opacity=66,this.btnClose.getComponent(cc.Button).interactable=!1,this.btnClose.opacity=66):(this.btnMaxBet.getComponent(cc.Button).interactable=this.curBetTotalIndex!=this.betTotals.length-3,this.btnMaxBet.opacity=this.curBetTotalIndex!=this.betTotals.length-3?255:66,this.btnOk.getComponent(cc.Button).interactable=!0,this.btnOk.opacity=255,this.btnClose.getComponent(cc.Button).interactable=!0,this.btnClose.opacity=255)},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../Game1810/script/Game1810Mgr":"Game1810Mgr","../common_game/SlotGame/SlotUtility":"SlotUtility"}],player:[function(t,e,o){"use strict";cc._RF.push(e,"cdbe1g9479NVYEbJWaC829r","player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.player=void 0;var s=cc._decorator,a=s.ccclass,c=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.init=function(t){this.info=t},e.prototype.getInfo=function(){return this.info},e.prototype.updateInfo=function(t){for(var e in t)this.info[e]=t[e]},r([a],e)}(cc.Component));o.player=c,cc._RF.pop()},{}],res:[function(t,e,o){"use strict";cc._RF.push(e,"4f8a0Gj1MBBlq5oWKhaEecS","res");var i=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function s(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}c((i=i.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,i,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(n=(n=s.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.tcRes=void 0,function(t){var e=new Map;function o(t){return i(this,void 0,Promise,function(){return n(this,function(){return[2,new Promise(function(e,o){var i=cc.assetManager.getBundle(t);i?e(i):cc.assetManager.loadBundle(t,function(t,i){t?o(t):e(i)})})]})})}t.loadBundle=o,t.load=function(t,r,s,a){return i(this,void 0,Promise,function(){var i,c;return n(this,function(){return i=t+"-"+s,(c=e.get(i))?[2,c]:[2,new Promise(function(n,c){o(t).then(function(t){t.load(""+s,r,function(t,e){a&&a(t/e)},function(t,o){t?c(t):(e.set(i,o),n(o))})}).catch(function(t){c(t)})})]})})},t.loadRemote=function(t,o){return i(this,void 0,Promise,function(){var i,r;return n(this,function(){return i=""+t,(r=e.get(i))?[2,r]:[2,new Promise(function(n,r){cc.assetManager.loadRemote(t,null!=o?o:{},function(t,o){t?r(t):(e.set(i,o),n(o))})})]})})},t.releaseAssets=function(){},t.releaseBundle=function(){},t.getBundle=function(t){return cc.assetManager.getBundle(t)}}(o.tcRes||(o.tcRes={})),cc._RF.pop()},{}],shared_record_custom_date:[function(t,e,o){"use strict";cc._RF.push(e,"134f9blyQlLiaENIVSoPbpY","shared_record_custom_date");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedRecordCustomDate=void 0;var s=t("./shared_record"),a=t("./shared_record/DateEx"),c=t("./shared_record/shared_record_custom_select_list"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStartYear=null,e.btnStartMonth=null,e.btnStartDay=null,e.btnEndYear=null,e.btnEndMonth=null,e.btnEndDay=null,e.lbStartYear=null,e.lbStartMonth=null,e.lbStartDay=null,e.lbEndYear=null,e.lbEndMonth=null,e.lbEndDay=null,e.ndSelectList=null,e.recordCustomSelectList=null,e.selectList=null,e.nowDate=null,e.record=null,e}return n(e,t),e.prototype.onLoad=function(){var t=new Date;this.nowDate={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},e.prototype.start=function(){this.lbStartYear.string=""+this.nowDate.year,this.lbStartMonth.string=""+this.nowDate.month,this.lbStartDay.string=""+this.nowDate.day,this.lbEndYear.string=""+this.nowDate.year,this.lbEndMonth.string=""+this.nowDate.month,this.lbEndDay.string=""+this.nowDate.day},e.prototype.setDate=function(t){this.record=t},e.prototype.onBtnSuccess=function(){var t=this.getStartDate(),e=this.getEndDate(),o=a.DateEx.getZeroTimestamp(t.year,t.month-1,t.day),i=a.DateEx.getZeroTimestamp(e.year,e.month-1,e.day);i+=86399e3,this.node.destroy(),this.record.emit(s.SharedRecordEvent.REQUEST_CUSTOM_DATE_RECORD,o,i,s.SelectDateType.CUSTOM)},e.prototype.onBtnBack=function(){this.node.destroy()},e.prototype.onBtnStartYear=function(){for(var t=this,e=[],o=this.getMonthsAgo().year;o<=this.nowDate.year;o++)e.push(o);var i=this.getStartDate().year;this.getSelectList(this.btnStartYear.node,e,i,function(e){if(i!=e){if(t.lbStartYear.string=""+e,t.nowDate.year>e)t.lbStartYear.string=""+e,t.lbStartMonth.string=""+((new Date).getMonth()+1-3+12),t.lbStartDay.string=""+new Date(e,Number(t.lbStartMonth.string),0).getDate();else{var o=new Date;t.lbStartYear.string=""+o.getFullYear(),t.lbStartMonth.string=""+(o.getMonth()+1),t.lbStartDay.string=""+o.getDate()}t.updateEndTime(t.getStartDate())}})},e.prototype.onBtnStartMonth=function(){for(var t=this,e=this.getMonthsAgo(),o=this.getStartDate(),i=o.year,n=o.month,r=[],s=0;s<=3;s++){var c=e.month+s;if(e.year<i){if(c<=12)continue;r.push(c-12)}else{if(c>12)break;r.push(c)}}this.getSelectList(this.btnStartMonth.node,r,n,function(e){n!=e&&(t.lbStartMonth.string=""+e,i<t.nowDate.year||t.nowDate.month>e?t.lbStartDay.string=""+a.DateEx.getMonthDay(i,e):t.lbStartDay.string=""+t.nowDate.day,t.updateEndTime(t.getStartDate()))})},e.prototype.onBtnStartDay=function(){var t,e=this,o=this.getStartDate(),i=o.year,n=o.month,r=o.day,s=1;if(i==this.nowDate.year&&n==this.nowDate.month)t=this.nowDate.day;else{t=a.DateEx.getMonthDay(i,n);var c=this.getMonthsAgo();c.year==i&&c.month==n&&(s=Math.max(s,c.day))}for(var l=[],p=s;p<=t;p++)l.push(p);this.getSelectList(this.btnStartDay.node,l,r,function(t){r!=t&&(e.lbStartDay.string=""+t,e.updateEndTime(e.getStartDate()))})},e.prototype.onBtnEndYear=function(){for(var t=this,e=[],o=this.getMonthsAgo().year;o<=this.nowDate.year;o++)e.push(o);var i=this.getEndDate().year;this.getSelectList(this.btnEndYear.node,e,i,function(e){if(i!=e){if(t.lbEndYear.string=""+e,t.nowDate.year>e)t.lbEndYear.string=""+e,t.lbEndMonth.string=""+((new Date).getMonth()+1-3+12),t.lbEndDay.string=""+new Date(e,Number(t.lbEndMonth.string),0).getDate();else{var o=new Date;t.lbEndYear.string=""+o.getFullYear(),t.lbEndMonth.string=""+(o.getMonth()+1),t.lbEndDay.string=""+o.getDate()}t.updateStartTime(t.getEndDate())}})},e.prototype.onBtnEndMonth=function(){var t=this;console.warn("btnendmonth");for(var e=this.getMonthsAgo(),o=this.getEndDate(),i=o.year,n=o.month,r=[],s=0;s<=3;s++){var c=e.month+s;if(e.year<i){if(c<=12)continue;r.push(c-12)}else{if(c>12)break;r.push(c)}}this.getSelectList(this.btnEndMonth.node,r,n,function(e){console.warn("month",n,e),n!=e&&(console.warn("this.nowDate.month",t.nowDate.month),t.lbEndMonth.string=""+e,i<t.nowDate.year||t.nowDate.month>e?t.lbEndDay.string=""+a.DateEx.getMonthDay(i,e):t.lbEndDay.string=""+t.nowDate.day,t.updateStartTime(t.getEndDate()))})},e.prototype.onBtnEndDay=function(){var t,e=this,o=this.getEndDate(),i=o.year,n=o.month,r=o.day,s=1;if(i==this.nowDate.year&&n==this.nowDate.month)t=this.nowDate.day;else{t=a.DateEx.getMonthDay(i,n);var c=this.getMonthsAgo();c.year==i&&c.month==n&&(s=Math.max(s,c.day))}for(var l=[],p=s;p<=t;p++)l.push(p);this.getSelectList(this.btnEndDay.node,l,r,function(t){r!=t&&(e.lbEndDay.string=""+t,e.updateStartTime(e.getEndDate()))})},e.prototype.getStartDate=function(){return{year:Number(this.lbStartYear.getComponent(cc.Label).string),month:Number(this.lbStartMonth.getComponent(cc.Label).string),day:Number(this.lbStartDay.getComponent(cc.Label).string)}},e.prototype.getEndDate=function(){return{year:Number(this.lbEndYear.getComponent(cc.Label).string),month:Number(this.lbEndMonth.getComponent(cc.Label).string),day:Number(this.lbEndDay.getComponent(cc.Label).string)}},e.prototype.updateStartTime=function(t){var e=new Date(t.year,t.month-1,t.day).getTime(),o=e-5184e5,i=this.getMonthsAgo(),n=new Date(i.year,i.month-1,i.day);o<n.getTime()&&(o=n.getTime());var r=this.getStartDate(),s=r.year,a=r.month,c=r.day,l=new Date(s,a-1,c).getTime();if(!(l>=o&&l<=e)){var p=new Date(o);p.getFullYear()!=s&&(this.lbStartYear.string=""+p.getFullYear()),p.getMonth()+1!=a&&(this.lbStartMonth.string=""+(p.getMonth()+1)),p.getDate()!=c&&(this.lbStartDay.string=""+p.getDate())}},e.prototype.updateEndTime=function(t){var e=new Date(t.year,t.month-1,t.day).getTime(),o=e+5184e5,i=new Date(this.nowDate.year,this.nowDate.month-1,this.nowDate.day);o>i.getTime()&&(o=i.getTime());var n=this.getEndDate(),r=n.year,s=n.month,a=n.day,c=new Date(r,s-1,a).getTime();if(!(c>=e&&c<=o)){var l=new Date(o);l.getFullYear()!=r&&(this.lbEndYear.string=""+l.getFullYear()),console.warn("\u66f4\u65b0\u7ed3\u675f\u65f6\u95f4",l.getMonth()+1,s,t),l.getMonth()+1!=s&&(this.lbEndMonth.string=""+(l.getMonth()+1)),l.getDate()!=a&&(this.lbEndDay.string=""+l.getDate())}},e.prototype.getMonthsAgo=function(){var t=Object.assign({},this.nowDate),e=a.DateEx.getMonthsAgo(this.nowDate.year,this.nowDate.month-1,3),o=e.year,i=e.month;t.year=o,t.month=i+1;var n=a.DateEx.getMonthDay(o,i);return t.day=Math.min(t.day,n),t},e.prototype.getSelectList=function(t,e,o,i){if(!cc.isValid(this.selectList)){var n=cc.instantiate(this.recordCustomSelectList);n.active=!0,this.ndSelectList.active=!0,n.parent=this.ndSelectList,this.selectList=n.getComponent(c.SharedRecordCustomSelectList)}if(this.selectList.getTarget()!=t){this.selectList.mystart();var r=t,s=r.convertToWorldSpaceAR(cc.v3(0,-r.height/2));this.selectList.setPosition(s),this.selectList.setTarget(t),this.selectList.setData(e,o),this.selectList.setCallback(i)}else this.selectList.destroySelf()},e.prototype.onBtnCheckSelectList=function(){cc.isValid(this.selectList)&&(this.selectList.destroySelf(),this.selectList=null)},r([h({type:cc.Button})],e.prototype,"btnStartYear",void 0),r([h({type:cc.Button})],e.prototype,"btnStartMonth",void 0),r([h({type:cc.Button})],e.prototype,"btnStartDay",void 0),r([h({type:cc.Button})],e.prototype,"btnEndYear",void 0),r([h({type:cc.Button})],e.prototype,"btnEndMonth",void 0),r([h({type:cc.Button})],e.prototype,"btnEndDay",void 0),r([h({type:cc.Label})],e.prototype,"lbStartYear",void 0),r([h({type:cc.Label})],e.prototype,"lbStartMonth",void 0),r([h({type:cc.Label})],e.prototype,"lbStartDay",void 0),r([h({type:cc.Label})],e.prototype,"lbEndYear",void 0),r([h({type:cc.Label})],e.prototype,"lbEndMonth",void 0),r([h({type:cc.Label})],e.prototype,"lbEndDay",void 0),r([h({type:cc.Node})],e.prototype,"ndSelectList",void 0),r([h({type:cc.Prefab})],e.prototype,"recordCustomSelectList",void 0),r([p],e)}(cc.Component);o.SharedRecordCustomDate=u,cc._RF.pop()},{"./shared_record":"shared_record","./shared_record/DateEx":"DateEx","./shared_record/shared_record_custom_select_list":"shared_record_custom_select_list"}],shared_record_custom_select_list:[function(t,e,o){"use strict";cc._RF.push(e,"18b69QGHWZB06FfbYFyPCO7","shared_record_custom_select_list");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedRecordCustomSelectList=void 0;var s=t("../../../../../../script/framework/log/log"),a=t("./shared_record_date_item"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndContent=null,e.content=null,e.scrollBar=null,e.svContent=null,e.recordDateItem=null,e.selectData=null,e}return n(e,t),e.prototype.onLoad=function(){s.tcLog.log("SelectList onLoad:")},e.prototype.mystart=function(){var t=this;s.tcLog.log("SelectList start:");var e=this.ndContent;this.maxSize=new cc.Size(e.width,465),this.scrollBar.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){var o=e.getLocation(),i=t.scrollBar.node.convertToNodeSpaceAR(cc.v3(o.x,o.y,0)),n=cc.find("barParent/bar",t.scrollBar.node).getContentSize(),r=t.scrollBar.node.getContentSize();-i.y>r.height-n.height/2?i.y=-r.height+n.height/2:-i.y<n.height/2&&(i.y=-n.height/2);var s=(-i.y-n.height/2)/(r.height-n.height);t.svContent.scrollTo(cc.v2(0,1-s))})},e.prototype.onDestroy=function(){this.closeCallback&&this.closeCallback(this.selectData)},e.prototype.getTarget=function(){return this.target},e.prototype.getSelectData=function(){return this.selectData},e.prototype.setData=function(t,e){this.szData=t,this.selectData=e,this.reflush()},e.prototype.setCallback=function(t){this.closeCallback=t},e.prototype.setPosition=function(t){this.ndContent.position=this.node.convertToNodeSpaceAR(t)},e.prototype.setTarget=function(t){this.target=t},e.prototype.destroySelf=function(){this.node.destroy()},e.prototype.reflush=function(){var t=this;this.content.node.removeAllChildren();for(var e=null,o=0,i=this.szData.length;o<i;o++){var n=cc.instantiate(this.recordDateItem);n.parent=this.content.node;var r=n.getComponent(a.SharedRecordDateItem);r.setString(""+this.szData[o]),r.setCallback(this.onClickDateItem.bind(this,this.szData[o])),this.selectData==this.szData[o]&&(e=r)}this.content.updateLayout();var s=this.ndContent,c=this.content,l=Math.min(c.node.height,this.maxSize.height);s.height=l,this.scrollBar.node.active=c.node.height>this.maxSize.height,this.scrollBar.node.active&&null!=e&&this.scheduleOnce(function(){t.scrollTo(e.node)},0)},e.prototype.scrollTo=function(t){var e=t,o=e.convertToWorldSpaceAR(new cc.Vec3(0,-.5*e.height)),i=this.content.node.convertToNodeSpaceAR(o),n=-1*this.maxSize.height;if(!(0>=i.y&&i.y>=n)){var r=n-i.y;this.svContent.scrollToOffset(new cc.Vec2(0,r))}},e.prototype.onClickDateItem=function(t){this.selectData=t,this.destroySelf()},r([p({type:cc.Node})],e.prototype,"ndContent",void 0),r([p({type:cc.Layout})],e.prototype,"content",void 0),r([p({type:cc.Scrollbar})],e.prototype,"scrollBar",void 0),r([p({type:cc.ScrollView})],e.prototype,"svContent",void 0),r([p({type:cc.Prefab})],e.prototype,"recordDateItem",void 0),r([l],e)}(cc.Component);o.SharedRecordCustomSelectList=h,cc._RF.pop()},{"../../../../../../script/framework/log/log":"log","./shared_record_date_item":"shared_record_date_item"}],shared_record_date_item:[function(t,e,o){"use strict";cc._RF.push(e,"523c1mg1WxBp49mVc1aLzvT","shared_record_date_item");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedRecordDateItem=void 0;var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbDate=null,e.self=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.setCallback=function(t){this.callback=t},e.prototype.setString=function(t){this.lbDate.string=t},e.prototype.onClick=function(){this.callback()},r([c({type:cc.Label})],e.prototype,"lbDate",void 0),r([c({type:cc.Button})],e.prototype,"self",void 0),r([a],e)}(cc.Component);o.SharedRecordDateItem=l,cc._RF.pop()},{}],shared_record:[function(t,e,o){"use strict";cc._RF.push(e,"3a9afayLn9H5ZIxrGcKEYK5","shared_record");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedRecord=o.SelectDateType=o.SharedRecordEvent=void 0;var s=cc._decorator,a=s.ccclass;s.property,function(t){t.CLOSE_RECORD="CLOSE_RECORD",t.OPEN_RECORD_DATE_TYPE="OPEN_RECORD_DATE_TYPE",t.OPEN_RECORD_CUSTOM_DATE="OPEN_RECORD_CUSTOM_DATE",t.REQUEST_CUSTOM_DATE_RECORD="REQUEST_CUSTOM_DATE_RECORD",t.OPEN_RECORD_ROUND_DETAIL_LIST="OPEN_RECORD_ROUND_DETAIL_LIST",t.REQUEST_REMAINING_DATA="REQUEST_REMAINING_DATA"}(o.SharedRecordEvent||(o.SharedRecordEvent={})),function(t){t[t.TODAY=0]="TODAY",t[t.LAST_WEEK=1]="LAST_WEEK",t[t.CUSTOM=2]="CUSTOM"}(o.SelectDateType||(o.SelectDateType={}));var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([a],e)}(cc.Component);o.SharedRecord=c,cc._RF.pop()},{}],storage:[function(t,e,o){"use strict";cc._RF.push(e,"3f2876cA+dLDau9WZF7+E7G","storage"),Object.defineProperty(o,"__esModule",{value:!0}),o.tcStorage=void 0,function(t){(function(t){t.UserId="UserId",t.Authorization="Authorization",t.TelNumber="TelNumber",t.DeviceId="DeviceId",t.Language="Language",t.Password="Password",t.SoundSwitch="SoundSwitch",t.InvitationCode="InvitationCode",t.musicVolume="musicVolume",t.effectVolume="effectVolume"})(t.Keys||(t.Keys={})),t.save=function(t,e){localStorage.setItem(t,e)},t.readInt=function(t){var e=localStorage.getItem(t);return parseInt(null!=e?e:"0")},t.readFloat=function(t){var e=localStorage.getItem(t);return parseFloat(null!=e?e:"0")},t.readAny=function(t){var e;return null!==(e=localStorage.getItem(t))&&void 0!==e?e:""},t.isExist=function(t){return null!=localStorage.getItem(t)},t.remove=function(t){localStorage.removeItem(t)},t.clear=function(){localStorage.clear()}}(o.tcStorage||(o.tcStorage={})),cc._RF.pop()},{}]},{},["LoginGameMrg","LoginUtil","GameConst","Language","Tools","GameNet","GameNetEvent","Result","ResultText","logger","myplayer","player","GlobalEvents","GlobalGame","SelectGameMrg","App","BaseClass","BaseComponent","EventFunAdapter","Singleton","UIBaseComponent","BundleConfig","EventDefine","EventListener","ClientMgr","LayoutUtil","List","ListIndicator","ListItem","ListView","ScaleToFullSreenComponent","ScrollViewExtend","ScrollViewHack","UIScrollSelect","UIScrollSelectX","UIScrollViewItem","UIScrollview","FormDefine","FormStructDefine","GameEventDefine","GameHttpDefine","HttpServerDefine","LanguageDefine","MsgIDDefine","ShareDefine","TableDefine","UINameDefine","BaseDefine","BaseHttpServerManager","HttpRequest","HttpServerManager","emitter","UIRoot","ChatUtil","ComTool","ComUtil","ImageUtil","MathUtil","ScoreUtil","TimeUtil","CompHisPage","HisLineAward","UIDateSelect","UIDetailTip","UIHisDetail","shared_record","DateEx","NodeEx","shared_record_custom_select_list","shared_record_date_item","shared_record_custom_date","PgEvent","AudioConfig","AutoTimesButton","BigWinEmitter","Button","Game1810BottomBtn","Game1810Define","Game1810HistoryItem","Game1810Mgr","Game1810ResultDisplay","Game1810Scroll","Game1810ScrollSymbol","Game1810StartBtnHoverLightEffect","Game1810SymbolArea","Game1810SymbolDescDisplay","Game1810TipDisplay","Game1810WidLightDisplay","Game1810WinAmountDisplay","OxBigWinView","OxLoadingView","PayView","RuleView","SlotButton","SlotMsgTipDisplay","TimeDisplay","TipView","UIBalanceView","UIhistory","UIselectdate","VerifyBar","game_1810","UIGameBetCommon","pgGameBetSettingView","env","WebAudio","WebAudioEngine","FullWindow","ShowAllFit","global_config","LightningEffect","SlotBetAmountData","SlotBetAmountDisplay","SlotHoverLightEffect","SlotLangSprite","SlotNumberChangeDisplay","SlotScroll","SlotSymbolDescDisplay","SlotTipDisplay","SlotUtility","cmd","config","audio","i18n-label","i18n","log","res","storage","LanguageData","LocalizedImage","LocalizedLabel","LocalizedMask","LocalizedSprite","SpriteFrameSet","adapter-v2","currency"]);